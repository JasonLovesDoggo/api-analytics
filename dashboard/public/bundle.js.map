{"version":3,"file":"bundle.js","sources":["../node_modules/svelte/internal/index.mjs","../node_modules/svelte/store/index.mjs","../node_modules/svelte-routing/src/contexts.js","../node_modules/svelte-routing/src/history.js","../node_modules/svelte-routing/src/utils.js","../node_modules/svelte-routing/src/Router.svelte","../node_modules/svelte-routing/src/Route.svelte","../src/lib/animate.ts","../src/components/home/Landing.svelte","../src/components/home/Highlight.svelte","../src/lib/framework.ts","../src/components/home/GettingStarted.svelte","../node_modules/svelte-highlight/styles/a11y-dark.js","../src/components/Footer.svelte","../src/routes/Home.svelte","../src/lib/consts.ts","../src/routes/Generate.svelte","../src/routes/SignIn.svelte","../src/lib/period.ts","../src/components/dashboard/Requests.svelte","../src/components/dashboard/Logo.svelte","../src/components/dashboard/ResponseTimes.svelte","../src/components/dashboard/Users.svelte","../src/components/dashboard/Endpoints.svelte","../src/components/dashboard/SuccessRate.svelte","../src/lib/activity.ts","../src/components/dashboard/activity/ActivityRequests.svelte","../src/components/dashboard/activity/ActivityResponseTime.svelte","../src/components/dashboard/activity/ActivitySuccessRate.svelte","../src/components/dashboard/activity/Activity.svelte","../src/components/dashboard/Version.svelte","../src/components/dashboard/UsageTime.svelte","../src/components/dashboard/Location.svelte","../src/lib/cache.ts","../src/lib/candidates.ts","../src/components/dashboard/device/Client.svelte","../src/components/dashboard/device/OperatingSystem.svelte","../src/components/dashboard/device/DeviceType.svelte","../src/components/dashboard/device/Device.svelte","../src/lib/demo.ts","../src/lib/uuid.ts","../src/components/dashboard/List.svelte","../src/components/dashboard/Settings.svelte","../src/components/dashboard/Dropdown.svelte","../src/components/dashboard/Notification.svelte","../src/lib/exportData.ts","../src/components/dashboard/Error.svelte","../src/components/dashboard/TopUsers.svelte","../src/lib/user.ts","../src/routes/Dashboard.svelte","../src/lib/settings.ts","../src/routes/Delete.svelte","../src/components/monitoring/ResponseTime.svelte","../src/components/monitoring/Card.svelte","../src/components/monitoring/TrackNew.svelte","../src/routes/Monitoring.svelte","../src/routes/PrivacyPolicy.svelte","../src/routes/Error.svelte","../src/App.svelte","../src/main.ts"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\nfunction is_promise(value) {\n    return !!value && (typeof value === 'object' || typeof value === 'function') && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\nfunction split_css_unit(value) {\n    const split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n    return split ? [parseFloat(split[1]), split[2] || 'px'] : [value, 'px'];\n}\nconst contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nclass ResizeObserverSingleton {\n    constructor(options) {\n        this.options = options;\n        this._listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n    }\n    observe(element, listener) {\n        this._listeners.set(element, listener);\n        this._getObserver().observe(element, this.options);\n        return () => {\n            this._listeners.delete(element);\n            this._observer.unobserve(element); // this line can probably be removed\n        };\n    }\n    _getObserver() {\n        var _a;\n        return (_a = this._observer) !== null && _a !== void 0 ? _a : (this._observer = new ResizeObserver((entries) => {\n            var _a;\n            for (const entry of entries) {\n                ResizeObserverSingleton.entries.set(entry.target, entry);\n                (_a = this._listeners.get(entry.target)) === null || _a === void 0 ? void 0 : _a(entry);\n            }\n        }));\n    }\n}\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element.sheet;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n    return style.sheet;\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentNode !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    if (node.parentNode) {\n        node.parentNode.removeChild(node);\n    }\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction comment(content) {\n    return document.createComment(content);\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_immediate_propagation(fn) {\n    return function (event) {\n        event.stopImmediatePropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set && always_set_through_set_attribute.indexOf(key) === -1) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data_map(node, data_map) {\n    Object.keys(data_map).forEach((key) => {\n        set_custom_element_data(node, key, data_map[key]);\n    });\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction set_dynamic_element_data(tag) {\n    return (/-/.test(tag)) ? set_custom_element_data_map : set_attributes;\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction init_binding_group(group) {\n    let _inputs;\n    return {\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            _inputs.forEach(input => group.push(input));\n        },\n        /* remove */ r() {\n            _inputs.forEach(input => group.splice(group.indexOf(input), 1));\n        }\n    };\n}\nfunction init_binding_group_dynamic(group, indexes) {\n    let _group = get_binding_group(group);\n    let _inputs;\n    function get_binding_group(group) {\n        for (let i = 0; i < indexes.length; i++) {\n            group = group[indexes[i]] = group[indexes[i]] || [];\n        }\n        return group;\n    }\n    function push() {\n        _inputs.forEach(input => _group.push(input));\n    }\n    function remove() {\n        _inputs.forEach(input => _group.splice(_group.indexOf(input), 1));\n    }\n    return {\n        /* update */ u(new_indexes) {\n            indexes = new_indexes;\n            const new_group = get_binding_group(group);\n            if (new_group !== _group) {\n                remove();\n                _group = new_group;\n                push();\n            }\n        },\n        /* push */ p(...inputs) {\n            _inputs = inputs;\n            push();\n        },\n        /* remove */ r: remove\n    };\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction claim_comment(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 8, (node) => {\n        node.data = '' + data;\n        return undefined;\n    }, () => comment(data), true);\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes, is_svg) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration(undefined, is_svg);\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes, is_svg);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    text.data = data;\n}\nfunction set_data_contenteditable(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable(text, data);\n    }\n    else {\n        set_data(text, data);\n    }\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    if (value == null) {\n        node.style.removeProperty(key);\n    }\n    else {\n        node.style.setProperty(key, value, important ? 'important' : '');\n    }\n}\nfunction select_option(select, value, mounting) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    if (!mounting || value !== undefined) {\n        select.selectedIndex = -1; // no option should be selected\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked');\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_iframe_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n            // make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n            // see https://github.com/sveltejs/svelte/issues/4233\n            fn();\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nconst resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'content-box' });\nconst resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'border-box' });\nconst resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton({ box: 'device-pixel-content-box' });\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, cancelable, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nfunction head_selector(nodeId, head) {\n    const result = [];\n    let started = 0;\n    for (const node of head.childNodes) {\n        if (node.nodeType === 8 /* comment node */) {\n            const comment = node.textContent.trim();\n            if (comment === `HEAD_${nodeId}_END`) {\n                started -= 1;\n                result.push(node);\n            }\n            else if (comment === `HEAD_${nodeId}_START`) {\n                started += 1;\n                result.push(node);\n            }\n        }\n        else if (started > 0) {\n            result.push(node);\n        }\n    }\n    return result;\n}\nclass HtmlTag {\n    constructor(is_svg = false) {\n        this.is_svg = false;\n        this.is_svg = is_svg;\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            if (this.is_svg)\n                this.e = svg_element(target.nodeName);\n            /** #7364  target for <template> may be provided as #document-fragment(11) */\n            else\n                this.e = element((target.nodeType === 11 ? 'TEMPLATE' : target.nodeName));\n            this.t = target.tagName !== 'TEMPLATE' ? target : target.content;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes, is_svg = false) {\n        super(is_svg);\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\nfunction construct_svelte_component(component, props) {\n    return new component(props);\n}\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\nconst managed_styles = new Map();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_style_information(doc, node) {\n    const info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n    managed_styles.set(doc, info);\n    return info;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    const { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n    if (!rules[name]) {\n        rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        managed_styles.forEach(info => {\n            const { ownerNode } = info.stylesheet;\n            // there is no ownerNode if it runs on jsdom.\n            if (ownerNode)\n                detach(ownerNode);\n        });\n        managed_styles.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs#run-time-svelte-beforeupdate\n */\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * `onMount` does not run inside a [server-side component](/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs#run-time-svelte-onmount\n */\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n */\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs#run-time-svelte-ondestroy\n */\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * https://svelte.dev/docs#run-time-svelte-createeventdispatcher\n */\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail, { cancelable = false } = {}) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail, { cancelable });\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n            return !event.defaultPrevented;\n        }\n        return true;\n    };\n}\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-setcontext\n */\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n    return context;\n}\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-getcontext\n */\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs#run-time-svelte-getallcontexts\n */\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs#run-time-svelte-hascontext\n */\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nlet render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\nlet flushidx = 0; // Do *not* move this inside the flush() function\nfunction flush() {\n    // Do not reenter flush while dirty components are updated, as this can\n    // result in an infinite loop. Instead, let the inner flush handle it.\n    // Reentrancy is ok afterwards for bindings etc.\n    if (flushidx !== 0) {\n        return;\n    }\n    const saved_component = current_component;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        try {\n            while (flushidx < dirty_components.length) {\n                const component = dirty_components[flushidx];\n                flushidx++;\n                set_current_component(component);\n                update(component.$$);\n            }\n        }\n        catch (e) {\n            // reset dirty state to not end up in a deadlocked state and then rethrow\n            dirty_components.length = 0;\n            flushidx = 0;\n            throw e;\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        flushidx = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    seen_callbacks.clear();\n    set_current_component(saved_component);\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n */\nfunction flush_render_callbacks(fns) {\n    const filtered = [];\n    const targets = [];\n    render_callbacks.forEach((c) => fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c));\n    targets.forEach((c) => c());\n    render_callbacks = filtered;\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n    else if (callback) {\n        callback();\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    const options = { direction: 'in' };\n    let config = fn(node, params, options);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config(options);\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    const options = { direction: 'out' };\n    let config = fn(node, params, options);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config(options);\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    const options = { direction: 'both' };\n    let config = fn(node, params, options);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config(options);\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    const updates = [];\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            // defer updates until all the DOM shuffling is done\n            updates.push(() => block.p(child_ctx, dirty));\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    run_all(updates);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\nconst _boolean_attributes = [\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'inert',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n];\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n */\nconst boolean_attributes = new Set([..._boolean_attributes]);\n\n/** regex of all html void element names */\nconst void_element_names = /^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;\nfunction is_void(name) {\n    return void_element_names.test(name) || name.toLowerCase() === '!doctype';\n}\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, attrs_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (attrs_to_add) {\n        const classes_to_add = attrs_to_add.classes;\n        const styles_to_add = attrs_to_add.styles;\n        if (classes_to_add) {\n            if (attributes.class == null) {\n                attributes.class = classes_to_add;\n            }\n            else {\n                attributes.class += ' ' + classes_to_add;\n            }\n        }\n        if (styles_to_add) {\n            if (attributes.style == null) {\n                attributes.style = style_object_to_string(styles_to_add);\n            }\n            else {\n                attributes.style = style_object_to_string(merge_ssr_styles(attributes.style, styles_to_add));\n            }\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nfunction merge_ssr_styles(style_attribute, style_directive) {\n    const style_object = {};\n    for (const individual_style of style_attribute.split(';')) {\n        const colon_index = individual_style.indexOf(':');\n        const name = individual_style.slice(0, colon_index).trim();\n        const value = individual_style.slice(colon_index + 1).trim();\n        if (!name)\n            continue;\n        style_object[name] = value;\n    }\n    for (const name in style_directive) {\n        const value = style_directive[name];\n        if (value) {\n            style_object[name] = value;\n        }\n        else {\n            delete style_object[name];\n        }\n    }\n    return style_object;\n}\nconst ATTR_REGEX = /[&\"]/g;\nconst CONTENT_REGEX = /[&<]/g;\n/**\n * Note: this method is performance sensitive and has been optimized\n * https://github.com/sveltejs/svelte/pull/5701\n */\nfunction escape(value, is_attr = false) {\n    const str = String(value);\n    const pattern = is_attr ? ATTR_REGEX : CONTENT_REGEX;\n    pattern.lastIndex = 0;\n    let escaped = '';\n    let last = 0;\n    while (pattern.test(str)) {\n        const i = pattern.lastIndex - 1;\n        const ch = str[i];\n        escaped += str.substring(last, i) + (ch === '&' ? '&amp;' : (ch === '\"' ? '&quot;' : '&lt;'));\n        last = i + 1;\n    }\n    return escaped + str.substring(last);\n}\nfunction escape_attribute_value(value) {\n    // keep booleans, null, and undefined for the sake of `spread`\n    const should_escape = typeof value === 'string' || (value && typeof value === 'object');\n    return should_escape ? escape(value, true) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules. Otherwise you may need to fix a <${name}>.`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    const assignment = (boolean && value === true) ? '' : `=\"${escape(value, true)}\"`;\n    return ` ${name}${assignment}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\nfunction style_object_to_string(style_object) {\n    return Object.keys(style_object)\n        .filter(key => style_object[key])\n        .map(key => `${key}: ${escape_attribute_value(style_object[key])};`)\n        .join(' ');\n}\nfunction add_styles(style_object) {\n    const styles = style_object_to_string(style_object);\n    return styles ? ` style=\"${styles}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n            // if the component was destroyed immediately\n            // it will update the `$$.on_destroy` reference to `null`.\n            // the destructured on_destroy may still reference to the old array\n            if (component.$$.on_destroy) {\n                component.$$.on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        flush_render_callbacks($$.after_update);\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: [],\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            if (!is_function(callback)) {\n                return noop;\n            }\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        if (!is_function(callback)) {\n            return noop;\n        }\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.59.2' }, detail), { bubbles: true }));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation, has_stop_immediate_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    if (has_stop_immediate_propagation)\n        modifiers.push('stopImmediatePropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_contenteditable_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction set_data_maybe_contenteditable_dev(text, data, attr_value) {\n    if (~contenteditable_truthy_values.indexOf(attr_value)) {\n        set_data_contenteditable_dev(text, data);\n    }\n    else {\n        set_data_dev(text, data);\n    }\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nfunction validate_dynamic_element(tag) {\n    const is_string = typeof tag === 'string';\n    if (tag && !is_string) {\n        throw new Error('<svelte:element> expects \"this\" attribute to be a string.');\n    }\n}\nfunction validate_void_dynamic_element(tag) {\n    if (tag && is_void(tag)) {\n        console.warn(`<svelte:element this=\"${tag}\"> is self-closing and cannot have content.`);\n    }\n}\nfunction construct_svelte_component_dev(component, props) {\n    const error_message = 'this={...} of <svelte:component> should specify a Svelte component.';\n    try {\n        const instance = new component(props);\n        if (!instance.$$ || !instance.$set || !instance.$on || !instance.$destroy) {\n            throw new Error(error_message);\n        }\n        return instance;\n    }\n    catch (err) {\n        const { message } = err;\n        if (typeof message === 'string' && message.indexOf('is not a constructor') !== -1) {\n            throw new Error(error_message);\n        }\n        else {\n            throw err;\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, ResizeObserverSingleton, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_iframe_resize_listener, add_location, add_render_callback, add_styles, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_comment, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, comment, component_subscribe, compute_rest_props, compute_slots, construct_svelte_component, construct_svelte_component_dev, contenteditable_truthy_values, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, flush_render_callbacks, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, head_selector, identity, init, init_binding_group, init_binding_group_dynamic, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, is_void, listen, listen_dev, loop, loop_guard, merge_ssr_styles, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, resize_observer_border_box, resize_observer_content_box, resize_observer_device_pixel_content_box, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_custom_element_data_map, set_data, set_data_contenteditable, set_data_contenteditable_dev, set_data_dev, set_data_maybe_contenteditable, set_data_maybe_contenteditable_dev, set_dynamic_element_data, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, split_css_unit, spread, src_url_equal, start_hydrating, stop_immediate_propagation, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_dynamic_element, validate_each_argument, validate_each_keys, validate_slots, validate_store, validate_void_dynamic_element, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier} [start]\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=} start\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0 && stop) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let started = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (started) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        started = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n            // We need to set this to false because callbacks can still happen despite having unsubscribed:\n            // Callbacks might already be placed in the queue which doesn't know it should no longer\n            // invoke this derived store.\n            started = false;\n        };\n    });\n}\n/**\n * Takes a store and returns a new one derived from the old one that is readable.\n *\n * @param store - store to make readonly\n */\nfunction readonly(store) {\n    return {\n        subscribe: store.subscribe.bind(store)\n    };\n}\n\nexport { derived, readable, readonly, writable };\n","export const LOCATION = {};\nexport const ROUTER = {};\n","/**\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/history.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n * */\n\nfunction getLocation(source) {\n  return {\n    ...source.location,\n    state: source.history.state,\n    key: (source.history.state && source.history.state.key) || \"initial\"\n  };\n}\n\nfunction createHistory(source, options) {\n  const listeners = [];\n  let location = getLocation(source);\n\n  return {\n    get location() {\n      return location;\n    },\n\n    listen(listener) {\n      listeners.push(listener);\n\n      const popstateListener = () => {\n        location = getLocation(source);\n        listener({ location, action: \"POP\" });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n\n      return () => {\n        source.removeEventListener(\"popstate\", popstateListener);\n\n        const index = listeners.indexOf(listener);\n        listeners.splice(index, 1);\n      };\n    },\n\n    navigate(to, { state, replace = false } = {}) {\n      state = { ...state, key: Date.now() + \"\" };\n      // try...catch iOS Safari limits to 100 pushState calls\n      try {\n        if (replace) {\n          source.history.replaceState(state, null, to);\n        } else {\n          source.history.pushState(state, null, to);\n        }\n      } catch (e) {\n        source.location[replace ? \"replace\" : \"assign\"](to);\n      }\n\n      location = getLocation(source);\n      listeners.forEach(listener => listener({ location, action: \"PUSH\" }));\n    }\n  };\n}\n\n// Stores history entries in memory for testing or other platforms like Native\nfunction createMemorySource(initialPathname = \"/\") {\n  let index = 0;\n  const stack = [{ pathname: initialPathname, search: \"\" }];\n  const states = [];\n\n  return {\n    get location() {\n      return stack[index];\n    },\n    addEventListener(name, fn) {},\n    removeEventListener(name, fn) {},\n    history: {\n      get entries() {\n        return stack;\n      },\n      get index() {\n        return index;\n      },\n      get state() {\n        return states[index];\n      },\n      pushState(state, _, uri) {\n        const [pathname, search = \"\"] = uri.split(\"?\");\n        index++;\n        stack.push({ pathname, search });\n        states.push(state);\n      },\n      replaceState(state, _, uri) {\n        const [pathname, search = \"\"] = uri.split(\"?\");\n        stack[index] = { pathname, search };\n        states[index] = state;\n      }\n    }\n  };\n}\n\n// Global history uses window.history as the source if available,\n// otherwise a memory history\nconst canUseDOM = Boolean(\n  typeof window !== \"undefined\" &&\n    window.document &&\n    window.document.createElement\n);\nconst globalHistory = createHistory(canUseDOM ? window : createMemorySource());\nconst { navigate } = globalHistory;\n\nexport { globalHistory, navigate, createHistory, createMemorySource };\n","/**\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/utils.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n * */\n\nconst paramRe = /^:(.+)/;\n\nconst SEGMENT_POINTS = 4;\nconst STATIC_POINTS = 3;\nconst DYNAMIC_POINTS = 2;\nconst SPLAT_PENALTY = 1;\nconst ROOT_POINTS = 1;\n\n/**\n * Check if `string` starts with `search`\n * @param {string} string\n * @param {string} search\n * @return {boolean}\n */\nexport function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n}\n\n/**\n * Check if `segment` is a root segment\n * @param {string} segment\n * @return {boolean}\n */\nfunction isRootSegment(segment) {\n  return segment === \"\";\n}\n\n/**\n * Check if `segment` is a dynamic segment\n * @param {string} segment\n * @return {boolean}\n */\nfunction isDynamic(segment) {\n  return paramRe.test(segment);\n}\n\n/**\n * Check if `segment` is a splat\n * @param {string} segment\n * @return {boolean}\n */\nfunction isSplat(segment) {\n  return segment[0] === \"*\";\n}\n\n/**\n * Split up the URI into segments delimited by `/`\n * @param {string} uri\n * @return {string[]}\n */\nfunction segmentize(uri) {\n  return (\n    uri\n      // Strip starting/ending `/`\n      .replace(/(^\\/+|\\/+$)/g, \"\")\n      .split(\"/\")\n  );\n}\n\n/**\n * Strip `str` of potential start and end `/`\n * @param {string} str\n * @return {string}\n */\nfunction stripSlashes(str) {\n  return str.replace(/(^\\/+|\\/+$)/g, \"\");\n}\n\n/**\n * Score a route depending on how its individual segments look\n * @param {object} route\n * @param {number} index\n * @return {object}\n */\nfunction rankRoute(route, index) {\n  const score = route.default\n    ? 0\n    : segmentize(route.path).reduce((score, segment) => {\n        score += SEGMENT_POINTS;\n\n        if (isRootSegment(segment)) {\n          score += ROOT_POINTS;\n        } else if (isDynamic(segment)) {\n          score += DYNAMIC_POINTS;\n        } else if (isSplat(segment)) {\n          score -= SEGMENT_POINTS + SPLAT_PENALTY;\n        } else {\n          score += STATIC_POINTS;\n        }\n\n        return score;\n      }, 0);\n\n  return { route, score, index };\n}\n\n/**\n * Give a score to all routes and sort them on that\n * @param {object[]} routes\n * @return {object[]}\n */\nfunction rankRoutes(routes) {\n  return (\n    routes\n      .map(rankRoute)\n      // If two routes have the exact same score, we go by index instead\n      .sort((a, b) =>\n        a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index\n      )\n  );\n}\n\n/**\n * Ranks and picks the best route to match. Each segment gets the highest\n * amount of points, then the type of segment gets an additional amount of\n * points where\n *\n *  static > dynamic > splat > root\n *\n * This way we don't have to worry about the order of our routes, let the\n * computers do it.\n *\n * A route looks like this\n *\n *  { path, default, value }\n *\n * And a returned match looks like:\n *\n *  { route, params, uri }\n *\n * @param {object[]} routes\n * @param {string} uri\n * @return {?object}\n */\nfunction pick(routes, uri) {\n  let match;\n  let default_;\n\n  const [uriPathname] = uri.split(\"?\");\n  const uriSegments = segmentize(uriPathname);\n  const isRootUri = uriSegments[0] === \"\";\n  const ranked = rankRoutes(routes);\n\n  for (let i = 0, l = ranked.length; i < l; i++) {\n    const route = ranked[i].route;\n    let missed = false;\n\n    if (route.default) {\n      default_ = {\n        route,\n        params: {},\n        uri\n      };\n      continue;\n    }\n\n    const routeSegments = segmentize(route.path);\n    const params = {};\n    const max = Math.max(uriSegments.length, routeSegments.length);\n    let index = 0;\n\n    for (; index < max; index++) {\n      const routeSegment = routeSegments[index];\n      const uriSegment = uriSegments[index];\n\n      if (routeSegment !== undefined && isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/* or /files/*splatname\n        const splatName = routeSegment === \"*\" ? \"*\" : routeSegment.slice(1);\n\n        params[splatName] = uriSegments\n          .slice(index)\n          .map(decodeURIComponent)\n          .join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      let dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        const value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route,\n        params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n}\n\n/**\n * Check if the `path` matches the `uri`.\n * @param {string} path\n * @param {string} uri\n * @return {?object}\n */\nfunction match(route, uri) {\n  return pick([route], uri);\n}\n\n/**\n * Add the query to the pathname if a query is given\n * @param {string} pathname\n * @param {string} [query]\n * @return {string}\n */\nfunction addQuery(pathname, query) {\n  return pathname + (query ? `?${query}` : \"\");\n}\n\n/**\n * Resolve URIs as though every path is a directory, no files. Relative URIs\n * in the browser can feel awkward because not only can you be \"in a directory\",\n * you can be \"at a file\", too. For example:\n *\n *  browserSpecResolve('foo', '/bar/') => /bar/foo\n *  browserSpecResolve('foo', '/bar') => /foo\n *\n * But on the command line of a file system, it's not as complicated. You can't\n * `cd` from a file, only directories. This way, links have to know less about\n * their current path. To go deeper you can do this:\n *\n *  <Link to=\"deeper\"/>\n *  // instead of\n *  <Link to=`{${props.uri}/deeper}`/>\n *\n * Just like `cd`, if you want to go deeper from the command line, you do this:\n *\n *  cd deeper\n *  # not\n *  cd $(pwd)/deeper\n *\n * By treating every path as a directory, linking to relative paths should\n * require less contextual information and (fingers crossed) be more intuitive.\n * @param {string} to\n * @param {string} base\n * @return {string}\n */\nfunction resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  const [toPathname, toQuery] = to.split(\"?\");\n  const [basePathname] = base.split(\"?\");\n  const toSegments = segmentize(toPathname);\n  const baseSegments = segmentize(basePathname);\n\n  // ?a=b, /users?b=c => /users?a=b\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  }\n\n  // profile, /users/789 => /users/789/profile\n  if (!startsWith(toSegments[0], \".\")) {\n    const pathname = baseSegments.concat(toSegments).join(\"/\");\n\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  }\n\n  // ./       , /users/123 => /users/123\n  // ../      , /users/123 => /users\n  // ../..    , /users/123 => /\n  // ../../one, /a/b/c/d   => /a/b/one\n  // .././one , /a/b/c/d   => /a/b/c/one\n  const allSegments = baseSegments.concat(toSegments);\n  const segments = [];\n\n  allSegments.forEach(segment => {\n    if (segment === \"..\") {\n      segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n}\n\n/**\n * Combines the `basepath` and the `path` into one path.\n * @param {string} basepath\n * @param {string} path\n */\nfunction combinePaths(basepath, path) {\n  return `${stripSlashes(\n    path === \"/\" ? basepath : `${stripSlashes(basepath)}/${stripSlashes(path)}`\n  )}/`;\n}\n\n/**\n * Decides whether a given `event` should result in a navigation or not.\n * @param {object} event\n */\nfunction shouldNavigate(event) {\n  return (\n    !event.defaultPrevented &&\n    event.button === 0 &&\n    !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)\n  );\n}\n\nfunction hostMatches(anchor) {\n  const host = location.host\n  return (\n    anchor.host == host ||\n    // svelte seems to kill anchor.host value in ie11, so fall back to checking href\n    anchor.href.indexOf(`https://${host}`) === 0 ||\n    anchor.href.indexOf(`http://${host}`) === 0\n  )\n}\n\nexport { stripSlashes, pick, match, resolve, combinePaths, shouldNavigate, hostMatches };\n","<script>\n  import { getContext, setContext, onMount } from \"svelte\";\n  import { writable, derived } from \"svelte/store\";\n  import { LOCATION, ROUTER } from \"./contexts.js\";\n  import { globalHistory } from \"./history.js\";\n  import { pick, match, stripSlashes, combinePaths } from \"./utils.js\";\n\n  export let basepath = \"/\";\n  export let url = null;\n\n  const locationContext = getContext(LOCATION);\n  const routerContext = getContext(ROUTER);\n\n  const routes = writable([]);\n  const activeRoute = writable(null);\n  let hasActiveRoute = false; // Used in SSR to synchronously set that a Route is active.\n\n  // If locationContext is not set, this is the topmost Router in the tree.\n  // If the `url` prop is given we force the location to it.\n  const location =\n    locationContext ||\n    writable(url ? { pathname: url } : globalHistory.location);\n\n  // If routerContext is set, the routerBase of the parent Router\n  // will be the base for this Router's descendants.\n  // If routerContext is not set, the path and resolved uri will both\n  // have the value of the basepath prop.\n  const base = routerContext\n    ? routerContext.routerBase\n    : writable({\n        path: basepath,\n        uri: basepath\n      });\n\n  const routerBase = derived([base, activeRoute], ([base, activeRoute]) => {\n    // If there is no activeRoute, the routerBase will be identical to the base.\n    if (activeRoute === null) {\n      return base;\n    }\n\n    const { path: basepath } = base;\n    const { route, uri } = activeRoute;\n    // Remove the potential /* or /*splatname from\n    // the end of the child Routes relative paths.\n    const path = route.default ? basepath : route.path.replace(/\\*.*$/, \"\");\n\n    return { path, uri };\n  });\n\n  function registerRoute(route) {\n    const { path: basepath } = $base;\n    let { path } = route;\n\n    // We store the original path in the _path property so we can reuse\n    // it when the basepath changes. The only thing that matters is that\n    // the route reference is intact, so mutation is fine.\n    route._path = path;\n    route.path = combinePaths(basepath, path);\n\n    if (typeof window === \"undefined\") {\n      // In SSR we should set the activeRoute immediately if it is a match.\n      // If there are more Routes being registered after a match is found,\n      // we just skip them.\n      if (hasActiveRoute) {\n        return;\n      }\n\n      const matchingRoute = match(route, $location.pathname);\n      if (matchingRoute) {\n        activeRoute.set(matchingRoute);\n        hasActiveRoute = true;\n      }\n    } else {\n      routes.update(rs => {\n        rs.push(route);\n        return rs;\n      });\n    }\n  }\n\n  function unregisterRoute(route) {\n    routes.update(rs => {\n      const index = rs.indexOf(route);\n      rs.splice(index, 1);\n      return rs;\n    });\n  }\n\n  // This reactive statement will update all the Routes' path when\n  // the basepath changes.\n  $: {\n    const { path: basepath } = $base;\n    routes.update(rs => {\n      rs.forEach(r => (r.path = combinePaths(basepath, r._path)));\n      return rs;\n    });\n  }\n  // This reactive statement will be run when the Router is created\n  // when there are no Routes and then again the following tick, so it\n  // will not find an active Route in SSR and in the browser it will only\n  // pick an active Route after all Routes have been registered.\n  $: {\n    const bestMatch = pick($routes, $location.pathname);\n    activeRoute.set(bestMatch);\n  }\n\n  if (!locationContext) {\n    // The topmost Router in the tree is responsible for updating\n    // the location store and supplying it through context.\n    onMount(() => {\n      const unlisten = globalHistory.listen(history => {\n        location.set(history.location);\n      });\n\n      return unlisten;\n    });\n\n    setContext(LOCATION, location);\n  }\n\n  setContext(ROUTER, {\n    activeRoute,\n    base,\n    routerBase,\n    registerRoute,\n    unregisterRoute\n  });\n</script>\n\n<slot></slot>\n","<script>\n  import { getContext, onDestroy } from \"svelte\";\n  import { ROUTER, LOCATION } from \"./contexts.js\";\n\n  export let path = \"\";\n  export let component = null;\n\n  const { registerRoute, unregisterRoute, activeRoute } = getContext(ROUTER);\n  const location = getContext(LOCATION);\n\n  const route = {\n    path,\n    // If no path prop is given, this Route will act as the default Route\n    // that is rendered if no other Route in the Router is a match.\n    default: path === \"\"\n  };\n  let routeParams = {};\n  let routeProps = {};\n\n  $: if ($activeRoute && $activeRoute.route === route) {\n    routeParams = $activeRoute.params;\n  }\n\n  $: {\n    const { path, component, ...rest } = $$props;\n    routeProps = rest;\n  }\n\n  registerRoute(route);\n\n  // There is no need to unregister Routes in SSR since it will all be\n  // thrown away anyway.\n  if (typeof window !== \"undefined\") {\n    onDestroy(() => {\n      unregisterRoute(route);\n    });\n  }\n</script>\n\n{#if $activeRoute !== null && $activeRoute.route === route}\n  {#if component !== null}\n    <svelte:component this=\"{component}\" location={$location} {...routeParams} {...routeProps}  />\n  {:else}\n    <slot params=\"{routeParams}\" location={$location}></slot>\n  {/if}\n{/if}\n","let translation = 1.7;\r\nexport default function animate() {\r\n    translation = -translation;\r\n    const el = document.getElementById('hover-1');\r\n    el.style.transform = `translateY(${translation}%)`;\r\n    const el2 = document.getElementById('hover-2');\r\n    el2.style.transform = `translateY(${-translation}%)`;\r\n    setTimeout(animate, 9000);\r\n}\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport animate from '../../lib/animate';\r\n\r\n\tonMount(() => {\r\n\t\t// Wait until images are rendered\r\n\t\tsetTimeout(animate, 10);\r\n\t});\r\n</script>\r\n\r\n<div class=\"landing-page-container\">\r\n\t<div class=\"landing-page\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<h1>API Analytics</h1>\r\n\t\t\t<h2>Monitoring and analytics for API frameworks.</h2>\r\n\t\t\t<div class=\"links\">\r\n\t\t\t\t<a href=\"/generate\" class=\"link\">\r\n\t\t\t\t\t<div class=\"text\">\r\n\t\t\t\t\t\tTry now – it's <span class=\"italic\">free</span>\r\n\t\t\t\t\t</div></a\r\n\t\t\t\t>\r\n\t\t\t\t<a href=\"/dashboard/demo\" class=\"link secondary\">\r\n\t\t\t\t\t<div class=\"text\">Demo</div></a\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div style=\"position: relative\" class=\"right\">\r\n\t\t\t<img class=\"logo\" src=\"img/home-logo2.png\" alt=\"\" />\r\n\t\t\t<img\r\n\t\t\t\tid=\"hover-1\"\r\n\t\t\t\tstyle=\"position: absolute;\"\r\n\t\t\t\tclass=\"logo animated\"\r\n\t\t\t\tsrc=\"img/animated5.png\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t<img\r\n\t\t\t\tid=\"hover-2\"\r\n\t\t\t\tstyle=\"position: absolute;\"\r\n\t\t\t\tclass=\"logo animated\"\r\n\t\t\t\tsrc=\"img/animated6.png\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.landing-page {\r\n\t\tdisplay: flex;\r\n\t\tplace-items: center;\r\n\t\tpadding-bottom: 6em;\r\n\t}\r\n\t.landing-page-container {\r\n\t\tdisplay: grid;\r\n\t\tmargin: 0 12% 0 15%;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t.left {\r\n\t\tflex: 1;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.right {\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.logo {\r\n\t\tmax-width: 1400px;\r\n\t\twidth: 700px;\r\n\t\tmargin-bottom: -50px;\r\n\t}\r\n\r\n\th1 {\r\n\t\tfont-size: 3.4em;\r\n\t}\r\n\r\n\th2 {\r\n\t\tcolor: white;\r\n\t\tfont-size: 1.5em;\r\n\t}\r\n\r\n\t.links {\r\n\t\tcolor: var(--dim-text);\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 30px;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.link {\r\n\t\twidth: fit-content;\r\n\t\tmargin-right: 20px;\r\n\t\tfont-size: 0.9;\r\n\t}\r\n\t.link:hover {\r\n\t\tbackground: #31aa73;\r\n\t}\r\n\r\n\t.secondary {\r\n\t\tbackground: var(--background);\r\n\t\tborder: 3px solid var(--highlight);\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.secondary:hover {\r\n\t\tbackground: var(--dark-green);\r\n\t}\r\n\r\n\ta {\r\n\t\tbackground: var(--highlight);\r\n\t\tcolor: black;\r\n\t\tpadding: 10px 20px;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.italic {\r\n\t\tfont-style: italic;\r\n\t}\r\n\r\n\t#hover-1 {\r\n\t\ttransform: translateY(3.7%);\r\n\t}\r\n\t#hover-2 {\r\n\t\ttransform: translateY(-3.7%);\r\n\t}\r\n\r\n\t.animated {\r\n\t\ttransition: all 10s ease-in-out;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1500px) {\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 6% 0 7%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1300px) {\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 5% 0 6%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1200px) {\r\n\t\t.landing-page {\r\n\t\t\tflex-direction: column-reverse;\r\n\t\t}\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 2em;\r\n\t\t}\r\n\r\n\t\t.logo {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 800px) {\r\n\t\t.right {\r\n\t\t\tmargin-top: 2em;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 700px) {\r\n\t\th1 {\r\n\t\t\tfont-size: 2.5em;\r\n\t\t}\r\n\t\th2 {\r\n\t\t\tfont-size: 1.2em;\r\n\t\t}\r\n\t\t.landing-page-container {\r\n\t\t\tmin-height: unset;\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n\t\t.landing-page {\r\n\t\t\tpadding-bottom: 8em;\r\n\t\t}\r\n\r\n\t\t.logo {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\texport let title: string, description: string, img: string, path: string;\r\n</script>\r\n\r\n<div class=\"dashboard\">\r\n\t<div class=\"dashboard-title-container\">\r\n\t\t<img class=\"lightning-top\" src=\"img/logo.png\" alt=\"\" />\r\n\t\t<h1 class=\"dashboard-title\">{title}</h1>\r\n\t</div>\r\n\t<div class=\"dashboard-content\">\r\n\t\t<div class=\"dashboard-content-text\">\r\n\t\t\t{description}\r\n\t\t</div>\r\n\t\t<div class=\"dashboard-btn-container\">\r\n\t\t\t<a href={path} class=\"dashboard-btn secondary\">\r\n\t\t\t\t<div class=\"dashboard-btn-text\">Open</div>\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n\t<img class=\"dashboard-img\" src=\"img/{img}\" alt=\"\" />\r\n</div>\r\n\r\n<style scoped>\r\n\th1 {\r\n\t\tfont-size: 3.4em;\r\n\t}\r\n\r\n\t.secondary {\r\n\t\tbackground: var(--background);\r\n\t\tborder: 3px solid var(--highlight);\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.secondary:hover {\r\n\t\tbackground: var(--dark-green);\r\n\t}\r\n\r\n\t.lightning-top {\r\n\t\theight: 60px;\r\n\t}\r\n\r\n\t.dashboard-title-container {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 2em 4em;\r\n\t}\r\n\r\n\ta {\r\n\t\tbackground: var(--highlight);\r\n\t\tcolor: black;\r\n\t\tpadding: 10px 20px;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t.dashboard {\r\n\t\tborder: 3px solid var(--highlight);\r\n\t\twidth: 80%;\r\n\t\tborder-radius: 10px;\r\n\t\tmargin: auto;\r\n\t\tmargin-bottom: 8em;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t\tz-index: 2;\r\n\t}\r\n\t.dashboard-title {\r\n\t\tfont-size: 2.5em;\r\n\t\ttext-align: left;\r\n\t\tmargin: 0.05em 0.6em auto 0.6em;\r\n\t}\r\n\t.dashboard-title-container {\r\n\t\tplace-content: center;\r\n\t}\r\n\t.dashboard-img {\r\n\t\twidth: 81%;\r\n\t\tborder-radius: 10px;\r\n\t\tbox-shadow: 0px 24px 120px -25px var(--highlight);\r\n\t\tmargin-bottom: -1%;\r\n\t}\r\n\t.dashboard-content {\r\n\t\ttext-align: left;\r\n\t\tcolor: white;\r\n\t\tmargin: 0 5em 4em;\r\n\t}\r\n\t.dashboard-content-text {\r\n\t\tfont-size: 1.1em;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.dashboard-btn-container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 2em;\r\n\t}\r\n\t.dashboard-btn-text {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1200px) {\r\n\t\t.dashboard {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin-bottom: 4em;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 700px) {\r\n\t\th1 {\r\n\t\t\tfont-size: 2.5em;\r\n\t\t}\r\n\t\t.dashboard {\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n\r\n\t\t.lightning-top {\r\n\t\t\theight: 40px;\r\n\t\t\tmargin-top: auto;\r\n\t\t}\r\n\t\t.dashboard-title {\r\n\t\t\tmargin: 0.2em 0.5em auto 0.7em;\r\n\t\t}\r\n\t\t.dashboard-img {\r\n\t\t\tmargin-bottom: -3%;\r\n\t\t}\r\n\t\t.dashboard-content {\r\n\t\t\tmargin: 0 2em 4em;\r\n\t\t}\r\n\t}\r\n</style>\r\n","const frameworkExamples = {\r\n    Django: {\r\n        install: 'pip install api-analytics',\r\n        codeFile: 'settings.py',\r\n        example: `ANALYTICS_API_KEY = <API-KEY>\r\n\r\nMIDDLEWARE = [\r\n    'api_analytics.django.Analytics',\r\n    ...\r\n]`,\r\n    },\r\n    Flask: {\r\n        install: 'pip install api-analytics',\r\n        example: `from flask import Flask\r\nfrom api_analytics.flask import add_middleware\r\n\r\napp = Flask(__name__)\r\nadd_middleware(app, <API-KEY>)  # Add middleware\r\n\r\n@app.get('/')\r\ndef root():\r\n    return {'message': 'Hello, World!'}\r\n\r\nif __name__ == '__main__':\r\n    app.run()`,\r\n    },\r\n    FastAPI: {\r\n        install: 'pip install fastapi-analytics',\r\n        example: `import uvicorn\r\nfrom fastapi import FastAPI\r\nfrom api_analytics.fastapi import Analytics\r\n\r\napp = FastAPI()\r\napp.add_middleware(Analytics, api_key=<API-KEY>)  # Add middleware\r\n\r\n@app.get('/')\r\nasync def root():\r\n    return {'message': 'Hello, World!'}\r\n\r\nif __name__ == '__main__':\r\n    uvicorn.run('app:app', reload=True)`,\r\n    },\r\n    Tornado: {\r\n        install: 'pip install tornado-analytics',\r\n        example: `import asyncio\r\nfrom tornado.web import Application\r\nfrom api_analytics.tornado import Analytics\r\n\r\n# Inherit from the Analytics middleware class\r\nclass MainHandler(Analytics):\r\n    def __init__(self, app, res):\r\n        super().__init__(app, res, <API-KEY>)  # Provide api key\r\n    \r\n    def get(self):\r\n        self.write({'message': 'Hello, World!'})\r\n\r\ndef make_app():\r\n    return Application([\r\n        (r'/', MainHandler),\r\n    ])\r\n\r\nif __name__ == '__main__':\r\n    app = make_app()\r\n    app.listen(8080)\r\n    IOLoop.instance().start()`,\r\n    },\r\n    Express: {\r\n        install: 'npm install node-api-analytics',\r\n        example: `import express from 'express';\r\nimport { expressAnalytics } from 'node-api-analytics';\r\n\r\nconst app = express();\r\n\r\napp.use(expressAnalytics(<API-KEY>)); // Add middleware\r\n\r\napp.get('/', (req, res) => {\r\n    res.send({ message: 'Hello, World!' });\r\n});\r\n\r\napp.listen(8080, () => {\r\n    console.log('Server listening at http://localhost:8080');\r\n})`,\r\n    },\r\n    Fastify: {\r\n        install: 'npm install node-api-analytics',\r\n        example: `import Fastify from 'fastify';\r\nimport { fastifyAnalytics } from 'node-api-analytics';\r\n\r\nconst fastify = Fastify();\r\n\r\nfastify.addHook('onRequest', fastifyAnalytics(<API-KEY>)); // Add middleware\r\n\r\nfastify.get('/', function (request, reply) {\r\n    reply.send({ message: 'Hello, World!' });\r\n})\r\n\r\nfastify.listen({ port: 8080 }, function (err, address) {\r\n    console.log('Server listening at http://localhost:8080');\r\n    if (err) {\r\n        fastify.log.error(err);\r\n        process.exit(1);\r\n    }\r\n})`,\r\n    },\r\n    Koa: {\r\n        install: 'npm install node-api-analytics',\r\n        example: `import Koa from \"koa\";\r\nimport { koaAnalytics } from 'node-api-analytics';\r\n\r\nconst app = new Koa();\r\n\r\napp.use(koaAnalytics(<API-KEY>)); // Add middleware\r\n\r\napp.use((ctx) => {\r\n    ctx.body = { message: 'Hello, World!' };\r\n});\r\n\r\napp.listen(8080, () =>\r\n    console.log('Server listening at https://localhost:8080')\r\n); `,\r\n    },\r\n    Gin: {\r\n        install: 'go get -u github.com/tom-draper/api-analytics/analytics/go/gin',\r\n        example: `package main\r\n\r\nimport(\r\n    \"net/http\"\r\n    \"github.com/gin-gonic/gin\"\r\n    analytics \"github.com/tom-draper/api-analytics/analytics/go/gin\"\r\n)\r\n\r\nfunc root(c * gin.Context) {\r\n    jsonData:= []byte(\\`{\"message\": \"Hello, World!\"}\\`)\r\n    c.Data(http.StatusOK, \"application/json\", jsonData)\r\n}\r\n\r\nfunc main() {\r\n    router := gin.Default()\r\n    \r\n    router.Use(analytics.Analytics(<API-KEY>)) // Add middleware\r\n\r\n    router.GET(\"/\", root)\r\n    router.Run(\":8080\")\r\n}`,\r\n    },\r\n    Echo: {\r\n        install: 'go get -u github.com/tom-draper/api-analytics/analytics/go/echo',\r\n        example: `package main\r\n\r\nimport (\r\n    \"net/http\"\r\n    echo \"github.com/labstack/echo/v4\"\r\n    analytics \"github.com/tom-draper/api-analytics/analytics/go/echo\"\r\n)\r\n\r\nfunc root(c echo.Context) error {\r\n    jsonData := []byte(\\`{\"message\": \"Hello, World!\"}\\`)\r\n    return c.JSON(http.StatusOK, jsonData)\r\n}\r\n\r\nfunc main() {\r\n    router := echo.New()\r\n\r\n    router.Use(analytics.Analytics(<API-KEY>))\r\n\r\n    router.GET(\"/\", root)\r\n    router.Start(\":8080\")\r\n}`,\r\n    },\r\n    Fiber: {\r\n        install: 'go get -u github.com/tom-draper/api-analytics/analytics/go/fiber',\r\n        example: `package main\r\n\r\nimport (\r\n    \"github.com/gofiber/fiber/v2\"\r\n    analytics \"github.com/tom-draper/api-analytics/analytics/go/fiber\"\r\n)\r\n\r\nfunc root(c *fiber.Ctx) error {\r\n    jsonData := []byte(\\`{\"message\": \"Hello, World!\"}\\`)\r\n    return c.SendString(string(jsonData))\r\n}\r\n\r\nfunc main() {\r\n    app := fiber.New()\r\n\r\n    app.Use(analytics.Analytics(<API-KEY>)) // Add middleware\r\n\r\n    app.Get(\"/\", root)\r\n    app.Listen(\":8080\")\r\n}`,\r\n    },\r\n    Chi: {\r\n        install: 'go get -u github.com/tom-draper/api-analytics/analytics/go/chi',\r\n        example: `package main\r\n\r\nimport (\r\n    \"net/http\"\r\n    \"github.com/go-chi/chi/v5\"\r\n    analytics \"github.com/tom-draper/api-analytics/analytics/go/chi\"\r\n)\r\n\r\nfunc root(w http.ResponseWriter, r *http.Request) {\r\n    w.Header().Set(\"Content-Type\", \"application/json\")\r\n    w.WriteHeader(http.StatusOK)\r\n    jsonData := []byte(\\`{\"message\": \"Hello, World!\"}\\`)\r\n    w.Write(jsonData)\r\n}\r\n\r\nfunc main() {\r\n    router := chi.NewRouter()\r\n\r\n    router.Use(analytics.Analytics(<API-KEY>)) // Add middleware\r\n\r\n    router.GET(\"/\", root)\r\n    router.Run(\":8080\")\r\n}`,\r\n    },\r\n    Actix: {\r\n        install: 'cargo add actix-analytics',\r\n        example: `use actix_web::{get, web, App, HttpServer, Responder, Result};\r\nuse serde::Serialize;\r\nuse actix_analytics::Analytics;\r\n\r\n#[derive(Serialize)]\r\nstruct JsonData {\r\n    message: String,\r\n}\r\n\r\n#[get(\"/\")]\r\nasync fn index() -> Result<impl Responder> {\r\n    let data = JsonData {\r\n        message: \"Hello, World!\".to_string(),\r\n    };\r\n    Ok(web::Json(data))\r\n}\r\n\r\n#[actix_web::main]\r\nasync fn main() -> std::io::Result<()> {\r\n    HttpServer::new(|| {\r\n        App::new()\r\n            .wrap(Analytics::new(<API-KEY>))  // Add middleware\r\n            .service(index)\r\n    })\r\n    .bind((\"127.0.0.1\", 8080))?\r\n    .run()\r\n    .await\r\n}`,\r\n    },\r\n    Axum: {\r\n        install: 'cargo add axum-analytics',\r\n        example: `use axum::{\r\n    routing::get,\r\n    Json, Router,\r\n};\r\nuse serde::Serialize;\r\nuse std::net::SocketAddr;\r\nuse tokio;\r\nuse axum_analytics::Analytics;\r\n\r\n#[derive(Serialize)]\r\nstruct JsonData {\r\n    message: String,\r\n}\r\n\r\nasync fn root() -> Json<JsonData> {\r\n    let data = JsonData {\r\n        message: \"Hello, World!\".to_string(),\r\n    };\r\n    Json(data)\r\n}\r\n\r\n#[tokio::main]\r\nasync fn main() {\r\n    let app = Router::new()\r\n        .layer(Analytics::new(<API-KEY>))  // Add middleware\r\n        .route(\"/\", get(root));\r\n\r\n    let addr = SocketAddr::from(([127, 0, 0, 1], 8080));\r\n    axum::Server::bind(&addr)\r\n        .serve(app.into_make_service())\r\n        .await\r\n        .unwrap();\r\n}`,\r\n    },\r\n    Rocket: {\r\n        install: 'cargo add rocket-analytics',\r\n        example: `#[macro_use]\r\nextern crate rocket;\r\nuse rocket::serde::json::Json;\r\nuse serde::Serialize;\r\nuse rocket_analytics::Analytics;\r\n\r\n#[derive(Serialize)]\r\npub struct JsonData {\r\n    message: String,\r\n}\r\n\r\n#[get(\"/\")]\r\nfn root() -> Json<JsonData> {\r\n    let data = JsonData {\r\n        message: \"Hello, World!\".to_string(),\r\n    };\r\n    Json(data)\r\n}\r\n\r\n#[launch]\r\nfn rocket() -> _ {\r\n    rocket::build()\r\n        .mount(\"/\", routes![root])\r\n        .attach(Analytics::new(<API-KEY>))  // Add middleware\r\n}`,\r\n    },\r\n    Rails: {\r\n        install: 'gem install api_analytics',\r\n        codeFile: 'config/application.rb',\r\n        example: `require 'rails'\r\nrequire 'api_analytics'\r\n\r\nBundler.require(*Rails.groups)\r\n\r\nmodule RailsMiddleware\r\n  class Application < Rails::Application\r\n    config.load_defaults 6.1\r\n    config.api_only = true\r\n\r\n    config.middleware.use ::Analytics::Rails, <API-KEY> # Add middleware\r\n  end\r\nend`,\r\n    },\r\n    Sinatra: {\r\n        install: 'gem install api_analytics',\r\n        example: `require 'sinatra'\r\nrequire 'api_analytics'\r\n\r\nuse Analytics::Sinatra, <API-KEY> # Add middleware\r\n\r\nbefore do\r\n    content_type 'application/json'\r\nend\r\n\r\nget '/' do\r\n    {message: 'Hello, World!'}.to_json\r\nend`,\r\n    },\r\n    Laravel: {\r\n        install: 'coming soon',\r\n        codeFile: 'app/Http/Kernel.php',\r\n        example: `protected $middleware = [\r\n    \\\\App\\\\Http\\\\Middleware\\\\Analytics::class,\r\n    ...\r\n]`,\r\n    },\r\n    'ASP.NET Core': {\r\n        install: 'dotnet add package APIAnalytics.AspNetCore',\r\n        example: `using analytics;\r\nusing Microsoft.AspNetCore.Mvc;\r\n\r\nvar builder = WebApplication.CreateBuilder(args);\r\n\r\nvar app = builder.Build();\r\n\r\napp.UseAnalytics(<API-KEY>); // Add middleware\r\n\r\napp.MapGet(\"/\", () =>\r\n{\r\n    return Results.Ok(new OkObjectResult(new { message = \"Hello, World!\" }));\r\n});\r\n\r\napp.Run();`,\r\n    },\r\n};\r\nexport default frameworkExamples;\r\n","<script lang=\"ts\">\r\n\timport codeStyle from 'svelte-highlight/styles/a11y-dark';\r\n\timport frameworkExamples from '../../lib/framework';\r\n\r\n\tfunction setFramework(value: Framework) {\r\n\t\tcurrentFramework = value;\r\n\t}\r\n\r\n\ttype Framework = {\r\n\t\tlanguage:\r\n\t\t\t| 'python'\r\n\t\t\t| 'javascript'\r\n\t\t\t| 'go'\r\n\t\t\t| 'rust'\r\n\t\t\t| 'ruby'\r\n\t\t\t| 'csharp'\r\n\t\t\t| 'php';\r\n\t\tframework: string;\r\n\t};\r\n\r\n\tconst frameworks: Framework[] = [\r\n\t\t{ language: 'python', framework: 'FastAPI' },\r\n\t\t{ language: 'python', framework: 'Flask' },\r\n\t\t{ language: 'python', framework: 'Django' },\r\n\t\t{ language: 'python', framework: 'Tornado' },\r\n\t\t{ language: 'javascript', framework: 'Express' },\r\n\t\t{ language: 'javascript', framework: 'Fastify' },\r\n\t\t{ language: 'javascript', framework: 'Koa' },\r\n\t\t{ language: 'go', framework: 'Gin' },\r\n\t\t{ language: 'go', framework: 'Echo' },\r\n\t\t{ language: 'go', framework: 'Fiber' },\r\n\t\t{ language: 'go', framework: 'Chi' },\r\n\t\t{ language: 'rust', framework: 'Actix' },\r\n\t\t{ language: 'rust', framework: 'Axum' },\r\n\t\t{ language: 'rust', framework: 'Rocket' },\r\n\t\t{ language: 'ruby', framework: 'Rails' },\r\n\t\t{ language: 'ruby', framework: 'Sinatra' },\r\n\t\t{ language: 'csharp', framework: 'ASP.NET Core' },\r\n\t];\r\n\tlet currentFramework = frameworks[0];\r\n</script>\r\n\r\n<svelte:head>\r\n\t<link href=\"prism.css\" rel=\"stylesheet\" />\r\n\t<script src=\"prism.js\"></script>\r\n\t<!-- eslint-disable-next-line svelte/no-at-html-tags -->\r\n\t{@html codeStyle}\r\n</svelte:head>\r\n\r\n<div class=\"gradient-container\">\r\n\t<div class=\"left-gradient gradient\" />\r\n\t<div class=\"right-gradient gradient\" />\r\n\t<div class=\"radial-dimmer dimmer\" />\r\n\t<div class=\"linear-dimmer dimmer\" />\r\n</div>\r\n<div class=\"add-middleware\">\r\n\t<div class=\"add-middleware-title\">Getting Started</div>\r\n\t<div class=\"frameworks\">\r\n\t\t{#each frameworks as { language, framework }}\r\n\t\t\t<button\r\n\t\t\t\tclass=\"framework {language}\"\r\n\t\t\t\tclass:active={currentFramework.framework === framework}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetFramework({ language, framework });\r\n\t\t\t\t}}>{framework}</button\r\n\t\t\t>\r\n\t\t{/each}\r\n\t</div>\r\n\t<div class=\"add-middleware-content\">\r\n\t\t<div class=\"instructions-container\">\r\n\t\t\t<div class=\"instructions\">\r\n\t\t\t\t<div class=\"subtitle\">Install</div>\r\n\t\t\t\t<code class=\"installation\"\r\n\t\t\t\t\t>{frameworkExamples[currentFramework.framework]\r\n\t\t\t\t\t\t.install}</code\r\n\t\t\t\t>\r\n\t\t\t\t<div class=\"subtitle\">Add middleware to API</div>\r\n\t\t\t\t<!-- Render all code snippets to apply one-time syntax highlighting -->\r\n\t\t\t\t<!-- TODO: dynamic syntax highlight rendering to only render the \r\n            frameworks clicked on and reduce this code to one line -->\r\n\t\t\t\t<div class=\"code-file\">\r\n\t\t\t\t\t{frameworkExamples[currentFramework.framework].codeFile ??\r\n\t\t\t\t\t\t''}\r\n\t\t\t\t</div>\r\n\t\t\t\t{#each frameworks as { language, framework }}\r\n\t\t\t\t\t<code\r\n\t\t\t\t\t\tid=\"code\"\r\n\t\t\t\t\t\tclass=\"code language-{language}\"\r\n\t\t\t\t\t\tclass:display-framework={currentFramework.framework ===\r\n\t\t\t\t\t\t\tframework}\r\n\t\t\t\t\t\t>{frameworkExamples[framework].example}</code\r\n\t\t\t\t\t>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.gradient-container {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\theight: 800px;\r\n\t\tz-index: 1;\r\n\t\tmargin-top: -15em;\r\n\t}\r\n\t.gradient {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: conic-gradient(\r\n\t\t\tfrom 270deg,\r\n\t\t\tvar(--highlight),\r\n\t\t\tvar(--dark-background)\r\n\t\t);\r\n\t\tfilter: brightness(1.05);\r\n\t}\r\n\t.left-gradient {\r\n\t\tmargin-left: auto;\r\n\t\ttransform: scale(-1, 1);\r\n\t\tmargin-right: -1px;\r\n\t}\r\n\t.right-gradient {\r\n\t\tmargin-right: auto;\r\n\t\tmargin-left: -1px;\r\n\t}\r\n\t.dimmer {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t.radial-dimmer {\r\n\t\tbackground: radial-gradient(transparent, var(--background));\r\n\t}\r\n\t.linear-dimmer {\r\n\t\tbackground: linear-gradient(\r\n\t\t\tvar(--background),\r\n\t\t\ttransparent,\r\n\t\t\tvar(--background)\r\n\t\t);\r\n\t}\r\n\r\n\t.display-framework {\r\n\t\tdisplay: unset !important;\r\n\t}\r\n\r\n\t.landing-page {\r\n\t\tdisplay: flex;\r\n\t\tplace-items: center;\r\n\t\tpadding-bottom: 6em;\r\n\t}\r\n\t.landing-page-container {\r\n\t\tdisplay: grid;\r\n\t\tmargin: 0 12% 0 15%;\r\n\t\tmin-height: 100vh;\r\n\t}\r\n\t.left {\r\n\t\tflex: 1;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.right {\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.logo {\r\n\t\tmax-width: 1400px;\r\n\t\twidth: 700px;\r\n\t\tmargin-bottom: -50px;\r\n\t}\r\n\r\n\t.links {\r\n\t\tcolor: var(--dim-text);\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 30px;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.link {\r\n\t\twidth: fit-content;\r\n\t\tmargin-right: 20px;\r\n\t\tfont-size: 0.9;\r\n\t}\r\n\t.link:hover {\r\n\t\tbackground: #31aa73;\r\n\t}\r\n\r\n\t.secondary {\r\n\t\tbackground: var(--background);\r\n\t\tborder: 3px solid var(--highlight);\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.secondary:hover {\r\n\t\tbackground: var(--dark-green);\r\n\t}\r\n\r\n\t.lightning-top {\r\n\t\theight: 65px;\r\n\t}\r\n\r\n\t.dashboard-title-container {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 2em 4em;\r\n\t}\r\n\r\n\t.italic {\r\n\t\tfont-style: italic;\r\n\t}\r\n\t.dashboard {\r\n\t\tborder: 3px solid var(--highlight);\r\n\t\twidth: 80%;\r\n\t\tborder-radius: 10px;\r\n\t\tmargin: auto;\r\n\t\tmargin-bottom: 8em;\r\n\t\toverflow: hidden;\r\n\t\tposition: relative;\r\n\t}\r\n\t.dashboard-title {\r\n\t\tfont-size: 2.5em;\r\n\t\ttext-align: left;\r\n\t\tmargin: 0.2em 1em auto 1em;\r\n\t}\r\n\t.dashboard-title-container {\r\n\t\tplace-content: center;\r\n\t}\r\n\t.dashboard-img {\r\n\t\twidth: 81%;\r\n\t\tborder-radius: 10px;\r\n\t\tbox-shadow: 0px 24px 120px -25px var(--highlight);\r\n\t\tmargin-bottom: -1%;\r\n\t}\r\n\t.dashboard-content {\r\n\t\ttext-align: left;\r\n\t\tcolor: white;\r\n\t\tmargin: 0 5em 4em;\r\n\t}\r\n\t.dashboard-content-text {\r\n\t\tfont-size: 1.1em;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.dashboard-btn-container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-top: 2em;\r\n\t}\r\n\t.dashboard-btn-text {\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.add-middleware-title {\r\n\t\tcolor: var(--highlight);\r\n\t\tcolor: var(--background);\r\n\t\tfont-size: 2.5em;\r\n\t\tfont-weight: 800;\r\n\t\tmargin-bottom: 1.5em;\r\n\t}\r\n\t.add-middleware {\r\n\t\tmargin: auto;\r\n\t\tmargin-bottom: 7em;\r\n\t\tborder-radius: 6px;\r\n\t\tmargin-top: -480px;\r\n\t\tz-index: 2;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.frameworks {\r\n\t\tmargin: 0 25%;\r\n\t\toverflow-x: auto;\r\n\t}\r\n\t.framework {\r\n\t\tcolor: var(--faint-text);\r\n\t\t/* color: black; */\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\tfont-size: 1em;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 8px 13px;\r\n\t\theight: auto;\r\n\t\twidth: auto;\r\n\t\tborder: 3px solid transparent;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.framework:hover {\r\n\t\tcolor: white;\r\n\t}\r\n\t.active {\r\n\t\tcolor: white;\r\n\t}\r\n\t.active.python {\r\n\t\tborder: 3px solid #4b8bbe;\r\n\t}\r\n\t.active.go {\r\n\t\tborder: 3px solid #00a7d0;\r\n\t}\r\n\t.active.javascript {\r\n\t\tborder: 3px solid #edd718;\r\n\t}\r\n\t.active.rust {\r\n\t\tborder: 3px solid #ef4900;\r\n\t}\r\n\t.active.ruby {\r\n\t\tborder: 3px solid #cd0000;\r\n\t}\r\n\t.active.php {\r\n\t\tborder: 3px solid #7377ad;\r\n\t}\r\n\t.active.csharp {\r\n\t\tborder: 3px solid #178600;\r\n\t}\r\n\t.subtitle {\r\n\t\tcolor: var(--faint-text);\r\n\t\tmargin: 10px 0 2px 16px;\r\n\t\tfont-size: 0.85em;\r\n\t}\r\n\t.instructions-container {\r\n\t\tpadding: 1.5em 2em 2em;\r\n\t\twidth: 850px;\r\n\t\tmargin: auto;\r\n\t}\r\n\t.instructions {\r\n\t\ttext-align: left;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tposition: relative;\r\n\t}\r\n\tcode {\r\n\t\tbackground: var(--dark-background);\r\n\t\tpadding: 1.4em 2em;\r\n\t\tborder-radius: 0.5em;\r\n\t\tmargin: 5px;\r\n\t\tcolor: #dcdfe4;\r\n\t\twhite-space: pre-wrap;\r\n\t\toverflow: auto;\r\n\t\tfont-family: 'Geist Mono', 'Fira Code' !important;\r\n\t\tfont-size: 14px !important;\r\n\t}\r\n\t.code {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.code-file {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 0.8em;\r\n\t\ttop: 160px;\r\n\t\tcolor: rgb(97, 97, 97);\r\n\t\ttext-align: right;\r\n\t\tright: 2.5em;\r\n\t\tmargin-bottom: -2em;\r\n\t}\r\n\r\n\t.animated {\r\n\t\ttransition: all 10s ease-in-out;\r\n\t}\r\n\r\n\t@media screen and (min-width: 1700px) {\r\n\t\t.frameworks {\r\n\t\t\tmargin: 0 10%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1500px) {\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 6% 0 7%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1300px) {\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 5% 0 6%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1200px) {\r\n\t\t.landing-page {\r\n\t\t\tflex-direction: column-reverse;\r\n\t\t}\r\n\t\t.landing-page-container {\r\n\t\t\tmargin: 0 2em;\r\n\t\t}\r\n\t\t.dashboard {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin-bottom: 4em;\r\n\t\t}\r\n\t\t.logo {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t\t.instructions-container {\r\n\t\t\twidth: auto;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 900px) {\r\n\t\t.home {\r\n\t\t\tfont-size: 0.85em;\r\n\t\t}\r\n\t\t.code-file {\r\n\t\t\ttop: 140px;\r\n\t\t}\r\n\t\t.add-middleware {\r\n\t\t\tmargin-top: -465px;\r\n\t\t}\r\n\t\t.frameworks {\r\n\t\t\tmargin: 0 5%;\r\n\t\t}\r\n\t\t.gradient-container {\r\n\t\t\tmargin-top: -18em;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 800px) {\r\n\t\t.home {\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n\t\t.right {\r\n\t\t\tmargin-top: 2em;\r\n\t\t}\r\n\t\t.gradient-container {\r\n\t\t\tmargin-top: -22em;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 700px) {\r\n\t\t.landing-page-container {\r\n\t\t\tmin-height: unset;\r\n\t\t}\r\n\t\t.landing-page {\r\n\t\t\tpadding-bottom: 8em;\r\n\t\t}\r\n\t\t.lightning-top {\r\n\t\t\theight: 40px;\r\n\t\t\tmargin-top: auto;\r\n\t\t}\r\n\t\t.dashboard-title {\r\n\t\t\tmargin: 0.2em 0.5em auto 1em;\r\n\t\t}\r\n\t\t.dashboard-img {\r\n\t\t\tmargin-bottom: -3%;\r\n\t\t}\r\n\t\t.dashboard-content {\r\n\t\t\tmargin: 0 2em 4em;\r\n\t\t}\r\n\t\t.add-middleware-title {\r\n\t\t\tmargin-bottom: 1em;\r\n\t\t}\r\n\t\t.instructions-container {\r\n\t\t\tpadding: 0 4%;\r\n\t\t}\r\n\t\t.logo {\r\n\t\t\tmargin-bottom: 0;\r\n\t\t}\r\n\t\t.gradient-container {\r\n\t\t\tmargin-top: -18em;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\r\n\t\t.add-middleware {\r\n\t\t\tmargin-top: -460px;\r\n\t\t\tfont-size: 0.8em;\r\n\t\t}\r\n\t\t.left-gradient {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin-left: -40%;\r\n\t\t}\r\n\t\t.right-gradient {\r\n\t\t\twidth: 90%;\r\n\t\t\tmargin-right: -40%;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 500px) {\r\n\t\t.gradient-container {\r\n\t\t\tmargin-top: -18em;\r\n\t\t\toverflow: hidden;\r\n\t\t}\r\n\t}\r\n</style>\r\n","const a11yDark = `<style>pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}/*!\n  Theme: a11y-dark\n  Author: @ericwbailey\n  Maintainer: @ericwbailey\n\n  Based on the Tomorrow Night Eighties theme: https://github.com/isagalaev/highlight.js/blob/master/src/styles/tomorrow-night-eighties.css\n*/.hljs{background:#2b2b2b;color:#f8f8f2}.hljs-comment,.hljs-quote{color:#d4d0ab}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#ffa07a}.hljs-built_in,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#f5ab35}.hljs-attribute{color:gold}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#abe338}.hljs-section,.hljs-title{color:#00e0e0}.hljs-keyword,.hljs-selector-tag{color:#dcc6e0}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}@media screen and (-ms-high-contrast:active){.hljs-addition,.hljs-attribute,.hljs-built_in,.hljs-bullet,.hljs-comment,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-quote,.hljs-string,.hljs-symbol,.hljs-type{color:highlight}.hljs-keyword,.hljs-selector-tag{font-weight:700}}</style>`;\n\nexport default a11yDark;\n","<div class=\"footer\">\r\n\t<a\r\n\t\tclass=\"github-link\"\r\n\t\trel=\"noreferrer\"\r\n\t\ttarget=\"_blank\"\r\n\t\thref=\"https://github.com/tom-draper/api-analytics\"\r\n\t>\r\n\t\t<img class=\"github-logo\" height=\"30px\" src=\"../img/github.png\" alt=\"\" />\r\n\t</a>\r\n\t<div class=\"logo\">API Analytics</div>\r\n\t<img class=\"footer-logo\" src=\"../img/logo.png\" alt=\"\" />\r\n</div>\r\n\r\n<style scoped>\r\n\t.logo {\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.footer {\r\n\t\tmargin: 1.5em 0 3em;\r\n\t}\r\n\t.github-logo {\r\n\t\theight: 28px;\r\n\t\tfilter: invert(0.24);\r\n\t\tmargin-bottom: 30px;\r\n\t\ttransition: filter 0.15s;\r\n\t}\r\n\t.github-logo:hover {\r\n\t\tfilter: invert(0.5);\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport Landing from '../components/home/Landing.svelte';\r\n\timport Highlight from '../components/home/Highlight.svelte';\r\n\timport GettingStarted from '../components/home/GettingStarted.svelte';\r\n\timport Footer from '../components/Footer.svelte';\r\n</script>\r\n\r\n<div class=\"home\">\r\n\t<Landing />\r\n\t<Highlight\r\n\t\ttitle=\"Dashboard\"\r\n\t\tdescription=\"An all-in-one analytics dashboard. Real-time insight into your API's usage.\"\r\n\t\tpath=\"/dashboard\"\r\n\t\timg=\"dashboard.png\"\r\n\t/>\r\n\t<Highlight\r\n\t\ttitle=\"Monitor\"\r\n\t\tdescription=\"Active monitoring and error notifications. Peace of mind.\"\r\n\t\tpath=\"/monitoring\"\r\n\t\timg=\"monitoring.png\"\r\n\t/>\r\n\t<GettingStarted />\r\n\t<div class=\"docs\">\r\n\t\t<!-- <div class=\"doc-link-container\">\r\n\t\t\t<a class=\"doc-link\" href=\"/privacy-policy\">FAQ</a>\r\n\t\t</div> -->\r\n\t\t<div class=\"doc-link-container\">\r\n\t\t\t<a class=\"doc-link\" href=\"/privacy-policy\">Privacy Policy</a>\r\n\t\t</div>\r\n\t\t<!-- <div class=\"doc-link-container\">\r\n\t\t\t<a class=\"doc-link\" href=\"/privacy-policy\">Terms of Service</a>\r\n\t\t</div> -->\r\n\t</div>\r\n</div>\r\n<Footer />\r\n\r\n<style scoped>\r\n\t.docs {\r\n\t\tdisplay: flex;\r\n\t\twidth: 50%;\r\n\t\tmargin: auto;\r\n\t\tpadding-bottom: 4em;\r\n\t}\r\n\t.doc-link-container {\r\n\t\tflex: 1;\r\n\t\tdisplay: grid; \r\n\t\tplace-items: center;\r\n\t}\r\n\t.doc-link {\r\n\t\tflex: 1;\r\n\t\tcolor: #5f5f5f;\r\n\t\tbackground: #181818;\r\n\t\tborder-radius: 4px;\r\n\t\tmin-width: 10em;\r\n\t\tmax-width: 15em;\r\n\t\tmargin: auto;\r\n\t\tpadding: 0.8em 1.5em;\r\n\t\tdisplay: flex;\r\n\t\tmargin: 0 1em;\r\n\t\ttext-align: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\ta:hover {\r\n\t\tbackground: #161616;\r\n\t}\r\n\r\n\t/* if under 800px */\r\n\t@media (max-width: 800px) {\r\n\t\t.docs {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n</style>","export const serverURL = 'https://www.apianalytics-server.com';\r\nexport const columns = [\r\n    'ip_address',\r\n    'path',\r\n    'hostname',\r\n    'user_agent',\r\n    'method',\r\n    'response_time',\r\n    'status',\r\n    'location',\r\n    'user_id',\r\n    'time',\r\n];\r\nexport var ColumnIndex;\r\n(function (ColumnIndex) {\r\n    ColumnIndex[ColumnIndex[\"IPAddress\"] = 0] = \"IPAddress\";\r\n    ColumnIndex[ColumnIndex[\"Path\"] = 1] = \"Path\";\r\n    ColumnIndex[ColumnIndex[\"Hostname\"] = 2] = \"Hostname\";\r\n    ColumnIndex[ColumnIndex[\"UserAgent\"] = 3] = \"UserAgent\";\r\n    ColumnIndex[ColumnIndex[\"Method\"] = 4] = \"Method\";\r\n    ColumnIndex[ColumnIndex[\"ResponseTime\"] = 5] = \"ResponseTime\";\r\n    ColumnIndex[ColumnIndex[\"Status\"] = 6] = \"Status\";\r\n    ColumnIndex[ColumnIndex[\"Location\"] = 7] = \"Location\";\r\n    ColumnIndex[ColumnIndex[\"UserID\"] = 8] = \"UserID\";\r\n    ColumnIndex[ColumnIndex[\"CreatedAt\"] = 9] = \"CreatedAt\";\r\n})(ColumnIndex || (ColumnIndex = {}));\r\nexport const graphColors = [\r\n    '#3FCF8E',\r\n    '#5784BA',\r\n    '#EBEB81',\r\n    '#218B82',\r\n    '#FFD6A5',\r\n    '#F9968B',\r\n    '#B1A2CA',\r\n    '#E46161', // Red\r\n];\r\n","<script lang=\"ts\">\r\n\timport { serverURL } from '../lib/consts';\r\n\r\n\ttype State = 'generate' | 'loading' | 'copy' | 'copied' | 'error';\r\n\r\n\tlet state: State = 'generate';\r\n\tlet generatedKey = false;\r\n\tlet apiKey = '';\r\n\tasync function submit() {\r\n\t\tif (generatedKey) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetState('loading');\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`${serverURL}/api/generate-api-key`);\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tconst data = await response.json();\r\n\t\t\t\tgeneratedKey = true;\r\n\t\t\t\tapiKey = data;\r\n\t\t\t\tsetState('copy');\r\n\t\t\t} else {\r\n\t\t\t\tsetState('error');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetState('generate');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setState(value: State) {\r\n\t\tstate = value;\r\n\t}\r\n\r\n\tfunction enter(e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tsubmit();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction copyToClipboard() {\r\n\t\tnavigator.clipboard.writeText(apiKey);\r\n\t\tsetState('copied');\r\n\t}\r\n</script>\r\n\r\n<div class=\"generate\">\r\n\t<div class=\"content\">\r\n\t\t<h2>Generate API key</h2>\r\n\t\t<input type=\"text\" readonly bind:value={apiKey} on:keydown={enter} />\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\ton:click={submit}\r\n\t\t\tclass:no-display={state !== 'generate'}>Generate</button\r\n\t\t>\r\n\t\t<button id=\"formBtn\" class:no-display={state !== 'loading'}>\r\n\t\t\t<div class=\"spinner\">\r\n\t\t\t\t<div class=\"loader\" />\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\ton:click={copyToClipboard}\r\n\t\t\tclass:no-display={state !== 'copy'}\r\n\t\t\t><img class=\"copy-icon\" src=\"img/copy.png\" alt=\"\" /></button\r\n\t\t>\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\tclass=\"copied-btn\"\r\n\t\t\ton:click={copyToClipboard}\r\n\t\t\tclass:no-display={state !== 'copied'}>Copied</button\r\n\t\t>\r\n\t\t<button id=\"formBtn\" class:no-display={state != 'error'}>Error</button>\r\n\t</div>\r\n\t<div class=\"details\">\r\n\t\t<div class=\"keep-secure\">Keep your API key safe and secure.</div>\r\n\t\t<div class=\"highlight logo\">API Analytics</div>\r\n\t\t<img class=\"footer-logo\" src=\"img/logo.png\" alt=\"\" />\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.copy-icon {\r\n\t\theight: 18px;\r\n\t}\r\n\t.copied-btn {\r\n\t\tcursor: default;\r\n\t}\r\n\t.spinner {\r\n\t\theight: auto;\r\n\t}\r\n\t.loader {\r\n\t\tborder: 3px solid #343434;\r\n\t\tborder-top: 3px solid var(--highlight);\r\n\t\theight: 10px;\r\n\t\twidth: 10px;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { serverURL } from '../lib/consts';\r\n\r\n\ttype State = 'sign-in' | 'loading';\r\n\r\n\tlet state: State = 'sign-in';\r\n\tlet apiKey = '';\r\n\tasync function submit() {\r\n\t\tsetState('loading');\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(`${serverURL}/api/user-id/${apiKey}`);\r\n\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tconst userID = await response.json();\r\n\t\t\t\twindow.location.href = `/${page}/${userID.replaceAll('-', '')}`;\r\n\t\t\t} else {\r\n\t\t\t\tsetState('sign-in');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tsetState('sign-in');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction enter(e: KeyboardEvent) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tsubmit();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setState(value: State) {\r\n\t\tstate = value;\r\n\t}\r\n\r\n\texport let page: 'dashboard' | 'monitoring';\r\n</script>\r\n\r\n<div class=\"generate\">\r\n\t<div class=\"content\">\r\n\t\t{#if page === 'dashboard'}\r\n\t\t\t<h2>Dashboard</h2>\r\n\t\t{:else if page === 'monitoring'}\r\n\t\t\t<h2>Monitoring</h2>\r\n\t\t{/if}\r\n\t\t<input\r\n\t\t\ttype=\"text\"\r\n\t\t\tbind:value={apiKey}\r\n\t\t\tplaceholder=\"Enter API key\"\r\n\t\t\ton:keydown={enter}\r\n\t\t/>\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\ton:click={submit}\r\n\t\t\tclass:no-display={state !== 'sign-in'}>Load</button\r\n\t\t>\r\n\t\t<button id=\"formBtn\" class:no-display={state !== 'loading'}>\r\n\t\t\t<div class=\"spinner\">\r\n\t\t\t\t<div class=\"loader\" />\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t</div>\r\n\t<div class=\"details\">\r\n\t\t<div class=\"keep-secure\">Keep your API key safe and secure.</div>\r\n\t\t<div class=\"highlight logo\">API Analytics</div>\r\n\t\t<img class=\"footer-logo\" src=\"img/logo.png\" alt=\"\" />\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.spinner {\r\n\t\theight: auto;\r\n\t}\r\n\t.loader {\r\n\t\tborder: 3px solid #343434;\r\n\t\tborder-top: 3px solid var(--highlight);\r\n\t\theight: 10px;\r\n\t\twidth: 10px;\r\n\t}\r\n</style>\r\n","export function periodToDays(period) {\r\n    switch (period) {\r\n        case '24 hours':\r\n            return 1;\r\n        case 'Week':\r\n            return 7;\r\n        case 'Month':\r\n            return 30;\r\n        case '3 months':\r\n            return 90;\r\n        case '6 months':\r\n            return 30 * 7;\r\n        case 'Year':\r\n            return 365;\r\n        default:\r\n            return null;\r\n    }\r\n}\r\nexport function periodToMarkers(period) {\r\n    switch (period) {\r\n        case '24h':\r\n            return 38;\r\n        case '7d':\r\n            return 84;\r\n        case '30d':\r\n        case '60d':\r\n            return 120;\r\n        default:\r\n            return null;\r\n    }\r\n}\r\nexport function dateInPeriod(date, period) {\r\n    if (period === 'All time') {\r\n        return true;\r\n    }\r\n    const days = periodToDays(period);\r\n    const periodAgo = new Date();\r\n    periodAgo.setDate(periodAgo.getDate() - days);\r\n    return date > periodAgo;\r\n}\r\nexport function dateInPrevPeriod(date, period) {\r\n    if (period === 'All time') {\r\n        return true;\r\n    }\r\n    const days = periodToDays(period);\r\n    const startPeriodAgo = new Date();\r\n    startPeriodAgo.setDate(startPeriodAgo.getDate() - days * 2);\r\n    const endPeriodAgo = new Date();\r\n    endPeriodAgo.setDate(endPeriodAgo.getDate() - days);\r\n    return startPeriodAgo < date && date < endPeriodAgo;\r\n}\r\n","<script lang=\"ts\">\r\n\timport { periodToDays } from '../../lib/period';\r\n\timport type { Period } from '../../lib/settings';\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\tfunction requestsPlotLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 0, l: 0, t: 0, b: 0, pad: 0 },\r\n\t\t\thovermode: false,\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 60,\r\n\t\t\tyaxis: {\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction lines(data: RequestsData) {\r\n\t\tconst n = 5;\r\n\t\tconst x = [...Array(n).keys()];\r\n\t\tconst y = Array(n).fill(0);\r\n\r\n\t\tif (data.length > 0) {\r\n\t\t\tconst start = data[0][ColumnIndex.CreatedAt].getTime();\r\n\t\t\tconst end = data[data.length - 1][ColumnIndex.CreatedAt].getTime();\r\n\t\t\tconst range = end - start;\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tconst time = data[i][ColumnIndex.CreatedAt].getTime();\r\n\t\t\t\tconst diff = time - start;\r\n\t\t\t\tconst idx = Math.floor(diff / (range / n));\r\n\t\t\t\ty[idx] += 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\ttype: 'lines',\r\n\t\t\t\tmarker: { color: 'transparent' },\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t\tline: { shape: 'spline', smoothing: 1, color: '#3FCF8E30' },\r\n\t\t\t\tfill: 'tozeroy',\r\n\t\t\t\tfillcolor: '#3fcf8e15',\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction requestsPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: lines(data),\r\n\t\t\tlayout: requestsPlotLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = requestsPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tfunction getPercentageChange(data: RequestsData) {\r\n\t\tlet percentageChange: number | null;\r\n\t\tif (prevData.length == 0) {\r\n\t\t\tpercentageChange = null;\r\n\t\t} else {\r\n\t\t\tpercentageChange = (data.length / prevData.length) * 100 - 100;\r\n\t\t}\r\n\t\treturn percentageChange;\r\n\t}\r\n\r\n\tfunction getRequestsPerHour(data: RequestsData) {\r\n\t\tlet requestsPerHour: number = 0;\r\n\t\tif (data.length > 0) {\r\n\t\t\tconst days = periodToDays(period);\r\n\t\t\tif (days != null) {\r\n\t\t\t\trequestsPerHour = data.length / (24 * days);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn requestsPerHour;\r\n\t}\r\n\r\n\tfunction togglePeriod() {\r\n\t\tperHour = !perHour;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tpercentageChange = getPercentageChange(data);\r\n\t\trequestsPerHour = getRequestsPerHour(data);\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\tlet requestsPerHour: number;\r\n\tlet percentageChange: number;\r\n\tlet perHour = false;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, prevData: RequestsData, period: Period;\r\n</script>\r\n\r\n<button class=\"card\" on:click={togglePeriod}>\r\n\t{#if perHour}\r\n\t\t<div class=\"card-title\">\r\n\t\t\tRequests <span class=\"per-hour\">/ hour</span>\r\n\t\t</div>\r\n\t\t{#if requestsPerHour}\r\n\t\t\t<div class=\"value\">{requestsPerHour.toFixed(2)}</div>\r\n\t\t{/if}\r\n\t{:else}\r\n\t\t{#if percentageChange}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"percentage-change\"\r\n\t\t\t\tclass:positive={percentageChange > 0}\r\n\t\t\t\tclass:negative={percentageChange < 0}\r\n\t\t\t>\r\n\t\t\t\t{#if percentageChange > 0}\r\n\t\t\t\t\t<img class=\"arrow\" src=\"../img/up.png\" alt=\"\" />\r\n\t\t\t\t{:else if percentageChange < 0}\r\n\t\t\t\t\t<img class=\"arrow\" src=\"../img/down.png\" alt=\"\" />\r\n\t\t\t\t{/if}\r\n\t\t\t\t{Math.abs(percentageChange).toFixed(1)}%\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t<div class=\"card-title\">Requests</div>\r\n\t\t<div class=\"value\">{data.length.toLocaleString()}</div>\r\n\t{/if}\r\n\t<div id=\"plotly\">\r\n\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t</div>\r\n\t</div>\r\n</button>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: calc(215px - 1em);\r\n\t\tmargin: 0 1em 0 0;\r\n\t\tposition: relative;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.value {\r\n\t\tpadding: 20px 10px;\r\n\t\tfont-size: 1.8em;\r\n\t\tfont-weight: 700;\r\n\t\tposition: inherit;\r\n\t\tz-index: 2;\r\n\t}\r\n\t.percentage-change {\r\n\t\tposition: absolute;\r\n\t\tright: 20px;\r\n\t\ttop: 20px;\r\n\t\tfont-size: 0.8em;\r\n\t}\r\n\t.positive {\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.negative {\r\n\t\tcolor: rgb(228, 97, 97);\r\n\t}\r\n\r\n\t.per-hour {\r\n\t\tcolor: var(--dim-text);\r\n\t\tfont-size: 0.8em;\r\n\t\tmargin-left: 4px;\r\n\t}\r\n\tbutton {\r\n\t\tfont-size: unset;\r\n\t\tfont-family: unset;\r\n\t\tfont-family: 'Noto Sans' !important;\r\n\t}\r\n\t.arrow {\r\n\t\theight: 11px;\r\n\t}\r\n\t#plotly {\r\n\t\tposition: absolute;\r\n\t\twidth: 110%;\r\n\t\tbottom: 0;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 0 -5%;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 1em 0 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\texport let loading: boolean;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t{#if loading}\r\n\t\t<div class=\"placeholder\">\r\n\t\t\t<div class=\"spinner\">\r\n\t\t\t\t<div class=\"loader\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t{:else}\r\n\t\t<img src=\"../img/logo.png\" alt=\"\" />\r\n\t{/if}\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: calc(215px - 1em);\r\n\t\tmargin: 0 1em 0 0;\r\n\t\tbackground: transparent;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\timg {\r\n\t\twidth: 25px;\r\n\t}\r\n\t.spinner {\r\n\t\theight: auto !important;\r\n\t}\r\n\t.loader {\r\n\t\theight: 20px !important;\r\n\t\twidth: 20px !important;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 1em 0 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\t/* Parameter `arr` assumed sorted. */\r\n\tfunction quantile(arr: number[], q: number) {\r\n\t\tconst pos = (arr.length - 1) * q;\r\n\t\tconst base = Math.floor(pos);\r\n\t\tconst rest = pos - base;\r\n\t\tif (arr[base + 1] !== undefined) {\r\n\t\t\treturn arr[base] + rest * (arr[base + 1] - arr[base]);\r\n\t\t} else if (arr[base] !== undefined) {\r\n\t\t\treturn arr[base];\r\n\t\t}\r\n\t\treturn 0;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tconst responseTimes: number[] = new Array(data.length);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tresponseTimes[i] = data[i][ColumnIndex.ResponseTime];\r\n\t\t}\r\n\t\tresponseTimes.sort((a, b) => a - b);\r\n\t\tLQ = quantile(responseTimes, 0.25);\r\n\t\tmedian = quantile(responseTimes, 0.5);\r\n\t\tUQ = quantile(responseTimes, 0.75);\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\tfunction defaultLayout(range: [number, number]) {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 15, l: 15, t: 5, b: 10, pad: 10 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 50,\r\n\t\t\tyaxis: {\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\trange: range,\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction bars(data: RequestsData) {\r\n\t\tconst responseTimesFreq: ValueCount = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst responseTime =\r\n\t\t\t\tMath.round(data[i][ColumnIndex.ResponseTime]) || 0;\r\n\t\t\tif (responseTime in responseTimesFreq) {\r\n\t\t\t\tresponseTimesFreq[responseTime]++;\r\n\t\t\t} else {\r\n\t\t\t\tresponseTimesFreq[responseTime] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst responseTimes: number[] = [];\r\n\t\tconst counts: number[] = [];\r\n\t\tconst times = Object.keys(responseTimesFreq).map(Number);\r\n\t\tif (times.length > 0) {\r\n\t\t\tconst minResponseTime = Math.min(...times);\r\n\t\t\tconst maxResponseTime = Math.max(...times);\r\n\r\n\t\t\t// Split into two lists\r\n\t\t\tfor (let i = 0; i < maxResponseTime - minResponseTime + 1; i++) {\r\n\t\t\t\tresponseTimes.push(minResponseTime + i);\r\n\t\t\t\tcounts.push(responseTimesFreq[minResponseTime + i] || 0);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: responseTimes,\r\n\t\t\t\ty: counts,\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tmarker: { color: '#707070' },\r\n\t\t\t\thovertemplate: `<b>%{y}</b><br>%{x:.1f}ms</b><extra></extra>`,\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction buildPlotData(data: RequestsData) {\r\n\t\tconst b = bars(data);\r\n\t\treturn {\r\n\t\t\tdata: b,\r\n\t\t\tlayout: defaultLayout([b[0].x[0], b[0].x[b[0].x.length - 1]]),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = buildPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet median: number;\r\n\tlet LQ: number;\r\n\tlet UQ: number;\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">\r\n\t\tResponse times <span class=\"milliseconds\">(ms)</span>\r\n\t</div>\r\n\t{#if LQ !== undefined && median !== undefined && UQ !== undefined}\r\n\t\t<div class=\"values\">\r\n\t\t\t<div class=\"value lower-quartile\">{LQ.toFixed(1)}</div>\r\n\t\t\t<div class=\"value median\">{median.toFixed(1)}</div>\r\n\t\t\t<div class=\"value upper-quartile\">{UQ.toFixed(1)}</div>\r\n\t\t</div>\r\n\t{/if}\r\n\t<div class=\"labels\">\r\n\t\t<div class=\"label\">LQ</div>\r\n\t\t<div class=\"label\">Median</div>\r\n\t\t<div class=\"label\">UQ</div>\r\n\t</div>\r\n\t<div class=\"distribution\">\r\n\t\t<div id=\"plotly\">\r\n\t\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.values {\r\n\t\tdisplay: flex;\r\n\t\tcolor: var(--highlight);\r\n\t\tfont-size: 1.8em;\r\n\t\tfont-weight: 700;\r\n\t}\r\n\t.values,\r\n\t.labels {\r\n\t\tmargin: 0 0.5rem;\r\n\t}\r\n\t.value {\r\n\t\tflex: 1;\r\n\t\tfont-size: 1.1em;\r\n\t\tpadding: 20px 20px 4px;\r\n\t}\r\n\t.labels {\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: var(--dim-text);\r\n\t}\r\n\t.label {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.milliseconds {\r\n\t\tcolor: var(--dim-text);\r\n\t\tfont-size: 0.8em;\r\n\t\tmargin-left: 4px;\r\n\t}\r\n\r\n\t.median {\r\n\t\tfont-size: 1em;\r\n\t}\r\n\t.upper-quartile,\r\n\t.lower-quartile {\r\n\t\tfont-size: 1em;\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 0 2em 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { periodToDays } from '../../lib/period';\r\n\timport type { Period } from '../../lib/settings';\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\tfunction getLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 0, l: 0, t: 0, b: 0, pad: 0 },\r\n\t\t\thovermode: false,\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 60,\r\n\t\t\tyaxis: {\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction getUserIdentifier(request: RequestsData[number]) {\r\n\t\treturn (\r\n\t\t\trequest[ColumnIndex.IPAddress] ??\r\n\t\t\t'' + request[ColumnIndex.UserID].toString() ??\r\n\t\t\t''\r\n\t\t);\r\n\t}\r\n\r\n\tfunction lines(data: RequestsData) {\r\n\t\tconst n = 5;\r\n\t\tconst x = [...Array(n).keys()];\r\n\t\tconst uniqueUsers = Array.from({ length: n }, () => new Set());\r\n\r\n\t\tif (data.length > 0) {\r\n\t\t\tconst start = data[0][ColumnIndex.CreatedAt].getTime();\r\n\t\t\tconst end = data[data.length - 1][ColumnIndex.CreatedAt].getTime();\r\n\t\t\tconst range = end - start;\r\n\t\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t\tconst userID = getUserIdentifier(data[i]);\r\n\t\t\t\tif (!userID) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tconst time = data[i][ColumnIndex.CreatedAt].getTime();\r\n\t\t\t\tconst diff = time - start;\r\n\t\t\t\tconst idx = Math.min(n - 1, Math.floor(diff / (range / n)));\r\n\t\t\t\tif (idx >= 0 && idx < n) {\r\n\t\t\t\t\tuniqueUsers[idx].add(userID);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst y = uniqueUsers.map((set) => set.size);\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\ttype: 'lines',\r\n\t\t\t\tmarker: { color: 'transparent' },\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t\tline: { shape: 'spline', smoothing: 1, color: '#3FCF8E30' },\r\n\t\t\t\tfill: 'tozeroy',\r\n\t\t\t\tfillcolor: '#3fcf8e15',\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction usersPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: lines(data),\r\n\t\t\tlayout: getLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = usersPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tfunction togglePeriod() {\r\n\t\tperHour = !perHour;\r\n\t}\r\n\r\n\tfunction setPercentageChange(now: number, prev: number) {\r\n\t\tif (prev === 0) {\r\n\t\t\tpercentageChange = null;\r\n\t\t} else {\r\n\t\t\tpercentageChange = (now / prev) * 100 - 100;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getUsers(data: RequestsData): Set<string> {\r\n\t\tconst users: Set<string> = new Set();\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst userID = getUserIdentifier(data[i]);\r\n\t\t\tif (userID) {\r\n\t\t\t\tusers.add(userID);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn users;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\t({ size: numUsers } = getUsers(data));\r\n\r\n\t\tconst prevUsers = getUsers(prevData);\r\n\t\tconst prevNumUsers = prevUsers.size;\r\n\r\n\t\tsetPercentageChange(numUsers, prevNumUsers);\r\n\r\n\t\tif (numUsers > 0) {\r\n\t\t\tconst days = periodToDays(period);\r\n\t\t\tif (days !== null) {\r\n\t\t\t\tusersPerHour = numUsers / (24 * days);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tusersPerHour = 0;\r\n\t\t}\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\tlet numUsers: number = 0;\r\n\tlet usersPerHour: number;\r\n\tlet perHour = false;\r\n\tlet percentageChange: number;\r\n\t// let mounted = false;\r\n\t// onMount(() => {\r\n\t// \tmounted = true;\r\n\t// });\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\t// $: data && mounted && build();\r\n\r\n\texport let data: RequestsData, prevData: RequestsData, period: Period;\r\n</script>\r\n\r\n<button class=\"card\" on:click={togglePeriod} title=\"Based on IP address\">\r\n\t{#if perHour}\r\n\t\t<div class=\"card-title\">\r\n\t\t\tUsers <span class=\"per-hour\">/ hour</span>\r\n\t\t</div>\r\n\t\t{#if usersPerHour}\r\n\t\t\t<div class=\"value\">\r\n\t\t\t\t{usersPerHour === 0 ? '0' : usersPerHour.toFixed(2)}\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t{:else}\r\n\t\t{#if percentageChange}\r\n\t\t\t<div\r\n\t\t\t\tclass=\"percentage-change\"\r\n\t\t\t\tclass:positive={percentageChange > 0}\r\n\t\t\t\tclass:negative={percentageChange < 0}\r\n\t\t\t>\r\n\t\t\t\t{#if percentageChange > 0}\r\n\t\t\t\t\t<img class=\"arrow\" src=\"../img/up.png\" alt=\"\" />\r\n\t\t\t\t{:else if percentageChange < 0}\r\n\t\t\t\t\t<img class=\"arrow\" src=\"../img/down.png\" alt=\"\" />\r\n\t\t\t\t{/if}\r\n\t\t\t\t{Math.abs(percentageChange).toFixed(1)}%\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t<div class=\"card-title\">Users</div>\r\n\t\t<div class=\"value\">{numUsers.toLocaleString()}</div>\r\n\t{/if}\r\n\t<div id=\"plotly\">\r\n\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t</div>\r\n\t</div>\r\n</button>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: calc(215px - 1em);\r\n\t\tmargin: 0 0 0 1em;\r\n\t\tposition: relative;\r\n\t\tcursor: pointer;\r\n\t\tpadding: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.value {\r\n\t\tpadding: 20px 10px;\r\n\t\tfont-size: 1.8em;\r\n\t\tfont-weight: 700;\r\n\t\tposition: inherit;\r\n\t\tz-index: 2;\r\n\t}\r\n\t.percentage-change {\r\n\t\tposition: absolute;\r\n\t\tright: 20px;\r\n\t\ttop: 20px;\r\n\t\tfont-size: 0.8em;\r\n\t}\r\n\t.positive {\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.negative {\r\n\t\tcolor: rgb(228, 97, 97);\r\n\t}\r\n\r\n\t.per-hour {\r\n\t\tcolor: var(--dim-text);\r\n\t\tfont-size: 0.8em;\r\n\t\tmargin-left: 4px;\r\n\t}\r\n\tbutton {\r\n\t\tfont-size: unset;\r\n\t\tfont-family: unset;\r\n\t\tfont-family: 'Noto Sans' !important;\r\n\t}\r\n\t.arrow {\r\n\t\theight: 11px;\r\n\t}\r\n\t#plotly {\r\n\t\tposition: absolute;\r\n\t\twidth: 110%;\r\n\t\tbottom: 0;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 0 -5%;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 0 0 1em;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\t// Integer to method string mapping used by server\r\n\tconst methodMap = [\r\n\t\t'GET',\r\n\t\t'POST',\r\n\t\t'PUT',\r\n\t\t'PATCH',\r\n\t\t'DELETE',\r\n\t\t'OPTIONS',\r\n\t\t'CONNECT',\r\n\t\t'HEAD',\r\n\t\t'TRACE',\r\n\t];\r\n\r\n\ttype EndpointFreq = Map<\r\n\t\tstring,\r\n\t\t{ path: string; status: number; count: number }\r\n\t>;\r\n\r\n\ttype MapValue<A> = A extends Map<unknown, infer V> ? V : never;\r\n\r\n\tfunction endpointFreq() {\r\n\t\tconst freq: EndpointFreq = new Map();\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t// Create groups of endpoints by path + status\r\n\t\t\tconst endpointID = `${data[i][ColumnIndex.Path]}${data[i][ColumnIndex.Status]}`;\r\n\t\t\tif (!freq.has(endpointID)) {\r\n\t\t\t\tfreq.set(endpointID, {\r\n\t\t\t\t\tpath: `${methodMap[data[i][ColumnIndex.Method]]}  ${data[i][ColumnIndex.Path]}`,\r\n\t\t\t\t\tstatus: data[i][ColumnIndex.Status],\r\n\t\t\t\t\tcount: 0,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tfreq.get(endpointID).count++;\r\n\t\t}\r\n\t\treturn freq;\r\n\t}\r\n\r\n\tfunction statusMatch(status: number) {\r\n\t\treturn (\r\n\t\t\tactiveBtn === 'all' ||\r\n\t\t\t(activeBtn === 'success' && status >= 200 && status <= 299) ||\r\n\t\t\t(activeBtn === 'client' && status >= 400 && status <= 499) ||\r\n\t\t\t(activeBtn === 'server' && status >= 500)\r\n\t\t);\r\n\t}\r\n\r\n\tfunction setTargetEndpoint(endpoint: string, status: number) {\r\n\t\tif (endpoint === null || status === null) {\r\n\t\t\t// Trigger reset if input is null\r\n\t\t\ttargetPath = null;\r\n\t\t\ttargetStatus = null;\r\n\t\t} else if (targetPath === null) {\r\n\t\t\t// At starting state, set the path first\r\n\t\t\ttargetPath = endpoint;\r\n\t\t} else if (endpoints.length > 1 && targetStatus === null) {\r\n\t\t\t// Path already set, now narrow down status (if multiple endpoints still exist)\r\n\t\t\ttargetStatus = status;\r\n\t\t} else {\r\n\t\t\t// Path and status already set, reset\r\n\t\t\ttargetPath = null;\r\n\t\t\ttargetStatus = null;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getEndpoints() {\r\n\t\tconst freq = endpointFreq();\r\n\r\n\t\t// Convert object to list\r\n\t\tconst freqArr: MapValue<EndpointFreq>[] = [];\r\n\t\tlet maxCount = 0;\r\n\t\tfor (const value of freq.values()) {\r\n\t\t\tif (statusMatch(value.status)) {\r\n\t\t\t\tfreqArr.push(value);\r\n\t\t\t\tif (value.count > maxCount) {\r\n\t\t\t\t\tmaxCount = value.count;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfreqArr.sort((a, b) => {\r\n\t\t\treturn b.count - a.count;\r\n\t\t});\r\n\r\n\t\treturn {\r\n\t\t\tendpoints: freqArr.slice(0, 50),\r\n\t\t\tmaxCount: maxCount\r\n\t\t}\r\n\t}\r\n\r\n\tfunction build() {\r\n\t\tendpointsRendered = false;\r\n\t\t({endpoints: endpoints, maxCount: maxCount} = getEndpoints());\r\n\t\tendpointsRendered = true;\r\n\t}\r\n\r\n\tfunction setBtn(value: typeof activeBtn) {\r\n\t\tactiveBtn = value;\r\n\t}\r\n\r\n\tlet endpoints: {\r\n\t\tpath: string;\r\n\t\tstatus: number;\r\n\t\tcount: number;\r\n\t}[];\r\n\tlet maxCount: number;\r\n\tlet activeBtn: 'all' | 'success' | 'client' | 'server' = 'all';\r\n\r\n\t$: if (data && activeBtn) {\r\n\t\tbuild();\r\n\t}\r\n\r\n\texport let data: RequestsData,\r\n\t\ttargetPath: string,\r\n\t\ttargetStatus: number,\r\n\t\tendpointsRendered: boolean;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">\r\n\t\tEndpoints\r\n\t\t<div class=\"toggle\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"cancel\"\r\n\t\t\t\tclass:visible={targetPath !== null}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetTargetEndpoint(null, null);\r\n\t\t\t\t}}>Clear</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:active={activeBtn === 'all'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('all');\r\n\t\t\t\t}}>All</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:active={activeBtn === 'success'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('success');\r\n\t\t\t\t}}>Success</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:bad-active={activeBtn === 'client'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('client');\r\n\t\t\t\t}}>Client</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:error-active={activeBtn === 'server'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('server');\r\n\t\t\t\t}}>Server</button\r\n\t\t\t>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t{#if endpoints != undefined}\r\n\t\t<div class=\"endpoints\">\r\n\t\t\t{#each endpoints as endpoint, i}\r\n\t\t\t\t<div class=\"endpoint-container\">\r\n\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"endpoint\"\r\n\t\t\t\t\t\tid=\"endpoint-{i}\"\r\n\t\t\t\t\t\ttitle=\"Status: {endpoint.status}\"\r\n\t\t\t\t\t\ton:click={() =>\r\n\t\t\t\t\t\t\tsetTargetEndpoint(\r\n\t\t\t\t\t\t\t\tendpoint.path.split(' ')[2],\r\n\t\t\t\t\t\t\t\tendpoint.status,\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div class=\"path\">\r\n\t\t\t\t\t\t\t<b>{endpoint.count.toLocaleString()}</b>\r\n\t\t\t\t\t\t\t{endpoint.path}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"background\"\r\n\t\t\t\t\t\t\tstyle=\"width: {(endpoint.count / maxCount) * 100}%\"\r\n\t\t\t\t\t\t\tclass:success={(endpoint.status >= 200 &&\r\n\t\t\t\t\t\t\t\tendpoint.status <= 299) ||\r\n\t\t\t\t\t\t\t\tendpoint.status === 0}\r\n\t\t\t\t\t\t\tclass:bad={endpoint.status >= 400 &&\r\n\t\t\t\t\t\t\t\tendpoint.status <= 499}\r\n\t\t\t\t\t\t\tclass:error={endpoint.status >= 500}\r\n\t\t\t\t\t\t\tclass:other={endpoint.status >= 300 &&\r\n\t\t\t\t\t\t\t\tendpoint.status <= 399}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\tmin-height: 361px;\r\n\t}\r\n\t.card-title {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.toggle {\r\n\t\tmargin-left: auto;\r\n\t}\r\n\t.active {\r\n\t\tbackground: var(--highlight);\r\n\t}\r\n\t.bad-active {\r\n\t\tbackground: rgb(235, 235, 129);\r\n\t}\r\n\t.error-active {\r\n\t\tbackground: var(--red);\r\n\t}\r\n\tbutton {\r\n\t\tborder: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: rgb(68, 68, 68);\r\n\t\tcursor: pointer;\r\n\t\tpadding: 2px 6px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\tbutton:hover {\r\n\t\tbackground: rgb(88, 88, 88);\r\n\t}\r\n\t.endpoints {\r\n\t\tmargin: 0.9em 20px 0.6em;\r\n\t}\r\n\t.endpoint {\r\n\t\tborder-radius: 3px;\r\n\t\tmargin: 5px 0;\r\n\t\tcolor: var(--light-background);\r\n\t\ttext-align: left;\r\n\t\tposition: relative;\r\n\t\tfont-size: 0.85em;\r\n\t\twidth: 100%;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.endpoint:hover {\r\n\t\tbackground: linear-gradient(270deg, transparent, var(--background));\r\n\t\tbackground: linear-gradient(270deg, transparent, #444);\r\n\t}\r\n\t.path {\r\n\t\tposition: relative;\r\n\t\tflex-grow: 1;\r\n\t\tz-index: 1;\r\n\t\tpointer-events: none;\r\n\t\tcolor: #505050;\r\n\t\tpadding: 3px 12px;\r\n\t}\r\n\t.endpoint-container {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.success {\r\n\t\tbackground: var(--highlight);\r\n\t}\r\n\t.bad {\r\n\t\tbackground: rgb(235, 235, 129);\r\n\t}\r\n\t.error {\r\n\t\tbackground: var(--red);\r\n\t}\r\n\t.other {\r\n\t\tbackground: rgb(241, 164, 20);\r\n\t}\r\n\t.cancel {\r\n\t\tdisplay: none;\r\n\t\tbackground: gold;\r\n\t}\r\n\t.visible {\r\n\t\tdisplay: inline;\r\n\t}\r\n\t.background {\r\n\t\tborder-radius: 3px;\r\n\t\tcolor: var(--light-background);\r\n\t\ttext-align: left;\r\n\t\tposition: relative;\r\n\t\tfont-size: 0.85em;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 0 2em 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\tfunction successRatePlotLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 0, l: 0, t: 0, b: 0, pad: 0 },\r\n\t\t\thovermode: false,\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 60,\r\n\t\t\tyaxis: {\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tdragmode: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction lines(data: RequestsData) {\r\n\t\tconst n = 5;\r\n\t\tconst x = [...Array(n).keys()];\r\n\t\tconst y = Array(n).fill(0);\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst idx = Math.floor(i / (data.length / n));\r\n\t\t\tif (\r\n\t\t\t\tdata[i][ColumnIndex.Status] >= 200 &&\r\n\t\t\t\tdata[i][ColumnIndex.Status] <= 299\r\n\t\t\t) {\r\n\t\t\t\ty[idx] += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\ttype: 'lines',\r\n\t\t\t\tmarker: { color: 'transparent' },\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t\tline: { shape: 'spline', smoothing: 1, color: '#3FCF8E30' },\r\n\t\t\t\tfill: 'tozeroy',\r\n\t\t\t\tfillcolor: '#3fcf8e15',\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction successRatePlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: lines(data),\r\n\t\t\tlayout: successRatePlotLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = successRatePlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tconst requests = {\r\n\t\t\ttotal: 0,\r\n\t\t\tsuccessful: 0,\r\n\t\t};\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tif (\r\n\t\t\t\tdata[i][ColumnIndex.Status] >= 200 &&\r\n\t\t\t\tdata[i][ColumnIndex.Status] <= 299\r\n\t\t\t) {\r\n\t\t\t\trequests.successful++;\r\n\t\t\t}\r\n\t\t\trequests.total++;\r\n\t\t}\r\n\r\n\t\tif (requests.total > 0) {\r\n\t\t\tsuccessRate = (requests.successful / requests.total) * 100;\r\n\t\t} else {\r\n\t\t\tsuccessRate = 100;\r\n\t\t}\r\n\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\tlet successRate: number;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">Success rate</div>\r\n\t{#if successRate !== undefined}\r\n\t\t<div\r\n\t\t\tclass=\"value\"\r\n\t\t\tclass:red={successRate <= 75}\r\n\t\t\tclass:yellow={successRate > 75 && successRate < 90}\r\n\t\t\tclass:green={successRate > 90}\r\n\t\t>\r\n\t\t\t{successRate.toFixed(1)}%\r\n\t\t</div>\r\n\t{/if}\r\n\t<div id=\"plotly\">\r\n\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: calc(215px - 1em);\r\n\t\tmargin: 0 0 0 1em;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.value {\r\n\t\tmargin: 20px auto;\r\n\t\twidth: fit-content;\r\n\t\tfont-size: 1.8em;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: var(--yellow);\r\n\t\tposition: inherit;\r\n\t\tz-index: 2;\r\n\t}\r\n\t.red {\r\n\t\tcolor: var(--red);\r\n\t}\r\n\t.yellow {\r\n\t\tcolor: var(--yellow);\r\n\t}\r\n\t.green {\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t#plotly {\r\n\t\tposition: absolute;\r\n\t\twidth: 110%;\r\n\t\tbottom: 0;\r\n\t\toverflow: hidden;\r\n\t\tmargin: 0 -5%;\r\n\t\tz-index: 0;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import { periodToDays } from './period';\r\nexport function initFreqMap(period, genValue) {\r\n    // Populate requestFreq with zeros across date period\r\n    const freq = new Map();\r\n    const days = periodToDays(period);\r\n    if (days === null) {\r\n        return freq;\r\n    }\r\n    if (days <= 7) {\r\n        // Freq count for every 5 minute in date range\r\n        for (let i = 0; i < 288; i++) {\r\n            const date = new Date();\r\n            date.setSeconds(0, 0);\r\n            // Round down to multiple of 5\r\n            date.setMinutes(Math.floor(date.getMinutes() / 5) * 5 - i * 5);\r\n            freq.set(date.getTime(), genValue());\r\n        }\r\n    }\r\n    else {\r\n        // Freq count for every day in date range\r\n        for (let i = 0; i < days; i++) {\r\n            const date = new Date();\r\n            date.setHours(0, 0, 0, 0);\r\n            date.setDate(date.getDate() - i);\r\n            freq.set(date.getTime(), genValue());\r\n        }\r\n    }\r\n    return freq;\r\n}\r\n","<script lang=\"ts\">\r\n\timport { periodToDays } from '../../../lib/period';\r\n\timport type { Period } from '../../../lib/settings';\r\n\timport { initFreqMap } from '../../../lib/activity';\r\n\timport { ColumnIndex } from '../../../lib/consts';\r\n\r\n\tfunction defaultLayout() {\r\n\t\tconst days = periodToDays(period);\r\n\t\tlet periodAgo = new Date();\r\n\t\tif (days === null) {\r\n\t\t\tperiodAgo = null;\r\n\t\t} else {\r\n\t\t\tperiodAgo.setDate(periodAgo.getDate() - days);\r\n\t\t}\r\n\t\tconst now = new Date();\r\n\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 20, b: 20, pad: 10 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 160,\r\n\t\t\tbarmode: 'stack',\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Requests' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\ttitle: { text: 'Date' },\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\trange: [periodAgo, now],\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction bars(data: RequestsData, period: Period) {\r\n\t\tconst requestFreq = initFreqMap(period, () => ({\r\n\t\t\tcount: 0,\r\n\t\t}));\r\n\t\tconst userFreq = initFreqMap(period, () => new Set());\r\n\r\n\t\tconst days = periodToDays(period);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst date = new Date(data[i][ColumnIndex.CreatedAt]);\r\n\t\t\tif (days !== null && days <= 7) {\r\n\t\t\t\t// Round down to multiple of 5\r\n\t\t\t\tdate.setMinutes(Math.floor(date.getMinutes() / 5) * 5, 0, 0);\r\n\t\t\t} else {\r\n\t\t\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t\t}\r\n\t\t\tconst ipAddress = data[i][ColumnIndex.IPAddress];\r\n\t\t\tconst time = date.getTime();\r\n\t\t\tif (userFreq.has(time)) {\r\n\t\t\t\tuserFreq.get(time).add(ipAddress);\r\n\t\t\t} else {\r\n\t\t\t\tuserFreq.set(time, new Set());\r\n\t\t\t}\r\n\r\n\t\t\tif (requestFreq.has(time)) {\r\n\t\t\t\trequestFreq.get(time).count++;\r\n\t\t\t} else {\r\n\t\t\t\trequestFreq.set(time, { count: 1 });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Combine date and frequency count into (x, y) tuples for sorting\r\n\t\tconst requestFreqArr = new Array(requestFreq.size);\r\n\t\tlet i = 0;\r\n\t\tfor (const [time, requestsCount] of requestFreq.entries()) {\r\n\t\t\tconst userCount = userFreq.has(time) ? userFreq.get(time).size : 0;\r\n\t\t\trequestFreqArr[i] = {\r\n\t\t\t\tdate: time,\r\n\t\t\t\trequestCount: requestsCount.count,\r\n\t\t\t\tuserCount: userCount,\r\n\t\t\t};\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t// Sort by date\r\n\t\trequestFreqArr.sort((a, b) => {\r\n\t\t\treturn a.date - b.date;\r\n\t\t});\r\n\r\n\t\t// Split into two lists\r\n\t\tconst dates = new Array(requestFreqArr.length);\r\n\t\tconst requests = new Array(requestFreqArr.length);\r\n\t\tconst requestsText = new Array(requestFreqArr.length);\r\n\t\tconst users = new Array(requestFreqArr.length);\r\n\t\tconst usersText = new Array(requestFreqArr.length);\r\n\t\tfor (let i = 0; i < requestFreqArr.length; i++) {\r\n\t\t\tdates[i] = new Date(requestFreqArr[i].date);\r\n\t\t\t// Subtract users due to bar stacking\r\n\t\t\trequests[i] =\r\n\t\t\t\trequestFreqArr[i].requestCount - requestFreqArr[i].userCount;\r\n\r\n\t\t\t// Keep actual requests count for hover text\r\n\t\t\trequestsText[i] = `${requestFreqArr[i].requestCount} requests`;\r\n\t\t\tusers[i] = requestFreqArr[i].userCount;\r\n\t\t\tusersText[i] =\r\n\t\t\t\t`${requestFreqArr[i].userCount} users from ${requestFreqArr[i].requestCount} requests`;\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: dates,\r\n\t\t\t\ty: users,\r\n\t\t\t\ttext: usersText,\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tmarker: { color: '#3fcf8e' },\r\n\t\t\t\thovertemplate: `<b>%{text}</b><br>%{x|%d %b %Y %H:%M}</b><extra></extra>`,\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tx: dates,\r\n\t\t\t\ty: requests,\r\n\t\t\t\ttext: requestsText,\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tmarker: { color: '#228458' },\r\n\t\t\t\thovertemplate: `<b>%{text}</b><br>%{x|%d %b %Y %H:%M}</b><extra></extra>`,\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction buildPlotData(data: RequestsData, period: Period) {\r\n\t\treturn {\r\n\t\t\tdata: bars(data, period),\r\n\t\t\tlayout: defaultLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData, period: Period) {\r\n\t\tconst plotData = buildPlotData(data, period);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data, period);\r\n\t}\r\n\r\n\texport let data: RequestsData, period: Period;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { periodToDays } from '../../../lib/period';\r\n\timport type { Period } from '../../../lib/settings';\r\n\timport { initFreqMap } from '../../../lib/activity';\r\n\timport { ColumnIndex } from '../../../lib/consts';\r\n\r\n\tfunction defaultLayout(period: Period) {\r\n\t\tconst days = periodToDays(period);\r\n\t\tlet periodAgo = new Date();\r\n\t\tif (days != null) {\r\n\t\t\tperiodAgo.setDate(periodAgo.getDate() - days);\r\n\t\t} else {\r\n\t\t\tperiodAgo = null;\r\n\t\t}\r\n\t\tconst now = new Date();\r\n\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 20, b: 20, pad: 10 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 159,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Response time (ms)' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\ttitle: { text: 'Date' },\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\trange: [periodAgo, now],\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction bars(data: RequestsData, period: Period) {\r\n\t\tconst responseTimesFreq = initFreqMap(period, () => {\r\n\t\t\treturn { totalResponseTime: 0, count: 0 };\r\n\t\t});\r\n\r\n\t\tconst days = periodToDays(period);\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst date = new Date(data[i][ColumnIndex.CreatedAt]);\r\n\t\t\tif (days !== null && days <= 7) {\r\n\t\t\t\t// Round down to multiple of 5\r\n\t\t\t\tdate.setMinutes(Math.floor(date.getMinutes() / 5) * 5, 0, 0);\r\n\t\t\t} else {\r\n\t\t\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t\t}\r\n\t\t\tconst time = date.getTime();\r\n\t\t\tif (responseTimesFreq.has(time)) {\r\n\t\t\t\tresponseTimesFreq.get(time).totalResponseTime +=\r\n\t\t\t\t\tdata[i][ColumnIndex.ResponseTime];\r\n\t\t\t\tresponseTimesFreq.get(time).count++;\r\n\t\t\t} else {\r\n\t\t\t\tresponseTimesFreq.set(time, { totalResponseTime: 1, count: 1 });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Combine date and avg response time into (x, y) tuples for sorting\r\n\t\tconst responseTimeArr: { date: number; avgResponseTime: number }[] =\r\n\t\t\tnew Array(responseTimesFreq.size);\r\n\t\tlet i = 0;\r\n\t\tfor (const [time, obj] of responseTimesFreq.entries()) {\r\n\t\t\tconst point = { date: time, avgResponseTime: 0 };\r\n\t\t\tif (obj.count > 0) {\r\n\t\t\t\tpoint.avgResponseTime = obj.totalResponseTime / obj.count;\r\n\t\t\t}\r\n\t\t\tresponseTimeArr[i] = point;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\t// Sort by date\r\n\t\tresponseTimeArr.sort((a, b) => {\r\n\t\t\t//@ts-ignore\r\n\t\t\treturn a.date - b.date;\r\n\t\t});\r\n\r\n\t\t// Split into two lists\r\n\t\tconst dates: Date[] = new Array(responseTimeArr.length);\r\n\t\tconst responseTimes: number[] = new Array(responseTimeArr.length);\r\n\t\tlet minAvgResponseTime = Number.POSITIVE_INFINITY;\r\n\t\tfor (let i = 0; i < responseTimeArr.length; i++) {\r\n\t\t\tdates[i] = new Date(responseTimeArr[i].date);\r\n\t\t\tresponseTimes[i] = responseTimeArr[i].avgResponseTime;\r\n\t\t\tif (responseTimeArr[i].avgResponseTime < minAvgResponseTime) {\r\n\t\t\t\tminAvgResponseTime = responseTimeArr[i].avgResponseTime;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: dates,\r\n\t\t\t\ty: responseTimes,\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tmarker: { color: '#707070' },\r\n\t\t\t\thovertemplate: `<b>%{y:.1f}ms avg</b><br>%{x|%d %b %Y %H:%M}</b><extra></extra>`,\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction buildPlotData(data: RequestsData, period: Period) {\r\n\t\treturn {\r\n\t\t\tdata: bars(data, period),\r\n\t\t\tlayout: defaultLayout(period),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData, period: Period) {\r\n\t\tconst plotData = buildPlotData(data, period);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data, period);\r\n\t}\r\n\r\n\texport let data: RequestsData, period: Period;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport { periodToDays } from '../../../lib/period';\r\n\timport type { Period } from '../../../lib/settings';\r\n\timport { ColumnIndex } from '../../../lib/consts';\r\n\r\n\tfunction daysAgo(date: Date): number {\r\n\t\tconst now = new Date();\r\n\t\t// Calculate the difference in milliseconds\r\n\t\tconst differenceInMilliseconds = now.getTime() - date.getTime();\r\n\r\n\t\t// Convert the difference to days\r\n\t\tconst millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n\t\tconst differenceInDays = Math.floor(\r\n\t\t\tdifferenceInMilliseconds / millisecondsPerDay,\r\n\t\t);\r\n\r\n\t\treturn differenceInDays;\r\n\t}\r\n\r\n\tfunction daysAgoTime(time: number): number {\r\n\t\tconst now = new Date();\r\n\t\treturn Math.floor((now.getTime() - time) / (24 * 60 * 60 * 1000));\r\n\t}\r\n\r\n\tfunction hoursAgo(date: Date): number {\r\n\t\tconst now = new Date();\r\n\t\treturn Math.floor((now.getTime() - date.getTime()) / (60 * 60 * 1000));\r\n\t}\r\n\r\n\tfunction hoursAgoTime(time: number): number {\r\n\t\tconst now = new Date();\r\n\t\treturn Math.floor((now.getTime() - time) / (60 * 60 * 1000));\r\n\t}\r\n\r\n\ttype NumberSuccessCounter = Map<\r\n\t\tnumber,\r\n\t\t{ total: number; successful: number }\r\n\t>;\r\n\r\n\tfunction getSuccessRate(data: RequestsData) {\r\n\t\tconst success: NumberSuccessCounter = new Map();\r\n\t\tlet minDate = new Date(8640000000000000);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst date = new Date(data[i][ColumnIndex.CreatedAt]);\r\n\t\t\tif (period === '24 hours' || period === 'Week') {\r\n\t\t\t\t// Hourly\r\n\t\t\t\tdate.setMinutes(0, 0, 0);\r\n\t\t\t} else {\r\n\t\t\t\tdate.setHours(0, 0, 0, 0);\r\n\t\t\t}\r\n\t\t\tconst time = date.getTime();\r\n\t\t\tif (!success.has(time)) {\r\n\t\t\t\tsuccess.set(time, { total: 0, successful: 0 });\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tdata[i][ColumnIndex.Status] >= 200 &&\r\n\t\t\t\tdata[i][ColumnIndex.Status] <= 299\r\n\t\t\t) {\r\n\t\t\t\tsuccess.get(time).successful++;\r\n\t\t\t}\r\n\t\t\tsuccess.get(time).total++;\r\n\t\t\tif (date < minDate) {\r\n\t\t\t\tminDate = date;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet successArr: number[];\r\n\t\tif (period === '24 hours' || period === 'Week') {\r\n\t\t\t// Hourly\r\n\t\t\tlet hours: number;\r\n\t\t\tif (period === '24 hours') {\r\n\t\t\t\thours = 24;\r\n\t\t\t} else {\r\n\t\t\t\thours = 24 * 7;\r\n\t\t\t}\r\n\r\n\t\t\tsuccessArr = new Array(hours).fill(0); // -0.1 -> 0\r\n\r\n\t\t\tfor (const time of success.keys()) {\r\n\t\t\t\tconst idx = hoursAgoTime(time);\r\n\t\t\t\tif (success.get(time).total && idx >= 0 && idx < hours) {\r\n\t\t\t\t\tsuccessArr[successArr.length - 1 - idx] =\r\n\t\t\t\t\t\tsuccess.get(time).successful / success.get(time).total;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlet days: number;\r\n\t\t\tif (period === 'All time') {\r\n\t\t\t\tdays = daysAgo(minDate);\r\n\t\t\t} else {\r\n\t\t\t\tdays = periodToDays(period);\r\n\t\t\t}\r\n\r\n\t\t\tdays = Math.min(days, 500); // Limit to 500 days\r\n\r\n\t\t\tsuccessArr = new Array(days).fill(0); // -0.1 -> 0\r\n\t\t\tfor (const time of success.keys()) {\r\n\t\t\t\tconst idx = daysAgoTime(time);\r\n\t\t\t\tif (success.get(time).total && idx >= 0 && idx < days) {\r\n\t\t\t\t\tsuccessArr[successArr.length - 1 - idx] =\r\n\t\t\t\t\t\tsuccess.get(time).successful / success.get(time).total;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn successArr;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tsuccessRate = getSuccessRate(data);\r\n\t}\r\n\r\n\tlet successRate: number[];\r\n\r\n\t$: if (data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, period: Period;\r\n</script>\r\n\r\n<div class=\"success-rate-container\">\r\n\t{#if successRate != undefined}\r\n\t\t<div class=\"success-rate-title\">Success rate</div>\r\n\t\t<div class=\"errors\">\r\n\t\t\t{#each successRate as value}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"error level-{Math.floor(value * 10)}\"\r\n\t\t\t\t\ttitle={value >= 0\r\n\t\t\t\t\t\t? `Success rate: ${(value * 100).toFixed(1)}%`\r\n\t\t\t\t\t\t: 'No requests'}\r\n\t\t\t\t/>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n\r\n<style>\r\n\t.errors {\r\n\t\tdisplay: flex;\r\n\t\tmargin-left: 35px;\r\n\t}\r\n\t.error {\r\n\t\tbackground: var(--highlight);\r\n\t\tflex: 1;\r\n\t\theight: 40px;\r\n\t\tmargin: 0 0.1%;\r\n\t\tborder-radius: 1px;\r\n\t}\r\n\t.success-rate-container {\r\n\t\ttext-align: left;\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: var(--dim-text);\r\n\t}\r\n\t.success-rate-title {\r\n\t\tmargin: 0 0 4px 43px;\r\n\t}\r\n\t.success-rate-container {\r\n\t\tmargin: 1.5em 2.5em 2em;\r\n\t}\r\n\t.level-0 {\r\n\t\tbackground: rgb(40, 40, 40);\r\n\t}\r\n\t.level-1 {\r\n\t\tbackground: #e46161;\r\n\t}\r\n\t.level-2 {\r\n\t\tbackground: #f18359;\r\n\t}\r\n\t.level-3 {\r\n\t\tbackground: #f5a65a;\r\n\t}\r\n\t.level-4 {\r\n\t\tbackground: #f3c966;\r\n\t}\r\n\t.level-5 {\r\n\t\tbackground: #ebeb81;\r\n\t}\r\n\t.level-6 {\r\n\t\tbackground: #c7e57d;\r\n\t}\r\n\t.level-7 {\r\n\t\tbackground: #a1df7e;\r\n\t}\r\n\t.level-8 {\r\n\t\tbackground: #77d884;\r\n\t}\r\n\t.level-9 {\r\n\t\tbackground: #3fcf8e;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport type { Period } from '../../../lib/settings';\r\n\timport ActivityRequests from './ActivityRequests.svelte';\r\n\timport ActivityResponseTime from './ActivityResponseTime.svelte';\r\n\timport ActivitySuccessRate from './ActivitySuccessRate.svelte';\r\n\r\n\texport let data: RequestsData, period: Period;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">Activity</div>\r\n\t<ActivityRequests {data} {period} />\r\n\t<ActivityResponseTime {data} {period} />\r\n\t<ActivitySuccessRate {data} {period} />\r\n</div>\r\n\r\n<style>\r\n\t.card {\r\n\t\tmargin: 0;\r\n\t\twidth: 100%;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex, graphColors } from '../../lib/consts';\r\n\r\n\tfunction getVersions(data: RequestsData) {\r\n\t\tconst versions = new Set<string>();\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst match = data[i][ColumnIndex.Path].match(/\\/(v\\d)[^a-z0-9]/i);\r\n\t\t\tif (match) {\r\n\t\t\t\tversions.add(match[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn versions;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tversions = getVersions(data);\r\n\r\n\t\tif (versions.size > 1) {\r\n\t\t\tgenPlot(data);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 10, b: 20, pad: 0 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 180,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Requests' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction pieChart(data: RequestsData) {\r\n\t\tconst versionCount: ValueCount = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst match = data[i][ColumnIndex.Path].match(\r\n\t\t\t\t/[^a-z0-9](v\\d)[^a-z0-9]/i,\r\n\t\t\t);\r\n\t\t\tif (!match) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst version = match[1];\r\n\t\t\tif (version in versionCount) {\r\n\t\t\t\tversionCount[version]++;\r\n\t\t\t} else {\r\n\t\t\t\tversionCount[version] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst versions = Object.keys(versionCount);\r\n\t\tconst count = Object.values(versionCount);\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tvalues: count,\r\n\t\t\t\tlabels: versions,\r\n\t\t\t\ttype: 'pie',\r\n\t\t\t\tmarker: {\r\n\t\t\t\t\tcolors: graphColors,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction getPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: pieChart(data),\r\n\t\t\tlayout: getLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = getPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet versions: Set<string>;\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data && endpointsRendered) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, endpointsRendered: boolean;\r\n</script>\r\n\r\n<div class=\"card\" class:hidden={versions === undefined || versions.size === 1}>\r\n\t<div class=\"card-title\">Version</div>\r\n\t<div id=\"plotly\">\r\n\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\tmargin: 2em 0 2em 0;\r\n\t\tpadding-bottom: 1em;\r\n\t\tflex: 1;\r\n\t}\r\n\t.hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n\t#plotDiv {\r\n\t\tmargin-right: 20px;\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.card {\r\n\t\t\twidth: auto;\r\n\t\t\tflex: 1;\r\n\t\t\tmargin: 0 0 2em 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\tfunction getLayout() {\r\n\t\treturn {\r\n\t\t\tfont: { size: 12 },\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 500,\r\n\t\t\tmargin: { r: 35, l: 70, t: 20, b: 50, pad: 0 },\r\n\t\t\tpolar: {\r\n\t\t\t\tbargap: 0,\r\n\t\t\t\tbgcolor: 'transparent',\r\n\t\t\t\tangularaxis: { direction: 'clockwise', showgrid: false },\r\n\t\t\t\tradialaxis: { gridcolor: '#303030' },\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction bars(data: RequestsData) {\r\n\t\tconst responseTimes = Array(24).fill(0);\r\n\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst date = data[i][ColumnIndex.CreatedAt];\r\n\t\t\tconst time = date.getHours();\r\n\t\t\t// @ts-ignore\r\n\t\t\tresponseTimes[time]++;\r\n\t\t}\r\n\r\n\t\tconst requestFreqArr = Array.from({ length: 24 }, (_, i) => ({\r\n\t\t\thour: i,\r\n\t\t\tresponseTime: responseTimes[i],\r\n\t\t})).sort((a, b) => {\r\n\t\t\treturn a.hour - b.hour;\r\n\t\t});\r\n\r\n\t\tlet dates = new Array(requestFreqArr.length);\r\n\t\tlet requests = new Array(requestFreqArr.length);\r\n\t\tfor (let i = 0; i < requestFreqArr.length; i++) {\r\n\t\t\tdates[i] = requestFreqArr[i].hour.toString() + ':00';\r\n\t\t\trequests[i] = requestFreqArr[i].responseTime;\r\n\t\t}\r\n\r\n\t\t// Shift to 12 onwards to make barpolar like clock face\r\n\t\tdates = dates.slice(12).concat(...dates.slice(0, 12));\r\n\t\trequests = requests.slice(12).concat(...requests.slice(0, 12));\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tr: requests,\r\n\t\t\t\ttheta: dates,\r\n\t\t\t\tmarker: { color: '#3fcf8e' },\r\n\t\t\t\ttype: 'barpolar',\r\n\t\t\t\thovertemplate: `<b>%{r}</b> requests at <b>%{theta}</b><extra></extra>`,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction buildPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: bars(data),\r\n\t\t\tlayout: getLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = buildPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\texport let data: RequestsData;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">Usage time</div>\r\n\t<div id=\"plotly\">\r\n\t\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: 100%;\r\n\t\tmargin: 0;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\tfunction getFlagEmoji(countryCode: string) {\r\n\t\tconst codePoints = countryCode\r\n\t\t\t.toUpperCase()\r\n\t\t\t.split('')\r\n\t\t\t.map((char) => 127397 + char.charCodeAt(undefined));\r\n\t\treturn String.fromCodePoint(...codePoints);\r\n\t}\r\n\r\n\tfunction countryCodeToName(countryCode: string) {\r\n\t\tconst regionNames = new Intl.DisplayNames(['en'], { type: 'region' });\r\n\t\treturn regionNames.of(countryCode);\r\n\t}\r\n\r\n\ttype LocationBar = { location: string; frequency: number; height: number };\r\n\r\n\tfunction getLocationBars(data: RequestsData): LocationBar[] {\r\n\t\tlet max = 0;\r\n\t\tconst locationsFreq: ValueCount = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst location = data[i][ColumnIndex.Location];\r\n\t\t\tif (!location) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (location in locationsFreq) {\r\n\t\t\t\tlocationsFreq[location]++;\r\n\t\t\t} else {\r\n\t\t\t\tlocationsFreq[location] = 1;\r\n\t\t\t}\r\n\t\t\tif (locationsFreq[location] > max) {\r\n\t\t\t\tmax = locationsFreq[location];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst locationBars = Object.entries(locationsFreq)\r\n\t\t\t.map(([location, count]) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tlocation: location,\r\n\t\t\t\t\tfrequency: count,\r\n\t\t\t\t\theight: count / max,\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\treturn b.frequency - a.frequency;\r\n\t\t\t});\r\n\r\n\t\treturn locationBars;\r\n\t}\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tlocations = getLocationBars(data);\r\n\t}\r\n\r\n\tlet locations: LocationBar[] = [];\r\n\r\n\t$: if (data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, targetLocation: string;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">Location</div>\r\n\t{#if locations.length > 0}\r\n\t\t<div class=\"locations-count\">{locations.length} locations</div>\r\n\t\t<div class=\"bars\">\r\n\t\t\t{#each locations.slice(0, 12) as location}\r\n\t\t\t\t<div class=\"bar-container\">\r\n\t\t\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events -->\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclass=\"bar\"\r\n\t\t\t\t\t\ttitle=\"{countryCodeToName(\r\n\t\t\t\t\t\t\tlocation.location,\r\n\t\t\t\t\t\t)}: {location.frequency.toLocaleString()} requests\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tif (targetLocation === location.location) {\r\n\t\t\t\t\t\t\t\ttargetLocation = null;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttargetLocation = location.location;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclass=\"bar-inner\"\r\n\t\t\t\t\t\t\tstyle=\"height: {location.height * 100}%\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"label\">{getFlagEmoji(location.location)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t{:else}\r\n\t\t<div class=\"no-locations\">\r\n\t\t\t<div class=\"no-locations-text\">No Locations Found</div>\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\tflex: 1.2;\r\n\t\tmargin: 2em 1em 2em 0;\r\n\t\tposition: relative;\r\n\t}\r\n\t.bars {\r\n\t\theight: 150px;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 1.5em 2em 1em 2em;\r\n\t}\r\n\r\n\t.bar-container {\r\n\t\tflex: 1;\r\n\t\tmargin: 0 5px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.no-locations {\r\n\t\theight: 180px;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t\tfont-size: 0.95em;\r\n\t}\r\n\t.no-locations-text {\r\n\t\tmargin-bottom: 25px;\r\n\t\tcolor: #707070;\r\n\t}\r\n\r\n\t.bar {\r\n\t\tposition: relative;\r\n\t\tflex-grow: 1;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 3px 3px 0 0;\r\n\t}\r\n\t.bar:hover {\r\n\t\tbackground: linear-gradient(transparent, #444);\r\n\t}\r\n\r\n\t.bar-inner {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\tbackground: var(--highlight);\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\t.label {\r\n\t\tpadding-top: 8px;\r\n\t}\r\n\t.locations-count {\r\n\t\tposition: absolute;\r\n\t\ttop: 1.5em;\r\n\t\tright: 2em;\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: #505050;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1600px) {\r\n\t\t.card {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin: 2em 0 2em;\r\n\t\t}\r\n\t}\r\n</style>\r\n","export function cachedFunction(func) {\r\n    const cache = new Map();\r\n    return (input) => {\r\n        if (cache.has(input)) {\r\n            return cache.get(input);\r\n        }\r\n        const result = func(input);\r\n        cache.set(input, result);\r\n        return result;\r\n    };\r\n}\r\n","export function maintainCandidates(indexUpdated, candidates) {\r\n    // Updated candidate with matches incremented, now need to shift this candidate\r\n    // along to before its original group to maintain sorted order.\r\n    //           v (+1)                          j <-> i            i     j   \r\n    // [6, 5, 5, 5, 1] -> [6, 5, 5, 6, 1] -> [6, 5, 5, 6, 1] -> [6, 6, 5, 5, 1]\r\n    const matches = candidates[indexUpdated].matches;\r\n    // Find index to move updated element to\r\n    let j = indexUpdated;\r\n    while (j > 0 && matches > candidates[j - 1].matches) {\r\n        j--;\r\n    }\r\n    // Swap elements to sort candidates\r\n    if (j < indexUpdated) {\r\n        [candidates[indexUpdated], candidates[j]] = [candidates[j], candidates[indexUpdated]];\r\n    }\r\n}\r\n","<script lang=\"ts\">\r\n\timport { graphColors } from '../../../lib/consts';\r\n\timport { ColumnIndex } from '../../../lib/consts';\r\n\timport { cachedFunction } from '../../../lib/cache';\r\n\timport {\r\n\t\ttype Candidate,\r\n\t\tmaintainCandidates,\r\n\t} from '../../../lib/candidates';\r\n\r\n\tconst clientCandidates: Candidate[] = [\r\n\t\t{ name: 'Curl', regex: /curl\\//, matches: 0 },\r\n\t\t{ name: 'Postman', regex: /PostmanRuntime\\//, matches: 0 },\r\n\t\t{ name: 'Insomnia', regex: /insomnia\\//, matches: 0 },\r\n\t\t{ name: 'Python requests', regex: /python-requests\\//, matches: 0 },\r\n\t\t{ name: 'Nodejs fetch', regex: /node-fetch\\//, matches: 0 },\r\n\t\t{ name: 'Seamonkey', regex: /Seamonkey\\//, matches: 0 },\r\n\t\t{ name: 'Firefox', regex: /Firefox\\//, matches: 0 },\r\n\t\t{ name: 'Chrome', regex: /Chrome\\//, matches: 0 },\r\n\t\t{ name: 'Chromium', regex: /Chromium\\//, matches: 0 },\r\n\t\t{ name: 'aiohttp', regex: /aiohttp\\//, matches: 0 },\r\n\t\t{ name: 'Python', regex: /Python\\//, matches: 0 },\r\n\t\t{ name: 'Go http', regex: /[Gg]o-http-client\\//, matches: 0 },\r\n\t\t{ name: 'Java', regex: /Java\\//, matches: 0 },\r\n\t\t{ name: 'axios', regex: /axios\\//, matches: 0 },\r\n\t\t{ name: 'Dart', regex: /Dart\\//, matches: 0 },\r\n\t\t{ name: 'OkHttp', regex: /OkHttp\\//, matches: 0 },\r\n\t\t{ name: 'Uptime Kuma', regex: /Uptime-Kuma\\//, matches: 0 },\r\n\t\t{ name: 'undici', regex: /undici\\//, matches: 0 },\r\n\t\t{ name: 'Lush', regex: /Lush\\//, matches: 0 },\r\n\t\t{ name: 'Zabbix', regex: /Zabbix/, matches: 0 },\r\n\t\t{ name: 'Guzzle', regex: /GuzzleHttp\\//, matches: 0 },\r\n\t\t{ name: 'Uptime', regex: /Better Uptime/, matches: 0 },\r\n\t\t{ name: 'GitHub Camo', regex: /github-camo/, matches: 0 },\r\n\t\t{ name: 'Ruby', regex: /Ruby/, matches: 0 },\r\n\t\t{ name: 'Node.js', regex: /node/, matches: 0 },\r\n\t\t{ name: 'Next.js', regex: /Next\\.js/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Vercel Edge Functions',\r\n\t\t\tregex: /Vercel Edge Functions/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'OpenAI Image Downloader',\r\n\t\t\tregex: /OpenAI Image Downloader/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{ name: 'OpenAI', regex: /OpenAI/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Tsunami Security Scanner',\r\n\t\t\tregex: /TsunamiSecurityScanner/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{ name: 'iOS', regex: /iOS\\//, matches: 0 },\r\n\t\t{ name: 'Safari', regex: /Safari\\//, matches: 0 },\r\n\t\t{ name: 'Edge', regex: /Edg\\//, matches: 0 },\r\n\t\t{ name: 'Opera', regex: /(OPR|Opera)\\//, matches: 0 },\r\n\t\t{ name: 'Internet Explorer', regex: /(; MSIE |Trident\\/)/, matches: 0 },\r\n\t];\r\n\r\n\tfunction getClient(userAgent: string | null): string {\r\n\t\tif (userAgent == null) {\r\n\t\t\treturn 'Unknown';\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < clientCandidates.length; i++) {\r\n\t\t\tconst candidate = clientCandidates[i];\r\n\t\t\tif (userAgent.match(candidate.regex)) {\r\n\t\t\t\tcandidate.matches++;\r\n\t\t\t\t// Ensure clientCandidates remains sorted by matches desc for future hits\r\n\t\t\t\tmaintainCandidates(i, clientCandidates);\r\n\t\t\t\treturn candidate.name;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 'Other';\r\n\t}\r\n\r\n\tfunction clientPlotLayout() {\r\n\t\tconst monthAgo = new Date();\r\n\t\tmonthAgo.setDate(monthAgo.getDate() - 30);\r\n\t\tconst tomorrow = new Date();\r\n\t\ttomorrow.setDate(tomorrow.getDate() + 1);\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 20, b: 20, pad: 0 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 180,\r\n\t\t\twidth: 411,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Requests' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction pieChart(data: RequestsData) {\r\n\t\tconst clientCount: ValueCount = {};\r\n\t\tconst clientGetter = cachedFunction(getClient);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst userAgent = getUserAgent(data[i][ColumnIndex.UserAgent]);\r\n\t\t\tconst client = clientGetter(userAgent);\r\n\t\t\tif (client in clientCount) {\r\n\t\t\t\tclientCount[client]++;\r\n\t\t\t} else {\r\n\t\t\t\tclientCount[client] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst dataPoints = Object.entries(clientCount).sort(\r\n\t\t\t(a, b) => b[1] - a[1],\r\n\t\t);\r\n\r\n\t\tconst clients = new Array(dataPoints.length);\r\n\t\tconst counts = new Array(dataPoints.length);\r\n\t\tlet i = 0;\r\n\t\tfor (const [client, count] of dataPoints) {\r\n\t\t\tclients[i] = client;\r\n\t\t\tcounts[i] = count;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tvalues: counts,\r\n\t\t\t\tlabels: clients,\r\n\t\t\t\ttype: 'pie',\r\n\t\t\t\tmarker: {\r\n\t\t\t\t\tcolors: graphColors,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction getPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: pieChart(data),\r\n\t\t\tlayout: clientPlotLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = getPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, getUserAgent: (id: number) => string;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t#plotDiv {\r\n\t\tmargin-right: 20px;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { cachedFunction } from '../../../lib/cache';\r\n\timport {\r\n\t\ttype Candidate,\r\n\t\tmaintainCandidates,\r\n\t} from '../../../lib/candidates';\r\n\timport { ColumnIndex, graphColors } from '../../../lib/consts';\r\n\r\n\tconst osCandidates: Candidate[] = [\r\n\t\t{ name: 'Windows 3.11', regex: /Win16/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Windows 95',\r\n\t\t\tregex: /(Windows 95)|(Win95)|(Windows_95)/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{ name: 'Windows 98', regex: /(Windows 98)|(Win98)/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Windows 2000',\r\n\t\t\tregex: /(Windows NT 5.0)|(Windows 2000)/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: 'Windows XP',\r\n\t\t\tregex: /(Windows NT 5.1)|(Windows XP)/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{ name: 'Windows Server 2003', regex: /(Windows NT 5.2)/, matches: 0 },\r\n\t\t{ name: 'Windows Vista', regex: /(Windows NT 6.0)/, matches: 0 },\r\n\t\t{ name: 'Windows 7', regex: /(Windows NT 6.1)/, matches: 0 },\r\n\t\t{ name: 'Windows 8', regex: /(Windows NT 6.2)/, matches: 0 },\r\n\t\t{ name: 'Windows 10/11', regex: /(Windows NT 10.0)/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Windows NT 4.0',\r\n\t\t\tregex: /(Windows NT 4.0)|(WinNT4.0)|(WinNT)|(Windows NT)/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t\t{ name: 'Windows ME', regex: /Windows ME/, matches: 0 },\r\n\t\t{ name: 'OpenBSD', regex: /OpenBSD/, matches: 0 },\r\n\t\t{ name: 'SunOS', regex: /SunOS/, matches: 0 },\r\n\t\t{ name: 'Android', regex: /Android/, matches: 0 },\r\n\t\t{ name: 'Linux', regex: /(Linux)|(X11)/, matches: 0 },\r\n\t\t{ name: 'MacOS', regex: /(Mac_PowerPC)|(Macintosh)/, matches: 0 },\r\n\t\t{ name: 'QNX', regex: /QNX/, matches: 0 },\r\n\t\t{ name: 'iOS', regex: /iPhone OS/, matches: 0 },\r\n\t\t{ name: 'BeOS', regex: /BeOS/, matches: 0 },\r\n\t\t{ name: 'OS/2', regex: /OS\\/2/, matches: 0 },\r\n\t\t{\r\n\t\t\tname: 'Search Bot',\r\n\t\t\tregex: /(APIs-Google)|(AdsBot)|(nuhk)|(Googlebot)|(Storebot)|(Google-Site-Verification)|(Mediapartners)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/,\r\n\t\t\tmatches: 0,\r\n\t\t},\r\n\t];\r\n\r\n\tfunction getOS(userAgent: string | null): string {\r\n\t\tif (userAgent === null) {\r\n\t\t\treturn 'Unknown';\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < osCandidates.length; i++) {\r\n\t\t\tconst candidate = osCandidates[i];\r\n\t\t\tif (userAgent.match(candidate.regex)) {\r\n\t\t\t\tcandidate.matches++;\r\n\t\t\t\t// Ensure osCandidates remains sorted by matches desc for future hits\r\n\t\t\t\tmaintainCandidates(i, osCandidates);\r\n\t\t\t\treturn candidate.name;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 'Other';\r\n\t}\r\n\r\n\tfunction osPlotLayout() {\r\n\t\tconst monthAgo = new Date();\r\n\t\tmonthAgo.setDate(monthAgo.getDate() - 30);\r\n\t\tconst tomorrow = new Date();\r\n\t\ttomorrow.setDate(tomorrow.getDate() + 1);\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 20, b: 20, pad: 0 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 180,\r\n\t\t\twidth: 411,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Requests' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction plotData(data: RequestsData) {\r\n\t\tconst osCount: ValueCount = {};\r\n\t\tconst osGetter = cachedFunction(getOS);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst userAgent = getUserAgent(data[i][ColumnIndex.UserAgent]);\r\n\t\t\tconst os = osGetter(userAgent);\r\n\t\t\tif (os in osCount) {\r\n\t\t\t\tosCount[os]++;\r\n\t\t\t} else {\r\n\t\t\t\tosCount[os] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst dataPoints = Object.entries(osCount).sort((a, b) => b[1] - a[1]);\r\n\r\n\t\tconst oss = new Array(dataPoints.length);\r\n\t\tconst counts = new Array(dataPoints.length);\r\n\t\tlet i = 0;\r\n\t\tfor (const [os, count] of dataPoints) {\r\n\t\t\toss[i] = os;\r\n\t\t\tcounts[i] = count;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tvalues: counts,\r\n\t\t\t\tlabels: oss,\r\n\t\t\t\ttype: 'pie',\r\n\t\t\t\tmarker: {\r\n\t\t\t\t\tcolors: graphColors,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction getPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: plotData(data),\r\n\t\t\tlayout: osPlotLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = getPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, getUserAgent: (id: number) => string;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t#plotDiv {\r\n\t\tmargin-right: 20px;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { ColumnIndex } from '../../../lib/consts';\r\n\timport { cachedFunction } from '../../../lib/cache';\r\n\timport {\r\n\t\ttype Candidate,\r\n\t\tmaintainCandidates,\r\n\t} from '../../../lib/candidates';\r\n\r\n\tconst deviceCandidates: Candidate[] = [\r\n\t\t{ name: 'iPhone', regex: /iPhone/, matches: 0 },\r\n\t\t{ name: 'Android', regex: /Android/, matches: 0 },\r\n\t\t{ name: 'Samsung', regex: /Tizen\\//, matches: 0 },\r\n\t\t{ name: 'Mac', regex: /Macintosh/, matches: 0 },\r\n\t\t{ name: 'Windows', regex: /Windows/, matches: 0 },\r\n\t];\r\n\r\n\tfunction getDevice(userAgent: string | null): string {\r\n\t\tif (userAgent === null) {\r\n\t\t\treturn 'Unknown';\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < deviceCandidates.length; i++) {\r\n\t\t\tconst candidate = deviceCandidates[i];\r\n\t\t\tif (userAgent.match(candidate.regex)) {\r\n\t\t\t\tcandidate.matches++;\r\n\t\t\t\t// Ensure deviceCandidates remains sorted by matches desc for future hits\r\n\t\t\t\tmaintainCandidates(i, deviceCandidates);\r\n\t\t\t\treturn candidate.name;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn 'Other';\r\n\t}\r\n\r\n\tfunction devicePlotLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 35, l: 70, t: 10, b: 20, pad: 0 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 180,\r\n\t\t\twidth: 411,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: { text: 'Requests' },\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tconst colors = [\r\n\t\t'#3FCF8E', // Green\r\n\t\t'#E46161', // Red\r\n\t\t'#EBEB81', // Yellow\r\n\t];\r\n\r\n\tfunction pieChart(data: RequestsData) {\r\n\t\tconst deviceCount: ValueCount = {};\r\n\t\tconst deviceGetter = cachedFunction(getDevice);\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst userAgent = getUserAgent(data[i][ColumnIndex.UserAgent]);\r\n\t\t\tconst device = deviceGetter(userAgent);\r\n\t\t\tif (device in deviceCount) {\r\n\t\t\t\tdeviceCount[device]++;\r\n\t\t\t} else {\r\n\t\t\t\tdeviceCount[device] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst dataPoints = Object.entries(deviceCount).sort(\r\n\t\t\t(a, b) => b[1] - a[1],\r\n\t\t);\r\n\r\n\t\tconst devices = new Array(dataPoints.length);\r\n\t\tconst counts = new Array(dataPoints.length);\r\n\t\tlet i = 0;\r\n\t\tfor (const [browser, count] of dataPoints) {\r\n\t\t\tdevices[i] = browser;\r\n\t\t\tcounts[i] = count;\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tvalues: counts,\r\n\t\t\t\tlabels: devices,\r\n\t\t\t\ttype: 'pie',\r\n\t\t\t\tmarker: {\r\n\t\t\t\t\tcolors: colors,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction getPlotData(data: RequestsData) {\r\n\t\treturn {\r\n\t\t\tdata: pieChart(data),\r\n\t\t\tlayout: devicePlotLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot(data: RequestsData) {\r\n\t\tconst plotData = getPlotData(data);\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\r\n\t$: if (plotDiv && data) {\r\n\t\tgenPlot(data);\r\n\t}\r\n\r\n\texport let data: RequestsData, getUserAgent: (id: number) => string;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t#plotDiv {\r\n\t\tmargin-right: 20px;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport Client from './Client.svelte';\r\n\timport OperatingSystem from './OperatingSystem.svelte';\r\n\timport DeviceType from './DeviceType.svelte';\r\n\r\n\tfunction setBtn(target: 'client' | 'os' | 'device') {\r\n\t\tactiveBtn = target;\r\n\t\t// Resize window to trigger new plot resize to match current card size\r\n\t\twindow.dispatchEvent(new Event('resize'));\r\n\t}\r\n\r\n\tlet activeBtn: 'client' | 'os' | 'device' = 'client';\r\n\r\n\texport let data: RequestsData, getUserAgent: (id: number) => string;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-title\">\r\n\t\tDevice\r\n\t\t<div class=\"toggle\">\r\n\t\t\t<button\r\n\t\t\t\tclass:active={activeBtn === 'client'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('client');\r\n\t\t\t\t}}>Client</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:active={activeBtn === 'os'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('os');\r\n\t\t\t\t}}>OS</button\r\n\t\t\t>\r\n\t\t\t<button\r\n\t\t\t\tclass:active={activeBtn === 'device'}\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tsetBtn('device');\r\n\t\t\t\t}}>Device</button\r\n\t\t\t>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"client\" class:display={activeBtn === 'client'}>\r\n\t\t<Client {data} {getUserAgent} />\r\n\t</div>\r\n\t<div class=\"os\" class:display={activeBtn === 'os'}>\r\n\t\t<OperatingSystem {data} {getUserAgent} />\r\n\t</div>\r\n\t<div class=\"device\" class:display={activeBtn === 'device'}>\r\n\t\t<DeviceType {data} {getUserAgent} />\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t.card {\r\n\t\tmargin: 2em 0 2em 1em;\r\n\t\tpadding-bottom: 1em;\r\n\t\twidth: 420px;\r\n\t}\r\n\t.card-title {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.toggle {\r\n\t\tmargin-left: auto;\r\n\t}\r\n\t.active {\r\n\t\tbackground: var(--highlight);\r\n\t}\r\n\t.os,\r\n\t.client,\r\n\t.device {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.display {\r\n\t\tdisplay: initial;\r\n\t}\r\n\tbutton {\r\n\t\tborder: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: rgb(68, 68, 68);\r\n\t\tcursor: pointer;\r\n\t\tpadding: 2px 6px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\tbutton:hover {\r\n\t\tbackground: rgb(88, 88, 88);\r\n\t}\r\n\t@media screen and (max-width: 1600px) {\r\n\t\t.card {\r\n\t\t\tmargin: 0 0 2em;\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n</style>\r\n","function randomChoice(p) {\r\n    let rnd = p.reduce((a, b) => a + b) * Math.random();\r\n    return p.findIndex((a) => (rnd -= a) < 0);\r\n}\r\nfunction randomChoices(p, count) {\r\n    return Array.from(Array(count), randomChoice.bind(null, p));\r\n}\r\nconst userAgents = [\r\n    'Mozilla/5.0 (iPhone; CPU iPhone OS 13_5_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/604.1',\r\n    'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0',\r\n    'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36 Edg/91.0.864.59',\r\n    'curl/7.64.1',\r\n    'PostmanRuntime/7.26.5',\r\n    'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.106 Safari/537.36 OPR/38.0.2220.41',\r\n    'Mozilla/5.0 (Macintosh; Intel Mac OS X x.y; rv:42.0) Gecko/20100101 Firefox/42.0',\r\n    'python-requests/2.26.0',\r\n];\r\nconst userAgentDist = [0.19, 0.11, 0.04, 0.01, 0.01, 0.01, 0.01, 0.01];\r\nfunction getUserAgent() {\r\n    return randInt(0, userAgentDist.length);\r\n}\r\nfunction getUserAgents() {\r\n    const userAgentsMapping = {};\r\n    for (let i = 0; i < 100; i++) {\r\n        userAgentsMapping[i] = userAgents[i];\r\n    }\r\n    return userAgentsMapping;\r\n}\r\nconst hoursDist = (() => {\r\n    const p = Array(24).fill(1);\r\n    // Create daytime peak\r\n    for (let i = 0; i < 3; i++) {\r\n        for (let j = 5 + i; j < 11 - i; j++) {\r\n            p[j] += 0.15;\r\n        }\r\n    }\r\n    // Create evening peak\r\n    for (let i = 0; i < 4; i++) {\r\n        for (let j = 11 + i; j < 21 - i; j++) {\r\n            p[j] += 0.15;\r\n        }\r\n    }\r\n    return p;\r\n})();\r\nfunction getDemoHour() {\r\n    return randomChoices(hoursDist, 1)[0];\r\n}\r\nconst ipAddresses = [\r\n    '221.145.0.18',\r\n    '179.165.209.6',\r\n    '218.185.112.18',\r\n    '164.106.76.18',\r\n    '107.183.11.13',\r\n    '127.140.0.11',\r\n    '1.242.251.12',\r\n    '160.191.80.13',\r\n    '208.153.65.23',\r\n    '75.240.83.15',\r\n    '236.31.180.23',\r\n    '174.103.88.45',\r\n    '154.187.209.10',\r\n    '217.15.141.20',\r\n    '195.61.155.23',\r\n    '204.201.72.66',\r\n    '200.9.89.14',\r\n    '237.181.159.16',\r\n    '66.158.205.22',\r\n    '48.8.241.128',\r\n    '74.38.156.61',\r\n    '230.53.33.64',\r\n    '134.114.31.20',\r\n    '56.42.158.51',\r\n    '165.118.190.85',\r\n    '111.26.120.25',\r\n    '163.37.131.30',\r\n    '113.23.155.14',\r\n    '60.169.195.69',\r\n    '187.174.225.25',\r\n    '58.44.200.16',\r\n    '80.69.238.21',\r\n    '29.44.240.56',\r\n    '119.244.146.13',\r\n    '202.170.147.21',\r\n    '224.104.121.86',\r\n    '167.195.189.16',\r\n    '9.61.35.157',\r\n    '147.188.109.24',\r\n    '143.123.172.59',\r\n    '219.188.252.22',\r\n    '165.69.249.54',\r\n    '89.24.126.49',\r\n    '144.48.121.13',\r\n    '23.4.58.252',\r\n    '92.244.221.27',\r\n    '163.119.106.48',\r\n    '64.166.232.8',\r\n    '230.32.68.99',\r\n    '70.127.237.2',\r\n];\r\nconst ipAddressesDist = (() => {\r\n    const p = Array(ipAddresses.length).fill(1);\r\n    for (let i = 1; i < ipAddresses.length; i++) {\r\n        p[i] = p[i - 1] / 1.06;\r\n    }\r\n    return p;\r\n})();\r\nconst userIDs = [\r\n    '7aeb0c47-3d1d-4e5b-b650-5a5d89688a8c',\r\n    'af2f8c61-4c39-48c5-95fc-10112d91f96f',\r\n    'eebc6e3f-b18d-4b2a-bc14-1f649d5d8fb2',\r\n    '05f3fc20-8f48-4b19-ae25-7223446b4b0a',\r\n    'c1e1c92d-7415-4c4e-bc1c-9b7eb7f11d78',\r\n    'f2c17664-2be4-45d4-a2b5-9fd69a4e69c8',\r\n    '73d8e71d-89f7-4648-9419-b6d75b83b0f3',\r\n    '9a7c47c5-30a4-4c1d-ae85-99b5fcfca32a',\r\n    'e2675b9c-1f91-4e91-8d76-b5f7a2059a11',\r\n    'a450a0c6-c3b4-4b48-b52c-038eb380647d',\r\n    '5a3b9ad3-92a1-4e2e-834d-ec2134228c85',\r\n    '8b812cc0-ee91-4b99-81b2-b290c6e70784',\r\n    'd8894ea0-7b0f-4b29-9a76-9508cdd73d0d',\r\n    '63492fb4-29d5-45a1-ae5b-d85b8e1270ac',\r\n    '1a381a63-2b6b-44c0-8721-3b131199fbc2',\r\n    '56e04612-0f34-4e52-8fe5-53b754aa1e90',\r\n    'b97af44b-9b43-43c0-95e0-2c4b9127a77f',\r\n    'e4fb46e3-ae3d-4031-8b47-0b5d16dc83fc',\r\n    '99d7e572-26d4-44b5-88c4-92f1f3e50892',\r\n    '2fd7a3fb-5de9-4e8e-93a7-2dbf1d6d7485',\r\n    '9c622482-69ff-491d-a96b-4e7dd29b4a5d',\r\n];\r\nfunction getUserID() {\r\n    const idx = randomChoice(ipAddressesDist);\r\n    return [ipAddresses[idx] + randInt(0, 9).toString(), userIDs[idx]];\r\n}\r\nconst locations = [\r\n    'GB',\r\n    'US',\r\n    'MX',\r\n    'CA',\r\n    'FR',\r\n    'AU',\r\n    'ID',\r\n    'IE',\r\n    'DE',\r\n    'PL',\r\n    'AF',\r\n    'AL',\r\n    'DZ',\r\n    'AS',\r\n    'AD',\r\n    'AO',\r\n    'AI',\r\n    'AQ',\r\n    'AG',\r\n    'AR',\r\n    'AM',\r\n    'AW',\r\n    'AT',\r\n    'AZ',\r\n    'BS',\r\n    'BH',\r\n    'BD',\r\n    'BB',\r\n    'BY',\r\n    'BE',\r\n    'BZ',\r\n    'BJ',\r\n    'BM',\r\n    'BT',\r\n    'BO',\r\n    'BQ',\r\n];\r\nconst locationsDist = [\r\n    0.56, 1, 0.18, 0.2, 0.4, 0.3, 0.1, 0.05, 0.2, 0.06, 0.01, 0.01, 0.01, 0.01,\r\n    0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01,\r\n    0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01,\r\n    0.01,\r\n];\r\nfunction getLocation() {\r\n    const idx = randomChoice(locationsDist);\r\n    return locations[idx];\r\n}\r\nconst hostnames = ['example.com', 'example2.com', 'example3.com'];\r\nconst hostnamesDist = [0.5, 0.35, 0.15];\r\nfunction getHostname() {\r\n    const idx = randomChoice(hostnamesDist);\r\n    return hostnames[idx];\r\n}\r\nfunction daysToSeconds(days) {\r\n    return days * 24 * 60 * 60;\r\n}\r\nfunction getDate(daysAgo, distribution, outages) {\r\n    let secondsAgo;\r\n    switch (distribution) {\r\n        case Distribution.Uniform:\r\n            secondsAgo = randInt(daysToSeconds(daysAgo.min), daysToSeconds(daysAgo.max));\r\n            break;\r\n        case Distribution.Poisson:\r\n            secondsAgo = samplePoisson(3, daysToSeconds(daysAgo.max));\r\n            break;\r\n        case Distribution.Normal:\r\n            secondsAgo = randn_bm(daysToSeconds(daysAgo.min), daysToSeconds(daysAgo.max), 0.75);\r\n            break;\r\n    }\r\n    // Check if chosen date falls inside of an outage\r\n    for (const outage of outages) {\r\n        if (secondsAgo > daysToSeconds(outage.min) &&\r\n            secondsAgo < daysToSeconds(outage.max)) {\r\n            return null;\r\n        }\r\n    }\r\n    const now = new Date();\r\n    const date = new Date(now.getTime() - secondsAgo * 1000);\r\n    date.setHours(getDemoHour(), Math.floor(Math.random() * 60));\r\n    return date;\r\n}\r\nfunction randInt(min, max) {\r\n    return Math.floor(Math.random() * max + min);\r\n}\r\nfunction addDemoSamples(demoData, config, outages = []) {\r\n    for (let i = 0; i < config.count; i++) {\r\n        const date = getDate(config.daysAgo, config.distribution, outages);\r\n        if (date === null) {\r\n            continue;\r\n        }\r\n        const [ipAddress, userID] = getUserID();\r\n        demoData.push([\r\n            // randInt(config.user.min, config.user.max).toString(),\r\n            ipAddress,\r\n            config.endpoint,\r\n            getHostname(),\r\n            getUserAgent(),\r\n            config.method || 0,\r\n            randInt(config.responseTime.min, config.responseTime.max),\r\n            config.status,\r\n            getLocation(),\r\n            userID,\r\n            date,\r\n        ]);\r\n    }\r\n}\r\nvar Distribution;\r\n(function (Distribution) {\r\n    Distribution[Distribution[\"Uniform\"] = 0] = \"Uniform\";\r\n    Distribution[Distribution[\"Normal\"] = 1] = \"Normal\";\r\n    Distribution[Distribution[\"Poisson\"] = 2] = \"Poisson\";\r\n})(Distribution || (Distribution = {}));\r\nfunction samplePoisson(lambda, T) {\r\n    const sampleNextEventTime = () => {\r\n        return -Math.log(Math.random()) / lambda;\r\n    };\r\n    let time = 0;\r\n    let nEvents = 0;\r\n    while (time < T) {\r\n        time += sampleNextEventTime();\r\n        nEvents++;\r\n    }\r\n    return nEvents - 1;\r\n}\r\nfunction gaussianRand() {\r\n    let rand = 0;\r\n    for (let i = 0; i < 6; i += 1) {\r\n        rand += Math.random();\r\n    }\r\n    return rand / 6;\r\n}\r\nfunction randn_bm(min, max, skew) {\r\n    let u = 0, v = 0;\r\n    while (u === 0)\r\n        u = Math.random(); //Converting [0,1) to (0,1)\r\n    while (v === 0)\r\n        v = Math.random();\r\n    let num = Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2.0 * Math.PI * v);\r\n    num = num / 10.0 + 0.5; // Translate to 0 -> 1\r\n    if (num > 1 || num < 0)\r\n        num = randn_bm(min, max, skew); // resample between 0 and 1 if out of range\r\n    else {\r\n        num = Math.pow(num, skew); // Skew\r\n        num *= max - min; // Stretch to fill range\r\n        num += min; // offset to min\r\n    }\r\n    return num;\r\n}\r\nfunction gaussianRandom(start, end) {\r\n    return Math.floor(start + gaussianRand() * (end - start + 1));\r\n}\r\nfunction scaleRange(range, scale) {\r\n    return {\r\n        min: range.min * scale,\r\n        max: range.max * scale,\r\n    };\r\n}\r\nfunction createUniformBaselineSamples(demoRequests, maxDaysAgo, scale, outages) {\r\n    const count = 12000 * scale;\r\n    const maxRange = { min: 0, max: maxDaysAgo };\r\n    const v1ResponseTime = { min: 35, max: 163 };\r\n    const v2ResponseTime = { min: 19, max: 137 };\r\n    const v3ResponseTime = { min: 10, max: 80 };\r\n    const notFoundResponseTime = { min: 6, max: 30 };\r\n    const user = { min: 0, max: count * 0.006 };\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v1/',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v1ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.001,\r\n        endpoint: '/api/v1/',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: v1ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.01,\r\n        endpoint: '/api/v1/',\r\n        status: 500,\r\n        daysAgo: maxRange,\r\n        responseTime: v1ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.45,\r\n        endpoint: '/api/v1/account',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v1ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.011,\r\n        endpoint: '/api/v1/account',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v1ResponseTime, 4),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.21,\r\n        endpoint: '/api/v1/account',\r\n        status: 500,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v1ResponseTime, 4),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.07,\r\n        endpoint: '/api/v1/account',\r\n        status: 504,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v1ResponseTime, 4),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0053,\r\n        endpoint: '/api/v1/accounts',\r\n        status: 404,\r\n        daysAgo: maxRange,\r\n        responseTime: notFoundResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 1.42,\r\n        endpoint: '/api/v2/',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0009,\r\n        endpoint: '/api/v2/',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.33,\r\n        endpoint: '/api/v2/account',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.023,\r\n        endpoint: '/api/v2/account',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0051,\r\n        endpoint: '/api/v2/account',\r\n        status: 500,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.007,\r\n        endpoint: '/api/v2/account',\r\n        status: 504,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.33,\r\n        endpoint: '/api/v2/help',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.2,\r\n        endpoint: '/api/v2/info',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.62,\r\n        endpoint: '/api/v2/account',\r\n        method: 1,\r\n        status: 201,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.32,\r\n        endpoint: '/api/v2/account/delete',\r\n        method: 1,\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.012,\r\n        endpoint: '/api/v2/account/delete',\r\n        method: 1,\r\n        status: 409,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.019,\r\n        endpoint: '/api/v2/account/delete',\r\n        method: 1,\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.00051,\r\n        endpoint: '/api/v2/account',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: v2ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0092,\r\n        endpoint: '/api/v2/accounts',\r\n        status: 404,\r\n        daysAgo: maxRange,\r\n        responseTime: notFoundResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.412,\r\n        endpoint: '/api/v3/',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v3ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0081,\r\n        endpoint: '/api/v3/',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: v3ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.052,\r\n        endpoint: '/api/v3/account',\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v3ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0022,\r\n        endpoint: '/api/v3/account',\r\n        status: 400,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.22,\r\n        endpoint: '/api/v3/account',\r\n        method: 1,\r\n        status: 201,\r\n        daysAgo: maxRange,\r\n        responseTime: scaleRange(v3ResponseTime, 6),\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.12,\r\n        endpoint: '/api/v3/account/delete',\r\n        method: 1,\r\n        status: 200,\r\n        daysAgo: maxRange,\r\n        responseTime: v3ResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.00011,\r\n        endpoint: '/api/v3/accounts',\r\n        status: 404,\r\n        daysAgo: maxRange,\r\n        responseTime: notFoundResponseTime,\r\n        user: user,\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0016,\r\n        endpoint: '/api/v3/admin',\r\n        status: 403,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 5,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 130,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.0026,\r\n        endpoint: '/api/v3/admin',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 5,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n}\r\nfunction createVariableBaselineSamples(demoRequests, maxDaysAgo, scale, outages) {\r\n    const count = 2000 * scale;\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v1/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v3/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 2,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v2/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 3,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v1/account',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 4,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v2/account',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 5,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v3/account',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 5,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.5,\r\n        endpoint: '/api/v1/account',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo / 4,\r\n        },\r\n        responseTime: {\r\n            min: 25,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 390,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n}\r\nfunction createVariableUsageSamples(demoRequests, maxDaysAgo, scale, outages) {\r\n    const count = 1000 * scale;\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v1/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.7,\r\n            max: maxDaysAgo * 0.75,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 115,\r\n            max: 116,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.3,\r\n        endpoint: '/api/v1/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.79,\r\n            max: maxDaysAgo * 0.83,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v3/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.7,\r\n            max: maxDaysAgo * 0.9,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v2/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.3,\r\n            max: maxDaysAgo * 0.6,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v2/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.3,\r\n            max: maxDaysAgo * 0.6,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v2/',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.1,\r\n            max: maxDaysAgo * 0.55,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 2,\r\n        endpoint: '/api/v2/account',\r\n        status: 200,\r\n        daysAgo: {\r\n            min: maxDaysAgo * 0.1,\r\n            max: maxDaysAgo * 0.55,\r\n        },\r\n        responseTime: {\r\n            min: 60,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n}\r\nfunction createErrorSamples(demoRequests, maxDaysAgo, scale, outages) {\r\n    const count = 300 * scale;\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/v1/',\r\n        status: 500,\r\n        daysAgo: {\r\n            min: 200,\r\n            max: 210,\r\n        },\r\n        responseTime: {\r\n            min: 100,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.6,\r\n        endpoint: '/api/v1/account',\r\n        status: 500,\r\n        daysAgo: {\r\n            min: 250,\r\n            max: 260,\r\n        },\r\n        responseTime: {\r\n            min: 100,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.6,\r\n        endpoint: '/api/v2/account',\r\n        status: 500,\r\n        daysAgo: {\r\n            min: 250,\r\n            max: 260,\r\n        },\r\n        responseTime: {\r\n            min: 100,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.6,\r\n        endpoint: '/api/v4/account',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 24,\r\n            max: 27,\r\n        },\r\n        responseTime: {\r\n            min: 100,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.6,\r\n        endpoint: '/api/v3/account/test',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 20,\r\n            max: 40,\r\n        },\r\n        responseTime: {\r\n            min: 100,\r\n            max: 600,\r\n        },\r\n        user: {\r\n            min: 116,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/robots.txt',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 10,\r\n            max: 200,\r\n        },\r\n        user: {\r\n            min: 100,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 3,\r\n        endpoint: '/robots.txt',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 10,\r\n            max: 20,\r\n        },\r\n        user: {\r\n            min: 100,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/api/.env',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 10,\r\n            max: 20,\r\n        },\r\n        user: {\r\n            min: 100,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count,\r\n        endpoint: '/.env',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 10,\r\n            max: 20,\r\n        },\r\n        user: {\r\n            min: 100,\r\n            max: 120,\r\n        },\r\n        distribution: Distribution.Uniform,\r\n    }, outages);\r\n    addDemoSamples(demoRequests, {\r\n        count: count * 0.05,\r\n        endpoint: '/test',\r\n        status: 404,\r\n        daysAgo: {\r\n            min: 0,\r\n            max: maxDaysAgo,\r\n        },\r\n        responseTime: {\r\n            min: 10,\r\n            max: 20,\r\n        },\r\n        user: {\r\n            min: 96,\r\n            max: 100,\r\n        },\r\n        distribution: Distribution.Normal,\r\n    }, outages);\r\n}\r\nexport default function genDemoData() {\r\n    const demoRequests = [];\r\n    const maxDaysAgo = 460;\r\n    const scale = 1.5;\r\n    const outages = [\r\n        { min: 300, max: 305 },\r\n        { min: 310, max: 313 },\r\n    ];\r\n    // Baseline\r\n    createUniformBaselineSamples(demoRequests, maxDaysAgo, scale, outages);\r\n    createVariableBaselineSamples(demoRequests, maxDaysAgo, scale, outages);\r\n    // Usage\r\n    createVariableUsageSamples(demoRequests, maxDaysAgo, scale, outages);\r\n    // Anomalies\r\n    createErrorSamples(demoRequests, maxDaysAgo, scale, outages);\r\n    const demoData = {\r\n        user_agents: getUserAgents(),\r\n        requests: demoRequests,\r\n    };\r\n    return demoData;\r\n}\r\n","export default function formatUUID(userID) {\r\n    return `${userID.slice(0, 8)}-${userID.slice(8, 12)}-${userID.slice(12, 16)}-${userID.slice(16, 20)}-${userID.slice(20)}`;\r\n}\r\n","<script lang=\"ts\">\r\n\tfunction removeItem(item: string) {\r\n\t\tconst newItems: Set<string> = new Set();\r\n\t\tfor (const value of items) {\r\n\t\t\tif (value !== item) {\r\n\t\t\t\tnewItems.add(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\titems = newItems;\r\n\t}\r\n\r\n\tfunction addItem(item: string) {\r\n\t\tconst newItems = new Set(items);\r\n\t\tif (item.charAt(0) !== '/') {\r\n\t\t\titem = '/' + item;\r\n\t\t}\r\n\t\tnewItems.add(item);\r\n\t\titems = newItems;\r\n\t\tinput.value = null;\r\n\t}\r\n\r\n\tfunction handleInputKeyDown(e: KeyboardEvent) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\taddItem(input.value);\r\n\t\t}\r\n\t}\r\n\r\n\tlet input: HTMLInputElement;\r\n\tconst hideOptions: boolean = true;\r\n\r\n\texport let items: Set<string>, placeholder: string;\r\n</script>\r\n\r\n<div class=\"container\">\r\n\t<div class=\"inner\">\r\n\t\t<input\r\n\t\t\ttype=\"text\"\r\n\t\t\tname=\"item\"\r\n\t\t\tid=\"\"\r\n\t\t\t{placeholder}\r\n\t\t\tbind:this={input}\r\n\t\t\ton:keydown={handleInputKeyDown}\r\n\t\t/>\r\n\t\t<div class=\"items\" class:hidden={hideOptions}>\r\n\t\t\t{#each Array.from(items) as item, _}\r\n\t\t\t\t<div class=\"item\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"remove-btn\"\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tremoveItem(item);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tx\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<div class=\"item-text\">\r\n\t\t\t\t\t\t{item}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.items {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tborder-radius: 0px 4px 4px 0px;\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\twidth: 100%;\r\n\t}\r\n\t.item {\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tdisplay: flex;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\t.item-text {\r\n\t\tflex-grow: 1;\r\n\t\ttext-align: left;\r\n\t\tmargin: 4px 12px;\r\n\t\tfont-size: 0.8em;\r\n\t}\r\n\tinput {\r\n\t\tmargin: 10px 0;\r\n\t\theight: 2em;\r\n\t\ttext-align: left;\r\n\t\tpadding: 0.1em 1em;\r\n\t\tfont-size: 0.9em;\r\n\t\twidth: auto;\r\n\t}\r\n\t.remove-btn {\r\n\t\tbackground: transparent;\r\n\t\toutline: none;\r\n\t\tborder: none;\r\n\t\tcolor: white;\r\n\t\tpadding: 0 1em;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 2px;\r\n\t}\r\n\t.remove-btn:hover {\r\n\t\tbackground: grey;\r\n\t}\r\n\r\n\t.inner {\r\n\t\tz-index: 9;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tfont-size: 1em;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport type { DashboardSettings } from '../../lib/settings';\r\n\timport List from './List.svelte';\r\n\r\n\tfunction toggleDisable404() {\r\n\t\tsettings.disable404 = !settings.disable404;\r\n\t}\r\n\r\n\tfunction hideSettings() {\r\n\t\tshow = false;\r\n\t}\r\n\r\n\tlet container: HTMLDivElement;\r\n\tonMount(() => {\r\n\t\tcontainer.addEventListener('click', (e) => {\r\n\t\t\te.stopImmediatePropagation();\r\n\t\t});\r\n\t});\r\n\r\n\texport let show: boolean,\r\n\t\tsettings: DashboardSettings,\r\n\t\texportCSV: () => void;\r\n</script>\r\n\r\n<!-- svelte-ignore a11y-click-events-have-key-events -->\r\n<div class=\"background\" class:hidden={!show} on:click={hideSettings}>\r\n\t<div class=\"container\" bind:this={container}>\r\n\t\t<h2 class=\"title\">Settings</h2>\r\n\t\t<div class=\"disable404 setting\">\r\n\t\t\t<div class=\"setting-label\">Disable 404</div>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\tname=\"disable404\"\r\n\t\t\t\tid=\"checkbox\"\r\n\t\t\t\ton:change={toggleDisable404}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<div class=\"setting-title\">Filters:</div>\r\n\t\t<div class=\"setting-filters\">\r\n\t\t\t<div class=\"setting-filter\">\r\n\t\t\t\tHostname: <span class:text-white={settings.hostname}\r\n\t\t\t\t\t>{settings.hostname ?? 'None'}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"setting-filter\">\r\n\t\t\t\tPeriod: <span class:text-white={settings.period}\r\n\t\t\t\t\t>{settings.period === 'All time'\r\n\t\t\t\t\t\t? 'None'\r\n\t\t\t\t\t\t: settings.period}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"setting-filter\">\r\n\t\t\t\tEndpoint: <span class:text-white={settings.targetEndpoint.path}\r\n\t\t\t\t\t>{settings.targetEndpoint.path ?? 'None'}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"setting-filter\">\r\n\t\t\t\tStatus: <span class:text-white={settings.targetEndpoint.status}\r\n\t\t\t\t\t>{settings.targetEndpoint.status ?? 'None'}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"setting-filter\">\r\n\t\t\t\tLocation: <span class:text-white={settings.targetLocation}\r\n\t\t\t\t\t>{settings.targetLocation ?? 'None'}</span\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"setting-title\">Hidden endpoints:</div>\r\n\t\t<div class=\"setting\">\r\n\t\t\t<List\r\n\t\t\t\tbind:items={settings.hiddenEndpoints}\r\n\t\t\t\tplaceholder={'/api/v1/example'}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t\t<div class=\"export-csv\">\r\n\t\t\t<button class=\"export-csv-btn\" on:click={exportCSV}>\r\n\t\t\t\tExport CSV\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.background {\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\theight: 100vh;\r\n\t\twidth: 100%;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tcursor: pointer;\r\n\t\tz-index: 10;\r\n\t}\r\n\t.container {\r\n\t\tbackground: var(--background);\r\n\t\tborder-radius: 6px;\r\n\t\twidth: 30vw;\r\n\t\t/* min-height: 30vh; */\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tcolor: var(--faded-text);\r\n\t\tz-index: 20;\r\n\t\tposition: absolute;\r\n\t\tcursor: default !important;\r\n\t\tpointer-events: bounding-box;\r\n\t\tpadding: 30px 50px 50px;\r\n\t\tposition: relative;\r\n\t}\r\n\t.title {\r\n\t\tfont-size: 1.8em;\r\n\t\tfont-weight: 600;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.setting-title {\r\n\t\ttext-align: left;\r\n\t}\r\n\t.hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.setting {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.setting-label {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\t.text-white {\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.setting-filters {\r\n\t\tmargin-bottom: 2em;\r\n\t\tmargin-top: 5px;\r\n\t\ttext-align: left;\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: #707070;\r\n\t}\r\n\t.setting-filter {\r\n\t\tmargin: 2px 0;\r\n\t}\r\n\r\n\tinput {\r\n\t\tmargin-bottom: 2em;\r\n\t}\r\n\r\n\t#checkbox {\r\n\t\theight: 15px;\r\n\t\twidth: 15px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.export-csv {\r\n\t\tposition: absolute;\r\n\t\ttext-align: right;\r\n\t\t/* margin-top: 30px; */\r\n\t\tright: 50px;\r\n\t\ttop: 2.4em;\r\n\t}\r\n\t.export-csv-btn {\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tpadding: 5px 12px;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\t.export-csv-btn:hover {\r\n\t\tbackground: var(--highlight);\r\n\t\tcolor: var(--background);\r\n\t}\r\n\r\n\t@media screen and (max-width: 1400px) {\r\n\t\t.container {\r\n\t\t\twidth: 60vw;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 800px) {\r\n\t\t.container {\r\n\t\t\twidth: 70vw;\r\n\t\t\tpadding: 1.5em 2em;\r\n\t\t}\r\n\t\t.export-csv {\r\n\t\t\ttop: 1.5em;\r\n\t\t\tright: 2em;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\tfunction selectOption(option: string | null) {\r\n\t\tselected = option;\r\n\t\thideOptions = true;\r\n\t}\r\n\r\n\tlet hideOptions: boolean = true;\r\n\texport let options: string[],\r\n\t\tselected: string | null,\r\n\t\tdefaultOption: string;\r\n</script>\r\n\r\n<div class=\"dropdown\" id=\"dropdown\">\r\n\t<div class=\"inner\" class:no-click={hideOptions}>\r\n\t\t<button\r\n\t\t\tclass=\"current\"\r\n\t\t\tclass:square-bottom={!hideOptions}\r\n\t\t\ton:click={() => {\r\n\t\t\t\thideOptions = !hideOptions;\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke-width=\"2\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\tclass=\"w-6 h-6\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\td=\"M19.5 8.25l-7.5 7.5-7.5-7.5\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t\t{selected || defaultOption}\r\n\t\t</button>\r\n\t\t<div class=\"options\" class:hidden={hideOptions}>\r\n\t\t\t{#each [defaultOption, ...options] as option, i}\r\n\t\t\t\t{#if option !== selected && option !== null && (selected !== null || option !== defaultOption)}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"option\"\r\n\t\t\t\t\t\tclass:last-option={(selected === defaultOption &&\r\n\t\t\t\t\t\t\ti === options.length - 1) ||\r\n\t\t\t\t\t\t\t(selected !== defaultOption &&\r\n\t\t\t\t\t\t\t\ti === options.length)}\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tif (option === defaultOption) {\r\n\t\t\t\t\t\t\t\tselectOption(null);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tselectOption(option);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}>{option}</button\r\n\t\t\t\t\t>\r\n\t\t\t\t{/if}\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.dropdown {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 28px;\r\n\t}\r\n\t.current {\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tpadding: 5px 15px 5px 9px;\r\n\t\tcursor: pointer;\r\n\t\tdisplay: flex;\r\n\t\tpointer-events: all;\r\n\t}\r\n\t.options {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tborder-radius: 0px 0 4px 0px;\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\ttop: 66px;\r\n\t\tz-index: 100;\r\n\t\tmargin-bottom: 50px;\r\n\t\twidth: 100%;\r\n\t}\r\n\t.option {\r\n\t\tbackground: var(--background);\r\n\t\tcolor: var(--dim-text);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tborder-top: none;\r\n\t\tpadding: 5px 15px 5px 31px;\r\n\t\ttext-align: left;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.option:hover,\r\n\t.current:hover {\r\n\t\tbackground: #161616;\r\n\t}\r\n\t.hidden {\r\n\t\tvisibility: hidden;\r\n\t}\r\n\t.last-option {\r\n\t\tborder-radius: 0 0 4px 4px;\r\n\t}\r\n\t.square-bottom {\r\n\t\tborder-radius: 4px 4px 0 0;\r\n\t}\r\n\t.inner {\r\n\t\tz-index: 9;\r\n\t\tdisplay: flex;\r\n\t\twidth: inherit;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t.no-click {\r\n\t\tpointer-events: none;\r\n\t}\r\n\tsvg {\r\n\t\twidth: 16px;\r\n\t\tmargin-right: 6px;\r\n\t\topacity: 0.6;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport type { NotificationState } from '../../lib/notification';\r\n\r\n\texport let state: NotificationState;\r\n</script>\r\n\r\n<div\r\n\tclass=\"notification\"\r\n\tclass:show={state.show}\r\n\tclass:error={state.style === 'error'}\r\n\tclass:warn={state.style === 'warn'}\r\n\tclass:success={state.style === 'success'}\r\n>\r\n\t<div class=\"message\">{state.message}</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.notification {\r\n\t\tposition: fixed;\r\n\t\tright: 2em;\r\n\t\tbottom: 2em;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t\tpadding: 1.6em 3em;\r\n\t\tborder-radius: 6px;\r\n\t\topacity: 0;\r\n\t\ttransition: opacity 0.2s linear;\r\n\t}\r\n\r\n\t.show {\r\n\t\topacity: 1 !important;\r\n\t}\r\n\r\n\t.error {\r\n\t\tbackground: #521e24c7;\r\n\t\tbackground: rgba(76, 27, 31, 0.95);\r\n\t\tcolor: #cc3444;\r\n\t}\r\n\t.warn {\r\n\t\tbackground: rgba(186, 186, 100, 0.95);\r\n\t\tcolor: yellow;\r\n\t}\r\n\t.success {\r\n\t\tbackground: rgba(47, 66, 58, 0.95);\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n</style>\r\n","import { ColumnIndex } from './consts';\r\nfunction convertLineToCSV(line, userAgents) {\r\n    let str = '';\r\n    for (let i = 0; i < line.length; i++) {\r\n        if (i > 0) {\r\n            str += ',';\r\n        }\r\n        if (i === ColumnIndex.UserAgent) {\r\n            // Commas in user agent strings will break the CSV\r\n            if (line[i] in userAgents) {\r\n                str += `\"${userAgents[line[i]]}\"`;\r\n            }\r\n            else {\r\n                str += `\"\"`;\r\n            }\r\n        }\r\n        else {\r\n            str += line[i];\r\n        }\r\n    }\r\n    return str;\r\n}\r\nfunction convertToCSV(data, columns, userAgents) {\r\n    let str = columns.join(',') + '\\r\\n';\r\n    for (let i = 0; i < data.length; i++) {\r\n        const line = convertLineToCSV(data[i], userAgents);\r\n        str += line + '\\r\\n';\r\n    }\r\n    return str;\r\n}\r\nexport default function exportCSV(data, columns, userAgents) {\r\n    const csv = convertToCSV(data, columns, userAgents);\r\n    const exportedFilename = `api_analytics_${new Date()\r\n        .toJSON()\r\n        .replace(/[- .]/g, '_')}.csv`;\r\n    const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\r\n    const link = document.createElement('a');\r\n    if (link.download !== undefined) {\r\n        // Browsers that support HTML5 download attribute\r\n        const url = URL.createObjectURL(blob);\r\n        link.setAttribute('href', url);\r\n        link.setAttribute('download', exportedFilename);\r\n        link.style.visibility = 'hidden';\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    }\r\n}\r\n","<script lang=\"ts\">\r\n\texport let reason: 'no-requests' | 'error';\r\n</script>\r\n\r\n<div class=\"container\">\r\n\t<div\r\n\t\tclass=\"hanging-lightning\"\r\n\t\tclass:hanging-lightning-no-requests={reason === 'no-requests'}\r\n\t\tclass:hanging-lightning-error={reason === 'error'}\r\n\t>\r\n\t\t<div\r\n\t\t\tclass=\"lightning-container\"\r\n\t\t\tclass:lightning-container-no-requests={reason === 'no-requests'}\r\n\t\t\tclass:lightning-container-error={reason === 'error'}\r\n\t\t>\r\n\t\t\t{#if reason === 'no-requests'}\r\n\t\t\t\t<img src=\"../img/logo.png\" alt=\"\" />\r\n\t\t\t{:else}\r\n\t\t\t\t<img src=\"../img/logo-red.png\" alt=\"\" />\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t</div>\r\n\t<div class=\"message-container\">\r\n\t\t{#if reason === 'no-requests'}\r\n\t\t\t<div class=\"message message-no-requests\">No requests logged.</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"message message-error\">Server error.</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.container {\r\n\t\tcolor: var(--highlight);\r\n\t\tmargin-bottom: 14em;\r\n\t}\r\n\r\n\t.hanging-lightning {\r\n\t\twidth: 50%;\r\n\t\theight: 22em;\r\n\t\tposition: relative;\r\n\t\tborder-width: 1px;\r\n\t\tborder-style: solid;\r\n\t\tborder-top: none;\r\n\t\tborder-left: none;\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t.hanging-lightning-no-requests {\r\n\t\tborder-image: linear-gradient(#000, rgba(63, 207, 142, 0.35)) 30;\r\n\t}\r\n\t.hanging-lightning-error {\r\n\t\tborder-image: linear-gradient(#000, rgba(228, 97, 97, 0.35)) 30;\r\n\t}\r\n\r\n\t.lightning-container {\r\n\t\tposition: absolute;\r\n\t\tright: -22em;\r\n\t\taspect-ratio: 1/1;\r\n\t\theight: 44em;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.lightning-container-no-requests {\r\n\t\tbackground: radial-gradient(\r\n\t\t\trgba(63, 207, 142, 0.3),\r\n\t\t\ttransparent,\r\n\t\t\ttransparent\r\n\t\t);\r\n\t}\r\n\t.lightning-container-error {\r\n\t\tbackground: radial-gradient(\r\n\t\t\trgba(228, 97, 97, 0.3),\r\n\t\t\ttransparent,\r\n\t\t\ttransparent\r\n\t\t);\r\n\t}\r\n\r\n\timg {\r\n\t\twidth: 20px;\r\n\t}\r\n\r\n\t.message-container {\r\n\t\t/* background: radial-gradient(circle closest-corner at center 125px, #222, transparent 20%) no-repeat; */\r\n\t\t/* background: radial-gradient(circle closest-corner at center 125px, black, transparent 20%) no-repeat; */\r\n\t\ttext-align: center;\r\n\t}\r\n\t.message {\r\n\t\tfont-weight: 700;\r\n\t\tdisplay: inline-block;\r\n\t\tpadding-top: 100px;\r\n\t\tpadding-bottom: 20px;\r\n\t\tpadding-right: 4em;\r\n\t\tpadding-left: 4em;\r\n\t\tmargin-top: -2em;\r\n\t\twidth: fit-content;\r\n\t\t-webkit-background-clip: text;\r\n\t\tbackground-clip: text;\r\n\t\t-webkit-text-fill-color: transparent;\r\n\t\tmargin-bottom: 6em;\r\n\t\tfilter: saturate(1.3);\r\n\t}\r\n\t.message-no-requests {\r\n\t\t/* background: radial-gradient(circle farthest-corner at center center, var(--highlight), #333) no-repeat; */\r\n\t\tbackground: radial-gradient(\r\n\t\t\t\tcircle farthest-corner at center center,\r\n\t\t\t\tvar(--highlight),\r\n\t\t\t\t#111\r\n\t\t\t)\r\n\t\t\tno-repeat;\r\n\t\tbackground-clip: text;\r\n\t}\r\n\t.message-error {\r\n\t\t/* background: radial-gradient(circle farthest-corner at center center, var(--red), #333) no-repeat; */\r\n\t\tbackground: radial-gradient(\r\n\t\t\t\tcircle farthest-corner at center center,\r\n\t\t\t\tvar(--red),\r\n\t\t\t\t#111\r\n\t\t\t)\r\n\t\t\tno-repeat;\r\n\t\tbackground-clip: text;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { getUserIdentifier } from '../../lib/user';\r\n\timport { ColumnIndex } from '../../lib/consts';\r\n\r\n\ttype Users = {\r\n\t\t[userID: string]: {\r\n\t\t\tipAddress: string;\r\n\t\t\tcustomUserID: string;\r\n\t\t\tcreatedAt: Date;\r\n\t\t\trequests: number;\r\n\t\t};\r\n\t};\r\n\r\n\tfunction build(data: RequestsData) {\r\n\t\tconst users: Users = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst userID = getUserIdentifier(data[i]);\r\n\t\t\tif (!userID) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst ipAddress = data[i][ColumnIndex.IPAddress];\r\n\t\t\tconst customUserID = data[i][ColumnIndex.UserID];\r\n\t\t\tconst createdAt = data[i][ColumnIndex.CreatedAt];\r\n\t\t\tif (!(userID in users)) {\r\n\t\t\t\tusers[userID] = {\r\n\t\t\t\t\tipAddress,\r\n\t\t\t\t\tcustomUserID,\r\n\t\t\t\t\tcreatedAt,\r\n\t\t\t\t\trequests: 0,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tusers[userID].requests += 1;\r\n\t\t\tif (createdAt > users[userID].createdAt) {\r\n\t\t\t\tusers[userID].createdAt = createdAt;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst totalUsers = Object.keys(users).length;\r\n\t\tconst topUserRequestsCount = getTopUserRequestsCount(users);\r\n\t\tif (totalUsers < 10 || topUserRequestsCount <= 1) {\r\n\t\t\ttopUsers = null;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tcustomUserIDActive = userIDActive(users);\r\n\r\n\t\ttopUsers = Object.values(users)\r\n\t\t\t.sort((a, b) => b.requests - a.requests)\r\n\t\t\t.slice(0, 10);\r\n\t}\r\n\r\n\tfunction getTopUserRequestsCount(users: Users) {\r\n\t\tlet max = 0;\r\n\t\tfor (const user of Object.values(users)) {\r\n\t\t\tif (user.requests > max) {\r\n\t\t\t\tmax = user.requests;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t}\r\n\r\n\tfunction userIDActive(users: Users) {\r\n\t\tfor (const user in users) {\r\n\t\t\tif (\r\n\t\t\t\tusers[user].customUserID !== '' &&\r\n\t\t\t\tusers[user].customUserID !== null\r\n\t\t\t) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tlet topUsers = null;\r\n\tlet customUserIDActive = false;\r\n\r\n\t$: if (data) {\r\n\t\tbuild(data);\r\n\t}\r\n\r\n\texport let data: RequestsData;\r\n</script>\r\n\r\n{#if topUsers}\r\n\t<div class=\"card\">\r\n\t\t<div class=\"card-title\">Top Users</div>\r\n\t\t<div>\r\n\t\t\t<table class=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>IP Address</th>\r\n\t\t\t\t\t\t{#if customUserIDActive}\r\n\t\t\t\t\t\t\t<th>User ID</th>\r\n\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t<th>Last Access</th>\r\n\t\t\t\t\t\t<th style=\"text-align: right;\">Requests</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{#each topUsers as { ipAddress, customUserID, requests, createdAt }}\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td>{ipAddress}</td>\r\n\t\t\t\t\t\t\t{#if customUserIDActive}\r\n\t\t\t\t\t\t\t\t<td>{customUserID}</td>\r\n\t\t\t\t\t\t\t{/if}\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t{createdAt.toLocaleString()}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t<td style=\"text-align: right;\">\r\n\t\t\t\t\t\t\t\t{requests.toLocaleString()}\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n{/if}\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: 100%;\r\n\t\tmargin-top: 2em;\r\n\t}\r\n\t.table {\r\n\t\tmargin: 1em 2em 2em;\r\n\t\ttext-align: left;\r\n\t\twidth: -webkit-fill-available;\r\n\t}\r\n\ttr {\r\n\t\tborder-bottom: 1px solid #2e2e2e;\r\n\t\t/* font-size: 0.9em; */\r\n\t}\r\n\tthead {\r\n\t\tfont-weight: 600;\r\n\t}\r\n\ttable {\r\n\t\tborder-collapse: collapse;\r\n\t\tfont-size: 0.85em;\r\n\t}\r\n\ttbody {\r\n\t\tcolor: #707070;\r\n\t}\r\n\ttd,\r\n\tth {\r\n\t\tpadding: 0.45em 0.5em;\r\n\t}\r\n</style>\r\n","import { ColumnIndex } from './consts';\r\nexport function getUserIdentifier(request) {\r\n    var _a, _b;\r\n    return ((_b = (_a = request[ColumnIndex.IPAddress]) !== null && _a !== void 0 ? _a : '' + request[ColumnIndex.UserID].toString()) !== null && _b !== void 0 ? _b : '');\r\n}\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport Requests from '../components/dashboard/Requests.svelte';\r\n\timport Logo from '../components/dashboard/Logo.svelte';\r\n\timport ResponseTimes from '../components/dashboard/ResponseTimes.svelte';\r\n\timport Users from '../components/dashboard/Users.svelte';\r\n\timport Endpoints from '../components/dashboard/Endpoints.svelte';\r\n\timport Footer from '../components/Footer.svelte';\r\n\timport SuccessRate from '../components/dashboard/SuccessRate.svelte';\r\n\timport Activity from '../components/dashboard/activity/Activity.svelte';\r\n\timport Version from '../components/dashboard/Version.svelte';\r\n\timport UsageTime from '../components/dashboard/UsageTime.svelte';\r\n\timport Location from '../components/dashboard/Location.svelte';\r\n\timport Device from '../components/dashboard/device/Device.svelte';\r\n\timport { dateInPeriod, dateInPrevPeriod } from '../lib/period';\r\n\timport genDemoData from '../lib/demo';\r\n\timport formatUUID from '../lib/uuid';\r\n\timport Settings from '../components/dashboard/Settings.svelte';\r\n\timport type { DashboardSettings, Period } from '../lib/settings';\r\n\timport { initSettings } from '../lib/settings';\r\n\timport type { NotificationState } from '../lib/notification';\r\n\timport Dropdown from '../components/dashboard/Dropdown.svelte';\r\n\timport Notification from '../components/dashboard/Notification.svelte';\r\n\timport exportCSV from '../lib/exportData';\r\n\timport { ColumnIndex, columns, serverURL } from '../lib/consts';\r\n\timport Error from '../components/dashboard/Error.svelte';\r\n\timport TopUsers from '../components/dashboard/TopUsers.svelte';\r\n\r\n\tfunction allTimePeriod(_: Date) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction getPeriodData() {\r\n\t\tconst inRange = getInRange();\r\n\t\tconst inPrevRange = getInPrevRange();\r\n\r\n\t\tconst current = [];\r\n\t\tconst previous = [];\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\t// Created inverted version of the if statement to reduce nesting\r\n\t\t\tconst request = data[i];\r\n\t\t\tconst status = request[ColumnIndex.Status];\r\n\t\t\tconst path = request[ColumnIndex.Path];\r\n\t\t\tconst hostname = request[ColumnIndex.Hostname];\r\n\t\t\tconst location = request[ColumnIndex.Location];\r\n\t\t\tif (\r\n\t\t\t\t(!settings.disable404 || status !== 404) &&\r\n\t\t\t\t(settings.targetEndpoint.path === null ||\r\n\t\t\t\t\tsettings.targetEndpoint.path === path) &&\r\n\t\t\t\t(settings.targetEndpoint.status === null ||\r\n\t\t\t\t\tsettings.targetEndpoint.status === status) &&\r\n\t\t\t\t(settings.targetLocation === null ||\r\n\t\t\t\t\tsettings.targetLocation === location) &&\r\n\t\t\t\t!isHiddenEndpoint(path) &&\r\n\t\t\t\t(settings.hostname === null || settings.hostname === hostname)\r\n\t\t\t) {\r\n\t\t\t\tconst date = request[ColumnIndex.CreatedAt];\r\n\t\t\t\tif (inRange(date)) {\r\n\t\t\t\t\tcurrent.push(request);\r\n\t\t\t\t} else if (inPrevRange(date)) {\r\n\t\t\t\t\tprevious.push(request);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { current, previous };\r\n\t}\r\n\r\n\tfunction setPeriodData() {\r\n\t\tperiodData = getPeriodData();\r\n\t\tchangingPeriod = false;\r\n\t}\r\n\r\n\tfunction getInRange() {\r\n\t\tlet inRange: (date: Date) => boolean;\r\n\t\tif (settings.period === 'All time') {\r\n\t\t\tinRange = allTimePeriod;\r\n\t\t} else {\r\n\t\t\tinRange = (date: Date) => {\r\n\t\t\t\treturn dateInPeriod(date, settings.period);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn inRange;\r\n\t}\r\n\r\n\tfunction getInPrevRange() {\r\n\t\tlet inPrevRange: (date: Date) => boolean;\r\n\t\tif (settings.period === 'All time') {\r\n\t\t\tinPrevRange = allTimePeriod;\r\n\t\t} else {\r\n\t\t\tinPrevRange = (date) => {\r\n\t\t\t\treturn dateInPrevPeriod(date, settings.period);\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn inPrevRange;\r\n\t}\r\n\r\n\tfunction isHiddenEndpoint(endpoint: string) {\r\n\t\tconst firstChar = endpoint.charAt(0);\r\n\t\tconst lastChar = endpoint.charAt(endpoint.length - 1);\r\n\t\treturn (\r\n\t\t\tsettings.hiddenEndpoints.has(endpoint) ||\r\n\t\t\t(firstChar === '/' &&\r\n\t\t\t\tsettings.hiddenEndpoints.has(endpoint.slice(1))) ||\r\n\t\t\t(lastChar === '/' &&\r\n\t\t\t\tsettings.hiddenEndpoints.has(endpoint.slice(0, -1))) ||\r\n\t\t\t(firstChar !== '/' &&\r\n\t\t\t\tsettings.hiddenEndpoints.has('/' + endpoint)) ||\r\n\t\t\t(lastChar !== '/' &&\r\n\t\t\t\tsettings.hiddenEndpoints.has(endpoint + '/')) ||\r\n\t\t\twildCardMatch(endpoint)\r\n\t\t);\r\n\t}\r\n\r\n\tfunction wildCardMatch(endpoint: string) {\r\n\t\tif (endpoint.charAt(endpoint.length - 1) !== '/') {\r\n\t\t\tendpoint = endpoint + '/';\r\n\t\t}\r\n\r\n\t\tfor (let value of settings.hiddenEndpoints) {\r\n\t\t\tif (value.charAt(value.length - 1) !== '*') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tvalue = value.slice(0, value.length - 1); // Remove asterisk\r\n\t\t\t// Format both paths with a starting '/' and no trailing '/'\r\n\t\t\tif (value.charAt(0) !== '/') {\r\n\t\t\t\tvalue = '/' + value;\r\n\t\t\t}\r\n\t\t\tif (value.charAt(value.length - 1) !== '/') {\r\n\t\t\t\tvalue = value + '/';\r\n\t\t\t}\r\n\t\t\tif (endpoint.slice(0, value.length) === value) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction setPeriod(value: Period) {\r\n\t\tsettings.period = value;\r\n\t}\r\n\r\n\tfunction sortedFrequencies(freq: ValueCount): string[] {\r\n\t\treturn Object.entries(freq)\r\n\t\t\t.sort((a, b) => {\r\n\t\t\t\treturn b[1] - a[1];\r\n\t\t\t})\r\n\t\t\t.map((value) => value[0]);\r\n\t}\r\n\r\n\tfunction getHostnames() {\r\n\t\tconst hostnameFreq: ValueCount = {};\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tconst hostname = data[i][ColumnIndex.Hostname];\r\n\t\t\tif (hostname === null || hostname === '' || hostname === 'null') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (hostname in hostnameFreq) {\r\n\t\t\t\thostnameFreq[hostname]++;\r\n\t\t\t} else {\r\n\t\t\t\thostnameFreq[hostname] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn sortedFrequencies(hostnameFreq);\r\n\t}\r\n\r\n\tfunction setHostnames() {\r\n\t\thostnames = getHostnames();\r\n\t}\r\n\r\n\tasync function fetchData(): Promise<DashboardData> {\r\n\t\tuserID = formatUUID(userID);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`${serverURL}/api/requests/${userID}/1`,\r\n\t\t\t);\r\n\t\t\tif (response.ok && response.status === 200) {\r\n\t\t\t\treturn await response.json();\r\n\t\t\t} else {\r\n\t\t\t\tfetchFailed = true;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tfetchFailed = true;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction parseDates(data: RequestsData) {\r\n\t\tfor (let i = 0; i < data.length; i++) {\r\n\t\t\tdata[i][ColumnIndex.CreatedAt] = new Date(\r\n\t\t\t\tdata[i][ColumnIndex.CreatedAt],\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction sortByTime(data: RequestsData) {\r\n\t\tdata.sort((a, b) => {\r\n\t\t\treturn (\r\n\t\t\t\ta[ColumnIndex.CreatedAt].getTime() -\r\n\t\t\t\tb[ColumnIndex.CreatedAt].getTime()\r\n\t\t\t);\r\n\t\t});\r\n\t}\r\n\r\n\tlet data: RequestsData;\r\n\tlet userAgents: UserAgents;\r\n\tlet settings: DashboardSettings = initSettings();\r\n\tlet showSettings: boolean = false;\r\n\tlet hostnames: string[];\r\n\tconst notification: NotificationState = {\r\n\t\tmessage: '',\r\n\t\tstyle: 'error',\r\n\t\tshow: false,\r\n\t};\r\n\tlet periodData: {\r\n\t\tcurrent: RequestsData;\r\n\t\tprevious: RequestsData;\r\n\t};\r\n\tlet changingPeriod: boolean = false;\r\n\tconst timePeriods: Period[] = [\r\n\t\t'24 hours',\r\n\t\t'Week',\r\n\t\t'Month',\r\n\t\t'6 months',\r\n\t\t'Year',\r\n\t\t'All time',\r\n\t];\r\n\tlet loading: boolean = true;\r\n\tlet fetchFailed: boolean = false;\r\n\tlet endpointsRendered: boolean = false;\r\n\tconst pageSize = 200_000;\r\n\tonMount(async () => {\r\n\t\t({requests: data, user_agents: userAgents} = await getDashboardData());\r\n\t\t\r\n\t\t// loading = true;\r\n\t\tif (data.length === pageSize) {\r\n\t\t\t// Fetch page 2 and onwards if initial fetch didn't get all data\r\n\t\t\tfetchAdditionalPage(2);\r\n\t\t} else {\r\n\t\t\tloading = false;\r\n\t\t}\r\n\r\n\t\tsetPeriod(settings.period);\r\n\t\tsetHostnames();\r\n\t\tparseDates(data);\r\n\t\tsortByTime(data);\r\n\r\n\t\tsetPeriodData();\r\n\r\n\t\tconsole.log(data);\r\n\t});\r\n\r\n\tasync function fetchAdditionalPage(page: number) {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`${serverURL}/api/requests/${userID}/${page}`,\r\n\t\t\t\t{ signal: AbortSignal.timeout(180000) },\r\n\t\t\t);\r\n\t\t\tif (response.status !== 200) {\r\n\t\t\t\tloading = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst json = await response.json();\r\n\t\t\tif (json.requests.length <= 0) {\r\n\t\t\t\tloading = false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tuserAgents = { ...userAgents, ...json.user_agents };\r\n\r\n\t\t\tparseDates(json.requests);\r\n\r\n\t\t\tjson.requests?.sort((a, b) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\ta[ColumnIndex.CreatedAt].getTime() -\r\n\t\t\t\t\tb[ColumnIndex.CreatedAt].getTime()\r\n\t\t\t\t);\r\n\t\t\t});\r\n\r\n\t\t\tconst mostRecent =\r\n\t\t\t\tjson.requests[json.requests.length - 1][ColumnIndex.CreatedAt];\r\n\t\t\tif (dateInPeriod(mostRecent, settings.period)) {\r\n\t\t\t\t// Trigger dashboard re-render\r\n\t\t\t\tdata = data.concat(json.requests);\r\n\t\t\t} else {\r\n\t\t\t\tObject.assign(data, data.concat(json.requests));\r\n\t\t\t}\r\n\r\n\t\t\t// setPeriod(settings.period);\r\n\t\t\tsetHostnames();\r\n\r\n\t\t\tconsole.log(data);\r\n\r\n\t\t\tif (json.requests.length === pageSize) {\r\n\t\t\t\tawait fetchAdditionalPage(page + 1);\r\n\t\t\t} else {\r\n\t\t\t\tloading = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tloading = false;\r\n\t\t}\r\n\t}\r\n\r\n\tasync function getDashboardData() {\r\n\t\tlet data: DashboardData;\r\n\t\tif (demo) {\r\n\t\t\tdata = genDemoData();\r\n\t\t} else {\r\n\t\t\tdata = await fetchData();\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\tfunction getUserAgent(id: number) {\r\n\t\tlet userAgent: string;\r\n\t\tif (id in userAgents) {\r\n\t\t\tuserAgent = userAgents[id];\r\n\t\t} else {\r\n\t\t\tuserAgent = '';\r\n\t\t}\r\n\t\treturn userAgent;\r\n\t}\r\n\r\n\tfunction refreshData() {\r\n\t\tif (data === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetPeriodData();\r\n\t}\r\n\r\n\t// If target path/location is changed or reset, refresh data with this new filter\r\n\t$: if (\r\n\t\tsettings.targetEndpoint.path !== undefined &&\r\n\t\tsettings.targetLocation !== undefined\r\n\t) {\r\n\t\trefreshData();\r\n\t}\r\n\r\n\texport let userID: string, demo: boolean;\r\n</script>\r\n\r\n{#if periodData && data.length > 0}\r\n\t<div class=\"dashboard\">\r\n\t\t<div class=\"button-nav\">\r\n\t\t\t<div class=\"donate\">\r\n\t\t\t\t<a\r\n\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\thref=\"https://www.buymeacoffee.com/tomdraper\"\r\n\t\t\t\t\tclass=\"donate-link\">Donate</a\r\n\t\t\t\t>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tclass=\"settings\"\r\n\t\t\t\ton:click={() => {\r\n\t\t\t\t\tshowSettings = true;\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<img class=\"settings-icon\" src=\"../img/cog.png\" alt=\"\" />\r\n\t\t\t</button>\r\n\t\t\t{#if hostnames.length > 1}\r\n\t\t\t\t<div class=\"dropdown-container\">\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\toptions={hostnames.slice(0, 25)}\r\n\t\t\t\t\t\tbind:selected={settings.hostname}\r\n\t\t\t\t\t\tdefaultOption={'All hostnames'}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t\t<div class=\"nav-btn time-period\">\r\n\t\t\t\t{#each timePeriods as period}\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"time-period-btn\"\r\n\t\t\t\t\t\tclass:time-period-btn-active={settings.period ===\r\n\t\t\t\t\t\t\tperiod}\r\n\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\tsetPeriod(period);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{period}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t{/each}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"dashboard-content\">\r\n\t\t\t<div class=\"left\">\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<Logo bind:loading />\r\n\t\t\t\t\t<SuccessRate data={periodData.current} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row\">\r\n\t\t\t\t\t<Requests\r\n\t\t\t\t\t\tdata={periodData.current}\r\n\t\t\t\t\t\tprevData={periodData.previous}\r\n\t\t\t\t\t\tperiod={settings.period}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Users\r\n\t\t\t\t\t\tdata={periodData.current}\r\n\t\t\t\t\t\tprevData={periodData.previous}\r\n\t\t\t\t\t\tperiod={settings.period}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ResponseTimes data={periodData.current} />\r\n\t\t\t\t<Endpoints\r\n\t\t\t\t\tdata={periodData.current}\r\n\t\t\t\t\tbind:targetPath={settings.targetEndpoint.path}\r\n\t\t\t\t\tbind:targetStatus={settings.targetEndpoint.status}\r\n\t\t\t\t\tbind:endpointsRendered\r\n\t\t\t\t/>\r\n\t\t\t\t<Version data={periodData.current} bind:endpointsRendered />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"right\">\r\n\t\t\t\t<Activity data={periodData.current} period={settings.period} />\r\n\t\t\t\t<div class=\"grid-row\">\r\n\t\t\t\t\t<Location\r\n\t\t\t\t\t\tdata={periodData.current}\r\n\t\t\t\t\t\tbind:targetLocation={settings.targetLocation}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Device data={periodData.current} {getUserAgent} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<UsageTime data={periodData.current} />\r\n\t\t\t\t<TopUsers data={periodData.current} />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n{:else if periodData && data.length <= 0}\r\n\t<Error reason={'no-requests'} />\r\n{:else if fetchFailed}\r\n\t<Error reason={'error'} />\r\n{:else}\r\n\t<div class=\"placeholder\">\r\n\t\t<div class=\"spinner\">\r\n\t\t\t<div class=\"loader\" />\r\n\t\t</div>\r\n\t</div>\r\n{/if}\r\n<Settings\r\n\tbind:show={showSettings}\r\n\tbind:settings\r\n\texportCSV={() => {\r\n\t\texportCSV(periodData.current, columns, userAgents);\r\n\t}}\r\n/>\r\n<Notification state={notification} />\r\n<Footer />\r\n\r\n<style scoped>\r\n\t.dashboard {\r\n\t\tmin-height: 90vh;\r\n\t}\r\n\t.dashboard {\r\n\t\tmargin: 1.4em 5em 5em;\r\n\t}\r\n\t.dashboard-content {\r\n\t\tmargin-top: 1.4em;\r\n\t\tdisplay: flex;\r\n\t\tposition: relative;\r\n\t}\r\n\t.row {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 2em;\r\n\t}\r\n\t.grid-row {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.left {\r\n\t\tmargin: 0 2em;\r\n\t}\r\n\t.right {\r\n\t\tflex-grow: 1;\r\n\t\tmargin-right: 2em;\r\n\t}\r\n\t.placeholder {\r\n\t\tmin-height: 82vh;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.button-nav {\r\n\t\tmargin: 2.5em 2em 0;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.time-period {\r\n\t\tdisplay: flex;\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow: hidden;\r\n\t\theight: 27px;\r\n\t}\r\n\t.time-period-btn {\r\n\t\tbackground: var(--background);\r\n\t\tpadding: 3px 12px;\r\n\t\tborder: none;\r\n\t\tcolor: var(--dim-text);\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.time-period-btn:hover {\r\n\t\tbackground: #161616;\r\n\t}\r\n\t.time-period-btn-active {\r\n\t\tbackground: var(--highlight);\r\n\t\tcolor: black;\r\n\t}\r\n\r\n\t.time-period-loading {\r\n\t\tbackground-position: 0% 0%;\r\n\t\ttransition: background 0.5s ease-in-out;\r\n\t\tanimation: gradient-shift 3s linear infinite;\r\n\t\tbackground: linear-gradient(\r\n\t\t\t90deg,\r\n\t\t\tvar(--background),\r\n\t\t\tvar(--highlight),\r\n\t\t\tvar(--background)\r\n\t\t);\r\n\t\t/* Define the gradient with a narrow highlight in the middle */\r\n\t\tbackground: linear-gradient(\r\n\t\t\t90deg,\r\n\t\t\tvar(--background) 0%,\r\n\t\t\t/* Background color starts */ var(--background) 40%,\r\n\t\t\t/* Background color until 45% */ var(--highlight) 50%,\r\n\t\t\t/* Highlight in the middle (thin) */ var(--background) 60%,\r\n\t\t\t/* Background color resumes */ var(--background) 100%\r\n\t\t\t\t/* Background color to the end */\r\n\t\t);\r\n\t\t/* transition: background 0.5s ease-in-out; */\r\n\t\tanimation: gradient-shift 2s linear infinite;\r\n\t\tbackground-size: 180%; /* Set larger background size for smooth animation */\r\n\t}\r\n\r\n\t@keyframes gradient-shift {\r\n\t\t0%,\r\n\t\t100% {\r\n\t\t\tbackground-position: 0% 50%; /* Start at the left */\r\n\t\t}\r\n\t\t50% {\r\n\t\t\tbackground-position: 100% 50%; /* End at the right */\r\n\t\t}\r\n\t}\r\n\r\n\t.settings {\r\n\t\tbackground: transparent;\r\n\t\toutline: none;\r\n\t\tborder: none;\r\n\t\tmargin-right: 10px;\r\n\t\tcursor: pointer;\r\n\t\ttext-align: right;\r\n\t}\r\n\t.donate {\r\n\t\tmargin-left: auto;\r\n\t\tfont-size: 0.85em;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t\tmargin-right: 1em;\r\n\t}\r\n\r\n\t.dropdown-container {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.donate-link {\r\n\t\tcolor: rgb(73, 73, 73);\r\n\t\tcolor: rgb(82, 82, 82);\r\n\t\tcolor: #464646;\r\n\t\ttransition: 0.1s;\r\n\t}\r\n\t.donate-link:hover {\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\t.settings-icon {\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t\tfilter: contrast(0.45);\r\n\t\tmargin-top: 2px;\r\n\t\ttransition: 0.1s;\r\n\t}\r\n\t.settings-icon:hover {\r\n\t\tfilter: contrast(0.01);\r\n\t}\r\n\r\n\t@media screen and (max-width: 800px) {\r\n\t\t.donate {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t\t.settings {\r\n\t\t\tmargin-left: auto;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 1600px) {\r\n\t\t.grid-row {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 1300px) {\r\n\t\t.dashboard {\r\n\t\t\tmargin: 0;\r\n\t\t}\r\n\t\t.dashboard-content {\r\n\t\t\tmargin: 1.4em 1em 3.5em;\r\n\t\t}\r\n\t\t.button-nav {\r\n\t\t\tmargin: 2.5em 3em 0;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 1030px) {\r\n\t\t.dashboard-content {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\t\t.right,\r\n\t\t.left {\r\n\t\t\tmargin: 0 2em;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 800px) {\r\n\t\t.button-nav {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\t\t.dropdown-container {\r\n\t\t\tmargin-left: auto;\r\n\t\t\tmargin-right: 0;\r\n\t\t\tmargin: -30px 0 0 auto;\r\n\t\t}\r\n\t\t.time-period {\r\n\t\t\tmargin-top: 15px;\r\n\t\t}\r\n\t\t.time-period-btn {\r\n\t\t\tflex: 1;\r\n\t\t}\r\n\t\t.settings {\r\n\t\t\tmargin-left: 0;\r\n\t\t\tmargin-right: auto;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 600px) {\r\n\t\t.right,\r\n\t\t.left {\r\n\t\t\tmargin: 0 1em;\r\n\t\t}\r\n\t\t.time-period {\r\n\t\t\tright: 1em;\r\n\t\t}\r\n\t\t.button-nav {\r\n\t\t\tmargin: 2.5em 2em 0;\r\n\t\t}\r\n\t\t.time-period-btn {\r\n\t\t\tpadding: 3px 0;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 500px) {\r\n\t\t.time-period-btn {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tflex: auto;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 450px) {\r\n\t\t.dashboard-content {\r\n\t\t\tmargin: 1.4em 0em 3.5em;\r\n\t\t}\r\n\t\t.button-nav {\r\n\t\t\tmargin: 2.5em 1em 0;\r\n\t\t}\r\n\t}\r\n</style>\r\n","export function initSettings() {\r\n    return {\r\n        disable404: false,\r\n        hostname: null,\r\n        period: 'Month',\r\n        targetEndpoint: {\r\n            path: null,\r\n            status: null,\r\n        },\r\n        targetLocation: null,\r\n        hiddenEndpoints: new Set(),\r\n    };\r\n}\r\n","<script lang=\"ts\">\r\n\timport { serverURL } from '../lib/consts';\r\n\r\n\ttype State = 'delete' | 'loading' | 'deleted' | 'error';\r\n\r\n\tlet state: State = 'delete';\r\n\tlet apiKey = '';\r\n\tasync function submit() {\r\n\t\tsetState('loading');\r\n\t\tconst response = await fetch(`${serverURL}/api/delete/${apiKey}`);\r\n\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetState('deleted');\r\n\t\t} else {\r\n\t\t\tsetState('error');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction enter(e) {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tsubmit();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setState(value: State) {\r\n\t\tstate = value;\r\n\t}\r\n</script>\r\n\r\n<div class=\"generate\">\r\n\t<div class=\"content\">\r\n\t\t<h2>Delete account</h2>\r\n\t\t<input\r\n\t\t\ttype=\"text\"\r\n\t\t\tbind:value={apiKey}\r\n\t\t\tplaceholder=\"Enter API key\"\r\n\t\t\ton:keydown={enter}\r\n\t\t/>\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\ton:click={submit}\r\n\t\t\tclass:no-display={state != 'delete'}>Delete</button\r\n\t\t>\r\n\t\t<button id=\"formBtn\" class:no-display={state != 'loading'}>\r\n\t\t\t<div class=\"spinner\">\r\n\t\t\t\t<div class=\"loader\" />\r\n\t\t\t</div>\r\n\t\t</button>\r\n\t\t<button\r\n\t\t\tid=\"formBtn\"\r\n\t\t\tclass=\"copied-btn\"\r\n\t\t\tclass:no-display={state != 'deleted'}>Deleted</button\r\n\t\t>\r\n\t\t<button id=\"formBtn\" class:no-display={state != 'error'}>Error</button>\r\n\t</div>\r\n\t<div class=\"details\">\r\n\t\t<div class=\"keep-secure\">Keep your API key safe and secure.</div>\r\n\t\t<div class=\"highlight logo\">API Analytics</div>\r\n\t\t<img class=\"footer-logo\" src=\"img/logo.png\" alt=\"\" />\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.spinner {\r\n\t\theight: auto;\r\n\t}\r\n\t.loader {\r\n\t\tborder: 3px solid #343434;\r\n\t\tborder-top: 3px solid var(--highlight);\r\n\t\theight: 10px;\r\n\t\twidth: 10px;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport { periodToMarkers } from '../../lib/period';\r\n\r\n\tfunction defaultLayout() {\r\n\t\treturn {\r\n\t\t\ttitle: false,\r\n\t\t\tautosize: true,\r\n\t\t\tmargin: { r: 30, l: 55, t: 10, b: 30, pad: 10 },\r\n\t\t\thovermode: 'closest',\r\n\t\t\tplot_bgcolor: 'transparent',\r\n\t\t\tpaper_bgcolor: 'transparent',\r\n\t\t\theight: 120,\r\n\t\t\tyaxis: {\r\n\t\t\t\ttitle: null,\r\n\t\t\t\tgridcolor: 'gray',\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t},\r\n\t\t\txaxis: {\r\n\t\t\t\ttitle: { text: 'Date' },\r\n\t\t\t\tshowgrid: false,\r\n\t\t\t\tfixedrange: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t},\r\n\t\t\tdragmode: false,\r\n\t\t};\r\n\t}\r\n\r\n\tfunction bars() {\r\n\t\tconst markers = periodToMarkers(period);\r\n\r\n\t\tconst dates: Date[] = Array(markers);\r\n\t\tconst x: number[] = Array(markers);\r\n\t\tconst requests: number[] = Array(markers);\r\n\t\tfor (let i = 0; i < markers; i++) {\r\n\t\t\trequests[markers - i - 1] = data[i].responseTime;\r\n\t\t\tdates[markers - i - 1] = data[i].createdAt;\r\n\t\t\tx[markers - i - 1] = i;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < dates.length; i++) {\r\n\t\t\tif (dates[i] !== null) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (i === 0) {\r\n\t\t\t\tdates[i] = new Date();\r\n\t\t\t} else {\r\n\t\t\t\t// 30 mins from previous date\r\n\t\t\t\tdates[i] = new Date(dates[i - 1]);\r\n\t\t\t\tdates[i].setMinutes(dates[i].getMinutes() - 30);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: requests,\r\n\t\t\t\ttype: 'bar',\r\n\t\t\t\tmarker: { color: '#707070' },\r\n\t\t\t\tfill: 'tonexty',\r\n\t\t\t\ttext: dates,\r\n\t\t\t\thovertemplate: `<b>%{y:.0f}ms</b><br>%{text|%d %b %Y %H:%M:%S}</b><extra></extra>`,\r\n\t\t\t\tshowlegend: false,\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\tfunction buildPlotData() {\r\n\t\treturn {\r\n\t\t\tdata: bars(),\r\n\t\t\tlayout: defaultLayout(),\r\n\t\t\tconfig: {\r\n\t\t\t\tresponsive: true,\r\n\t\t\t\tshowSendToCloud: false,\r\n\t\t\t\tdisplayModeBar: false,\r\n\t\t\t},\r\n\t\t};\r\n\t}\r\n\r\n\tfunction genPlot() {\r\n\t\tconst plotData = buildPlotData();\r\n\t\t//@ts-ignore\r\n\t\tnew Plotly.newPlot(\r\n\t\t\tplotDiv,\r\n\t\t\tplotData.data,\r\n\t\t\tplotData.layout,\r\n\t\t\tplotData.config,\r\n\t\t);\r\n\t}\r\n\r\n\tlet plotDiv: HTMLDivElement;\r\n\tlet setup = false;\r\n\tonMount(() => {\r\n\t\tgenPlot();\r\n\t\tsetup = true;\r\n\t});\r\n\r\n\t$: setup && (data || period) && genPlot();\r\n\r\n\texport let data, period: string;\r\n</script>\r\n\r\n<div id=\"plotly\">\r\n\t<div id=\"plotDiv\" bind:this={plotDiv}>\r\n\t\t<!-- Plotly chart will be drawn inside this DIV -->\r\n\t</div>\r\n</div>\r\n","<script lang=\"ts\">\r\n\timport ResponseTime from './ResponseTime.svelte';\r\n\timport { periodToMarkers } from '../../lib/period';\r\n\timport type { NotificationState } from '../../lib/notification';\r\n\r\n\tfunction triggerNotificationMessage(\r\n\t\tmessage: string,\r\n\t\tstyle: 'error' | 'warn' | 'success' = 'error',\r\n\t) {\r\n\t\tnotification.message = message;\r\n\t\tnotification.style = style;\r\n\t\tnotification.show = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tnotification.show = false;\r\n\t\t}, 4000);\r\n\t}\r\n\r\n\tasync function deleteMonitor() {\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t'https://www.apianalytics-server.com/api/monitor/delete',\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tuser_id: userID,\r\n\t\t\t\t\t\turl: url,\r\n\t\t\t\t\t\tstatus: 0,\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t\tif (response.status === 201) {\r\n\t\t\t\ttriggerNotificationMessage('Deleted successfully', 'success');\r\n\t\t\t\tremoveMonitor(url);\r\n\t\t\t} else {\r\n\t\t\t\ttriggerNotificationMessage('Failed to delete monitor');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\ttriggerNotificationMessage('Failed to delete monitor');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setUptime() {\r\n\t\tlet success = 0;\r\n\t\tlet total = 0;\r\n\t\tfor (let i = 0; i < samples.length; i++) {\r\n\t\t\tif (samples[i].label === 'no-request') {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\tsamples[i].label === 'success' ||\r\n\t\t\t\tsamples[i].label === 'delay'\r\n\t\t\t) {\r\n\t\t\t\tsuccess++;\r\n\t\t\t}\r\n\t\t\ttotal++;\r\n\t\t}\r\n\r\n\t\tif (total === 0) {\r\n\t\t\tuptime = '0';\r\n\t\t} else {\r\n\t\t\tconst per = (success / total) * 100;\r\n\t\t\t// If 100% display without decimal\r\n\t\t\tuptime = per === 100 ? '100' : per.toFixed(2);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction periodSample(): MonitorSample[] {\r\n\t\t/* Sample ping recordings at regular intervals if number of bars fewer than \r\n\t\ttotal recordings the current period length */\r\n\t\tlet sample: MonitorSample[] = [];\r\n\t\tswitch (period) {\r\n\t\t\tcase '30d':\r\n\t\t\t\t// Sample 1 in 4\r\n\t\t\t\tfor (let i = 0; i < data[url].length; i++) {\r\n\t\t\t\t\tif (i % 4 === 0) {\r\n\t\t\t\t\t\tsample.push(data[url][i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase '60d':\r\n\t\t\t\t// Sample 1 in 8\r\n\t\t\t\tfor (let i = 0; i < data[url].length; i++) {\r\n\t\t\t\t\tif (i % 8 === 0) {\r\n\t\t\t\t\t\tsample.push(data[url][i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tsample = data[url];\r\n\t\t}\r\n\t\t// Ensure final sample is the most recent sample in the data for system down visual highlight\r\n\t\tsample[sample.length - 1] = data[url][data[url].length - 1];\r\n\t\treturn sample;\r\n\t}\r\n\r\n\tfunction setSamples() {\r\n\t\tconst markers = periodToMarkers(period);\r\n\t\tsamples = Array(markers).fill({\r\n\t\t\tlabel: 'no-request',\r\n\t\t\tresponseTime: 0,\r\n\t\t\tstatus: 0,\r\n\t\t\tcreatedAt: null,\r\n\t\t});\r\n\t\tconst sampledData = periodSample();\r\n\t\tconst start = markers - sampledData.length;\r\n\r\n\t\tfor (let i = 0; i < sampledData.length; i++) {\r\n\t\t\tsamples[i + start] = {\r\n\t\t\t\tlabel: 'no-request',\r\n\t\t\t\tstatus: sampledData[i].status,\r\n\t\t\t\tresponseTime: sampledData[i]['response_time'],\r\n\t\t\t\tcreatedAt: new Date(sampledData[i]['created_at']),\r\n\t\t\t};\r\n\t\t\tif (sampledData[i].status >= 200 && sampledData[i].status <= 299) {\r\n\t\t\t\tsamples[i + start].label = 'success';\r\n\t\t\t} else if (sampledData[i].status !== null) {\r\n\t\t\t\tsamples[i + start].label = 'error';\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setCurrentStatus() {\r\n\t\tconst latest = samples[samples.length - 1];\r\n\t\tif (latest.label === null || latest.label === 'no-request') {\r\n\t\t\tcurrentStatus = 'no-request';\r\n\t\t} else if (latest.label === 'error') {\r\n\t\t\tcurrentStatus = 'error';\r\n\t\t} else if (latest.label == 'success') {\r\n\t\t\tcurrentStatus = 'success';\r\n\t\t}\r\n\t\tanyError = anyError || currentStatus === 'error';\r\n\t}\r\n\r\n\tfunction separateURL() {\r\n\t\tif (url.startsWith('https://')) {\r\n\t\t\tseparatedURL.prefix = 'https://';\r\n\t\t\tseparatedURL.body = url.replace('https://', '');\r\n\t\t} else if (url.startsWith('http://')) {\r\n\t\t\tseparatedURL.prefix = 'http://';\r\n\t\t\tseparatedURL.body = url.replace('http://', '');\r\n\t\t}\r\n\t}\r\n\r\n\tfunction build() {\r\n\t\tseparateURL();\r\n\t\tsetSamples();\r\n\t\tsetCurrentStatus();\r\n\t\tsetUptime();\r\n\t}\r\n\r\n\t// Monitor sample with label for status colour CSS class\r\n\ttype Sample = MonitorSample & { label: string };\r\n\r\n\tlet uptime = '';\r\n\tlet currentStatus: 'success' | 'error' | 'no-request' = 'no-request';\r\n\tlet samples: Sample[];\r\n\tconst separatedURL = {\r\n\t\tprefix: '',\r\n\t\tbody: '',\r\n\t};\r\n\r\n\t// If card period or url changes at any time, rebuild\r\n\t$: (period || url) && build();\r\n\r\n\texport let url: string,\r\n\t\tdata: MonitorData,\r\n\t\tuserID: string,\r\n\t\tperiod: string,\r\n\t\tanyError: boolean,\r\n\t\tnotification: NotificationState,\r\n\t\tremoveMonitor: (url: string) => void;\r\n</script>\r\n\r\n<div class=\"card\" class:card-error={currentStatus === 'error'}>\r\n\t<div class=\"card-text\">\r\n\t\t<div class=\"card-text-left\">\r\n\t\t\t<div class=\"card-status\">\r\n\t\t\t\t{#if currentStatus === 'no-request'}\r\n\t\t\t\t\t<div class=\"indicator grey-light\" />\r\n\t\t\t\t{:else if currentStatus === 'error'}\r\n\t\t\t\t\t<div class=\"indicator red-light\" />\r\n\t\t\t\t{:else}\r\n\t\t\t\t\t<div class=\"indicator green-light\" />\r\n\t\t\t\t{/if}\r\n\t\t\t</div>\r\n\t\t\t<a href=\"{separatedURL.prefix}{separatedURL.body}\" class=\"endpoint\"\r\n\t\t\t\t><span style=\"color: var(--dim-text)\"\r\n\t\t\t\t\t>{separatedURL.prefix}</span\r\n\t\t\t\t>{separatedURL.body}</a\r\n\t\t\t>\r\n\t\t\t<button class=\"delete\" on:click={deleteMonitor}\r\n\t\t\t\t><img class=\"bin-icon\" src=\"../img/bin.png\" alt=\"\" /></button\r\n\t\t\t>\r\n\t\t</div>\r\n\t\t<div class=\"card-text-right\">\r\n\t\t\t<div class=\"uptime\">\r\n\t\t\t\tUptime: {currentStatus === 'no-request' ? 'N/A' : `${uptime}%`}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\t{#if samples !== undefined}\r\n\t\t<div class=\"measurements\">\r\n\t\t\t{#each samples as sample}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"measurement {sample.label}\"\r\n\t\t\t\t\ttitle={sample.createdAt === null\r\n\t\t\t\t\t\t? ''\r\n\t\t\t\t\t\t: sample.status === 0\r\n\t\t\t\t\t\t\t? `No response\\n${sample.createdAt.toLocaleString()}`\r\n\t\t\t\t\t\t\t: `Status: ${sample.status}\\n${sample.createdAt.toLocaleString()}`}\r\n\t\t\t\t/>\r\n\t\t\t{/each}\r\n\t\t</div>\r\n\t\t<div class=\"response-time\">\r\n\t\t\t<ResponseTime bind:data={samples} {period} />\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: min(100%, 1000px);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tmargin: 2.2em auto;\r\n\t}\r\n\t.card-error {\r\n\t\tbox-shadow:\r\n\t\t\trgba(228, 98, 98, 0.5) 0px 15px 110px 0px,\r\n\t\t\trgba(0, 0, 0, 0.4) 0px 30px 60px -30px;\r\n\t\tborder: 2px solid rgba(228, 98, 98, 1);\r\n\t}\r\n\t.card-text {\r\n\t\tdisplay: flex;\r\n\t\tmargin: 2em 2em 0;\r\n\t\tfont-size: 0.9em;\r\n\t}\r\n\t.card-text-left {\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.endpoint {\r\n\t\tmargin-left: 10px;\r\n\t\tletter-spacing: 0.01em;\r\n\t\tcolor: white;\r\n\t}\r\n\t.measurements {\r\n\t\tdisplay: flex;\r\n\t\tpadding: 1em 2em 2em;\r\n\t}\r\n\t.measurement {\r\n\t\tmargin: 0 0.1%;\r\n\t\tflex: 1;\r\n\t\theight: 3em;\r\n\t\tborder-radius: 1px;\r\n\t\tbackground: var(--highlight);\r\n\t\tbackground: rgb(40, 40, 40);\r\n\t}\r\n\t.success {\r\n\t\tbackground: var(--highlight);\r\n\t}\r\n\t.delayed {\r\n\t\tbackground: rgb(199, 229, 125);\r\n\t}\r\n\t.error {\r\n\t\tbackground: rgb(228, 98, 98);\r\n\t}\r\n\t.no-request {\r\n\t\tcolor: var(--dim-text);\r\n\t}\r\n\t.uptime {\r\n\t\tcolor: var(--dim-text);\r\n\t}\r\n\t.indicator {\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin-right: 5px;\r\n\t\tmargin-bottom: 1px;\r\n\t}\r\n\t.card-status {\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.green-light {\r\n\t\tbackground: var(--highlight);\r\n\t\tbox-shadow:\r\n\t\t\t0 1px 1px #fff,\r\n\t\t\t0 0 6px 3px var(--highlight);\r\n\t}\r\n\t.red-light {\r\n\t\tbackground: var(--red);\r\n\t\tbox-shadow:\r\n\t\t\t0 1px 1px #fff,\r\n\t\t\t0 0 6px 3px var(--red);\r\n\t}\r\n\t.grey-light {\r\n\t\tbackground: grey;\r\n\t\tbox-shadow: 0 0 1px 1px #fff;\r\n\t}\r\n\t.delete {\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\tcursor: pointer;\r\n\t\tmargin-left: 10px;\r\n\t\tpadding: 2px 4px 1px;\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\t.delete:hover {\r\n\t\tbackground: var(--red);\r\n\t}\r\n\t.bin-icon {\r\n\t\twidth: 12px;\r\n\t\tfilter: invert(0.3);\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport type { NotificationState } from '../../lib/notification';\r\n\timport Dropdown from '../dashboard/Dropdown.svelte';\r\n\r\n\tfunction triggerNotificationMessage(\r\n\t\tmessage: string,\r\n\t\tstyle: 'error' | 'warn' | 'success' = 'error',\r\n\t) {\r\n\t\tnotification.message = message;\r\n\t\tnotification.style = style;\r\n\t\tnotification.show = true;\r\n\t\tsetTimeout(() => {\r\n\t\t\tnotification.show = false;\r\n\t\t}, 4000);\r\n\t}\r\n\r\n\tfunction getFullURL(url: string, secure: boolean): string {\r\n\t\turl = url.replace(/^https?(:\\/\\/)?/, '');\r\n\t\tconst prefix = secure ? 'https://' : 'http://';\r\n\t\turl = prefix + url;\r\n\t\treturn url;\r\n\t}\r\n\r\n\tasync function postMonitor() {\r\n\t\tif (url == null) {\r\n\t\t\ttriggerNotificationMessage('URL is blank.');\r\n\t\t\treturn;\r\n\t\t} else if (monitorCount >= 3) {\r\n\t\t\ttriggerNotificationMessage('Maximum 3 monitors allowed.');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst secure = urlPrefix === 'https';\r\n\t\t\tconst fullURL = getFullURL(url, secure);\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`https://www.apianalytics-server.com/api/monitor/add`,\r\n\t\t\t\t{\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {},\r\n\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\tuser_id: userID,\r\n\t\t\t\t\t\turl: getFullURL(url, secure),\r\n\t\t\t\t\t\tping: true,\r\n\t\t\t\t\t\tsecure: secure,\r\n\t\t\t\t\t}),\r\n\t\t\t\t},\r\n\t\t\t);\r\n\t\t\tif (response.status === 201) {\r\n\t\t\t\ttriggerNotificationMessage('Created successfully', 'success');\r\n\t\t\t\taddEmptyMonitor(fullURL);\r\n\t\t\t\tshowTrackNew = false;\r\n\t\t\t} else if (response.status === 409) {\r\n\t\t\t\ttriggerNotificationMessage('URL already monitored', 'warn');\r\n\t\t\t} else {\r\n\t\t\t\ttriggerNotificationMessage('Failed to create monitor');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\ttriggerNotificationMessage('Failed to create monitor');\r\n\t\t}\r\n\t}\r\n\r\n\tlet url: string;\r\n\tconst options = ['https', 'http'];\r\n\tlet urlPrefix = options[0];\r\n\r\n\texport let userID: string,\r\n\t\tshowTrackNew: boolean,\r\n\t\tmonitorCount: number,\r\n\t\tnotification: NotificationState,\r\n\t\taddEmptyMonitor: (url: string) => void;\r\n</script>\r\n\r\n<div class=\"card\">\r\n\t<div class=\"card-text\">\r\n\t\t<div class=\"url\">\r\n\t\t\t<div class=\"dropdown-container\">\r\n\t\t\t\t<Dropdown\r\n\t\t\t\t\t{options}\r\n\t\t\t\t\tbind:selected={urlPrefix}\r\n\t\t\t\t\tdefaultOption={null}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<input\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tplaceholder=\"www.example.com/endpoint/\"\r\n\t\t\t\tbind:value={url}\r\n\t\t\t/>\r\n\t\t\t<button class=\"add\" on:click={postMonitor}>Add</button>\r\n\t\t</div>\r\n\t\t<div class=\"detail\">\r\n\t\t\tEndpoints are pinged by our servers every 30 mins and response <b\r\n\t\t\t\t>status</b\r\n\t\t\t>\r\n\t\t\tand response <b>time</b> are logged.\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.card {\r\n\t\twidth: min(100%, 1000px);\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tmargin: 2.2em auto 4em;\r\n\t}\r\n\t.card-text {\r\n\t\tmargin: 2em 2em 1.9em;\r\n\t}\r\n\tinput {\r\n\t\tbackground: var(--background);\r\n\t\tborder-radius: 4px;\r\n\t\tborder: none;\r\n\t\tmargin: 0 10px 0 8px;\r\n\t\twidth: 100%;\r\n\t\ttext-align: left;\r\n\t\theight: auto;\r\n\t\tpadding: 5px 12px;\r\n\t\tcolor: white;\r\n\t\tfont-size: 0.9em;\r\n\t\tfont-family: 'Geist';\r\n\t}\r\n\t.url {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.detail {\r\n\t\tmargin-top: 30px;\r\n\t\tcolor: var(--dim-text);\r\n\t\tfont-weight: 400;\r\n\t\tfont-size: 0.85em;\r\n\t}\r\n\tbutton {\r\n\t\tborder: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground: var(--light-background);\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.add {\r\n\t\tbackground: var(--highlight);\r\n\t\tpadding: 4px 20px;\r\n\t\tmargin: 0;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { onMount } from 'svelte';\r\n\timport Footer from '../components/Footer.svelte';\r\n\timport Card from '../components/monitoring/Card.svelte';\r\n\timport TrackNew from '../components/monitoring/TrackNew.svelte';\r\n\timport Notification from '../components/dashboard/Notification.svelte';\r\n\timport formatUUID from '../lib/uuid';\r\n\timport type { NotificationState } from '../lib/notification';\r\n\timport { serverURL } from '../lib/consts';\r\n\r\n\tasync function fetchData() {\r\n\t\tuserID = formatUUID(userID);\r\n\t\ttry {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t`${serverURL}/api/monitor/pings/${userID}`,\r\n\t\t\t);\r\n\t\t\tif (response.status === 200) {\r\n\t\t\t\tdata = await response.json();\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction setPeriod(value: string) {\r\n\t\tperiod = value;\r\n\t\terror = false;\r\n\t}\r\n\r\n\tfunction toggleShowTrackNew() {\r\n\t\tshowTrackNew = !showTrackNew;\r\n\t}\r\n\r\n\tfunction addEmptyMonitor(url: string) {\r\n\t\tdata[url] = [];\r\n\t}\r\n\r\n\tfunction removeMonitor(url: string) {\r\n\t\tdelete data[url];\r\n\t\tdata = data; // Trigger reactivity to update display\r\n\t}\r\n\r\n\tlet error = false;\r\n\tconst periods = ['24h', '7d', '30d', '60d'];\r\n\tlet period = periods[1];\r\n\tlet data: MonitorData;\r\n\tlet notification: NotificationState = {\r\n\t\tmessage: '',\r\n\t\tstyle: 'error',\r\n\t\tshow: false,\r\n\t};\r\n\r\n\tlet showTrackNew = false;\r\n\tonMount(async () => {\r\n\t\tawait fetchData();\r\n\t\tconsole.log(data);\r\n\t});\r\n\r\n\texport let userID: string;\r\n</script>\r\n\r\n<div class=\"monitoring\">\r\n\t<div class=\"status\">\r\n\t\t{#if data !== undefined && Object.keys(data).length === 0}\r\n\t\t\t<div class=\"status-image\">\r\n\t\t\t\t<img id=\"status-image\" src=\"/img/logo.png\" alt=\"\" />\r\n\t\t\t\t<div class=\"status-text\">Setup required</div>\r\n\t\t\t</div>\r\n\t\t{:else if error}\r\n\t\t\t<div class=\"status-image\">\r\n\t\t\t\t<img id=\"status-image\" src=\"/img/bigcross.png\" alt=\"\" />\r\n\t\t\t\t<div class=\"status-text\">Systems down</div>\r\n\t\t\t</div>\r\n\t\t{:else}\r\n\t\t\t<div class=\"status-image\">\r\n\t\t\t\t<img id=\"status-image\" src=\"/img/bigtick.png\" alt=\"\" />\r\n\t\t\t\t<div class=\"status-text\">Systems Online</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n\t<div class=\"cards-container\">\r\n\t\t<div class=\"controls\">\r\n\t\t\t<div class=\"add-new\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclass=\"add-new-btn\"\r\n\t\t\t\t\tclass:active={showTrackNew}\r\n\t\t\t\t\ton:click={toggleShowTrackNew}\r\n\t\t\t\t\t><div class=\"add-new-text\">\r\n\t\t\t\t\t\t<span class=\"plus\">+</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"period-controls-container\">\r\n\t\t\t\t<div class=\"period-controls\">\r\n\t\t\t\t\t{#each periods as _period}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"period-btn\"\r\n\t\t\t\t\t\t\tclass:active={period === _period}\r\n\t\t\t\t\t\t\ton:click={() => {\r\n\t\t\t\t\t\t\t\tsetPeriod(_period);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{_period}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t{#if data}\r\n\t\t\t{#if showTrackNew || Object.keys(data).length == 0}\r\n\t\t\t\t<TrackNew\r\n\t\t\t\t\t{userID}\r\n\t\t\t\t\tbind:showTrackNew\r\n\t\t\t\t\tmonitorCount={Object.keys(data).length}\r\n\t\t\t\t\tbind:notification\r\n\t\t\t\t\t{addEmptyMonitor}\r\n\t\t\t\t/>\r\n\t\t\t{/if}\r\n\t\t\t{#each Object.keys(data).sort() as url}\r\n\t\t\t\t<Card\r\n\t\t\t\t\tbind:url\r\n\t\t\t\t\t{data}\r\n\t\t\t\t\t{userID}\r\n\t\t\t\t\t{period}\r\n\t\t\t\t\tbind:anyError={error}\r\n\t\t\t\t\tbind:notification\r\n\t\t\t\t\t{removeMonitor}\r\n\t\t\t\t/>\r\n\t\t\t{/each}\r\n\t\t{:else}\r\n\t\t\t<div class=\"spinner\">\r\n\t\t\t\t<div class=\"loader\" />\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n</div>\r\n<Notification bind:state={notification} />\r\n<Footer />\r\n\r\n<style scoped>\r\n\t.monitoring {\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.status {\r\n\t\tmargin: 13vh 0 9vh;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t#status-image {\r\n\t\theight: 130px;\r\n\t\tmargin-bottom: 1em;\r\n\t\tfilter: saturate(1.3);\r\n\t}\r\n\t.status-text {\r\n\t\tfont-size: 2.2em;\r\n\t\tfont-weight: 700;\r\n\t\tcolor: white;\r\n\t}\r\n\r\n\t.cards-container {\r\n\t\twidth: 60%;\r\n\t\tmargin: auto;\r\n\t\tpadding-bottom: 1em;\r\n\t}\r\n\r\n\t.controls {\r\n\t\tmargin: auto;\r\n\t\twidth: 60%;\r\n\r\n\t\twidth: min(100%, 1000px);\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.add-new {\r\n\t\tflex-grow: 1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: left;\r\n\t}\r\n\t.period-controls {\r\n\t\tmargin-left: auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: right;\r\n\t}\r\n\r\n\t.period-controls {\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\twidth: fit-content;\r\n\t\tborder-radius: 4px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.period-controls-container {\r\n\t\tmargin-top: auto;\r\n\t}\r\n\r\n\tbutton {\r\n\t\tbackground: var(--light-background);\r\n\t\tcolor: var(--dim-text);\r\n\t\tborder: none;\r\n\t\tpadding: 3px 12px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.add-new-btn:hover {\r\n\t\tbackground: radial-gradient(var(--light-background), #3fcf8e10);\r\n\t}\r\n\t.add-new-btn {\r\n\t\tborder: 1px solid #2e2e2e;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 0;\r\n\t\theight: 35px;\r\n\t\tcolor: var(--highlight);\r\n\t\twidth: 35px;\r\n\t}\r\n\t.add-new-text {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tfont-family: 'Noto Sans' !important;\r\n\t\tfont-size: 1.8em;\r\n\t}\r\n\t.active,\r\n\t.active:hover {\r\n\t\tbackground: var(--highlight);\r\n\t\tcolor: black !important;\r\n\t}\r\n\t.spinner {\r\n\t\tmargin: 3em 0 10em;\r\n\t}\r\n\r\n\t@media screen and (max-width: 1100px) {\r\n\t\t.cards-container {\r\n\t\t\twidth: 95%;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport Footer from '../components/Footer.svelte';\r\n</script>\r\n\r\n<div class=\"privacy-policy-container\">\r\n\t<h1>Privacy Policy</h1>\r\n\r\n\t<div>Last updated: 2024-09-16</div>\r\n\r\n\t<p>\r\n\t\tAPI Analytics (\"we,\" \"us,\" or \"our\") is committed to protecting the\r\n\t\tprivacy of our users. This Privacy Policy explains how we collect, use,\r\n\t\tand share information when you use our analytics service (\"Service\") and\r\n\t\toutlines your rights regarding your personal data.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tBy using the Service, you agree to the collection and use of information\r\n\t\tin accordance with this Privacy Policy. If you do not agree with the\r\n\t\tterms of this Privacy Policy, please do not use the Service.\r\n\t</p>\r\n\r\n\t<h2>1. Information We Collect</h2>\r\n\r\n\t<p>\r\n\t\tWhen you use our Service, through use of the API middleware package,\r\n\t\tyour API web server will log and forward data related to each incoming\r\n\t\trequest to our secure server that is collected and stored securely. For\r\n\t\teach request, this is limited to the following information:\r\n\t</p>\r\n\r\n\t<ul>\r\n\t\t<li>Request method (GET, POST, PUT, DELETE, etc.)</li>\r\n\t\t<li>Request endpoint (API endpoint being accessed)</li>\r\n\t\t<li>User agent</li>\r\n\t\t<li>IP address</li>\r\n\t\t<li>Timestamp of the request</li>\r\n\t\t<li>Response status code</li>\r\n\t\t<li>Response time</li>\r\n\t\t<li>Hostname of API</li>\r\n\t\t<li>API framework in use (FastAPI, Flask, Express, etc.)</li>\r\n\t</ul>\r\n\r\n\t<h3>Personal Information</h3>\r\n\r\n\t<p>\r\n\t\tUnless opted out, log data may contain personal information such as IP\r\n\t\taddresses.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tClient IP address collection from each incoming request to your API may\r\n\t\tbe disabled by setting the privacy level to a value of 1 (discard IP\r\n\t\taddress after use) or 2 (client IP is never accessed) within the API\r\n\t\tAnalytics middleware configuration. By default, the privacy level is set\r\n\t\tto 0, and IP addresses will be collected and stored.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tAn optional custom user ID field can be used to store an additional\r\n\t\tfield of information related to a request. The functionality for data\r\n\t\tcapture for this field is defined by the user within the API Analytics\r\n\t\tmiddleware configuration.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tUser account creation for API Analytics is achieved through a generation\r\n\t\tof a unique API key. This API key is required in order to log API\r\n\t\trequests with the Service, access your dashboard or raw data from the\r\n\t\tAPI. Should you lose your API key, you will have no method to access\r\n\t\tyour associated data.\r\n\t</p>\r\n\r\n\t<h2>2. How We Use Information</h2>\r\n\r\n\t<p>\r\n\t\tWe use the information we collect to provide, maintain, and improve the\r\n\t\tService.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tOther than this use, stored data is only every used to populate the\r\n\t\tdashboard on your access, or returned to you via the data API on\r\n\t\trequest.\r\n\t</p>\r\n\r\n\t<h2>3. Sharing and Disclosure of Information</h2>\r\n\r\n\t<p>\r\n\t\tWe do not sell to or share your personal information with third parties.\r\n\t\tHowever, we may disclose your information if required by law or in\r\n\t\tresponse to valid legal requests (e.g., subpoenas or court orders).\r\n\t</p>\r\n\r\n\t<h2>4. Data Retention</h2>\r\n\r\n\t<p>\r\n\t\tWe retain data for as long as necessary to fulfill the purposes outlined\r\n\t\tin this Privacy Policy. At any point, you may delete your account and\r\n\t\tall associated data by going to <a href\r\n\t\t\t>https://apianalytics.dev/delete</a\r\n\t\t> and entering your API key.\r\n\t</p>\r\n\r\n\t<p>\r\n\t\tEvery user account created along with all associated account data is\r\n\t\tscheduled to be deleted automatically after a period of inactivity. This\r\n\t\tis triggered when one of the two following conditions are met:\r\n\t</p>\r\n\t<ul>\r\n\t\t<li>\r\n\t\t\t6 months after the most recent access to the API Analytics dashboard\r\n\t\t\tor data API, OR\r\n\t\t</li>\r\n\t\t<li>3 months after the most recent logged request</li>\r\n\t</ul>\r\n\r\n\t<h2>5. Data Security</h2>\r\n\t<p>\r\n\t\tAll data is stored securely on a private London-based server. We take\r\n\t\tthe security of your data seriously and use appropriate technical and\r\n\t\torganizational measures to protect it. However, no method of\r\n\t\ttransmission over the Internet or method of electronic storage is 100%\r\n\t\tsecure, and we cannot guarantee its absolute security.\r\n\t</p>\r\n\r\n\t<h2>6. Changes to This Privacy Policy</h2>\r\n\t<p>\r\n\t\tWe may update this Privacy Policy from time to time. When we make\r\n\t\tchanges, we will revise the \"Last Updated\" date at the top of this page.\r\n\t\tWe encourage you to review this Privacy Policy periodically for any\r\n\t\tupdates.\r\n\t</p>\r\n</div>\r\n<Footer />\r\n\r\n<style scoped>\r\n\t.privacy-policy-container {\r\n\t\tmax-width: 800px;\r\n\t\tmargin: auto;\r\n\t\tpadding: 4em 2em;\r\n\t\ttext-align: left;\r\n\t\tcolor: white;\r\n\t\tfont-family: 'Noto Sans' sans-serif;\r\n\t}\r\n\tp {\r\n\t\tmargin: 0;\r\n\t\tpadding: 1em 0;\r\n\t}\r\n\r\n\tul {\r\n\t\tlist-style: disc; /* Default bullet points */\r\n\t\tpadding-left: 2em;\r\n\t\tmargin-top: 0;\r\n\t}\r\n\tli {\r\n\t\tpadding: 0.2em 0 0.2em 0.5em;\r\n\t}\r\n\th1 {\r\n\t\tmargin: 1.2em 0 0.5em !important;\r\n\t}\r\n\th2 {\r\n\t\tfont-size: 1.5em;\r\n\t\tmargin: 1.2em 0 0.5em !important;\r\n\t}\r\n\th3 {\r\n\t\tmargin: 2em 0 0.5em !important;\r\n\t}\r\n\ta {\r\n\t\tcolor: var(--highlight);\r\n\t}\r\n\ta:hover {\r\n\t\tcolor: white;\r\n\t}\r\n</style>\r\n","<div class=\"error\">\r\n\t<div class=\"error-code\">\r\n\t\t<div class=\"green-cover\">\r\n\t\t\t<img src=\"img/logo.png\" alt=\"\" />\r\n\t\t</div>\r\n\t\t404\r\n\t</div>\r\n\t<div class=\"message\">Page not found</div>\r\n</div>\r\n\r\n<style scoped>\r\n\t.error {\r\n\t\tmargin-top: 8%;\r\n\t\tdisplay: grid;\r\n\t\tplace-items: center;\r\n\t}\r\n\t.error-code {\r\n\t\tfont-size: 15em;\r\n\t\tfont-weight: 900;\r\n\t\tcolor: var(--highlight);\r\n\t\tposition: relative;\r\n\t\twidth: fit-content;\r\n\t}\r\n\t.green-cover {\r\n\t\tbackground: var(--highlight);\r\n\t\twidth: 0.3em;\r\n\t\theight: 0.6em;\r\n\t\tposition: absolute;\r\n\t\ttop: 30%;\r\n\t\tright: 40%;\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\timg {\r\n\t\tfilter: brightness(0.12);\r\n\t\twidth: 0.32em;\r\n\t\tposition: absolute;\r\n\t\tright: 5%;\r\n\t\ttop: 5%;\r\n\t}\r\n\t.message {\r\n\t\tcolor: var(--highlight);\r\n\t\tfont-size: 1.4em;\r\n\t}\r\n\t@media screen and (max-width: 600px) {\r\n\t\t.error {\r\n\t\t\tfont-size: 0.5em;\r\n\t\t}\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\timport { Router, Route } from 'svelte-routing';\r\n\timport Home from './routes/Home.svelte';\r\n\timport Generate from './routes/Generate.svelte';\r\n\timport SignIn from './routes/SignIn.svelte';\r\n\timport Dashboard from './routes/Dashboard.svelte';\r\n\timport Delete from './routes/Delete.svelte';\r\n\timport Monitoring from './routes/Monitoring.svelte';\r\n\timport PrivacyPolicy from './routes/PrivacyPolicy.svelte';\r\n\timport Error from './routes/Error.svelte';\r\n\r\n\t// Used for SSR. A falsy value is ignored by the Router.\r\n\texport let url = '';\r\n</script>\r\n\r\n<Router {url}>\r\n\t<Route path=\"/\" component={Home} />\r\n\t<Route path=\"/generate\" component={Generate} />\r\n\t<Route path=\"/dashboard\" component={SignIn} page=\"dashboard\" />\r\n\t<Route path=\"/monitoring\" component={SignIn} page=\"monitoring\" />\r\n\t<Route\r\n\t\tpath=\"/dashboard/demo\"\r\n\t\tcomponent={Dashboard}\r\n\t\tdemo={true}\r\n\t\tuserID={null}\r\n\t/>\r\n\t<Route path=\"/dashboard/:userID\" component={Dashboard} demo={false} />\r\n\t<Route path=\"/monitoring/:userID\" component={Monitoring} />\r\n\t<Route path=\"/delete\" component={Delete} />\r\n\t<Route path=\"/privacy-policy\" component={PrivacyPolicy} />\r\n\t<Route path=\"/:err\" component={Error} />\r\n</Router>\r\n\r\n<style>\r\n</style>\r\n","import App from './App.svelte';\r\nnew App({\r\n    target: document.getElementById('app'),\r\n    hydrate: true,\r\n});\r\n"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","src_url_equal_anchor","src_url_equal","element_src","url","document","createElement","href","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","exclude_internal_props","props","result","current_component","is_hydrating","upper_bound","low","high","key","value","mid","append_hydration","target","node","hydrate_init","children","childNodes","nodeName","myChildren","claim_order","m","Int32Array","longest","current","seqLen","idx","newLen","lis","toMove","last","cur","reverse","sort","j","anchor","insertBefore","init_hydrate","actual_end_child","parentNode","firstChild","nextSibling","appendChild","insert","insert_hydration","detach","removeChild","destroy_each","iterations","detaching","d","element","name","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","removeAttribute","getAttribute","setAttribute","Array","from","init_claim_info","nodes","claim_info","last_index","total_claimed","claim_node","predicate","processNode","createNode","dontUpdateLastIndex","resultNode","replacement","splice","claim_element_base","attributes","create_element","remove","v","claim_element","claim_svg_element","claim_text","nodeType","dataStr","startsWith","splitText","claim_space","find_comment","start","textContent","trim","set_data","set_input_value","input","set_style","important","style","removeProperty","setProperty","toggle_class","toggle","classList","HtmlTag","constructor","is_svg","this","e","n","c","html","h","t","tagName","content","innerHTML","HtmlTagHydration","claimed_nodes","super","l","construct_svelte_component","set_current_component","get_current_component","Error","onMount","on_mount","setContext","context","set","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","add_flush_callback","seen_callbacks","Set","flushidx","flush","saved_component","update","pop","has","add","clear","fragment","before_update","after_update","outroing","outros","group_outros","r","check_outros","transition_in","block","local","delete","transition_out","o","get_spread_object","spread_props","bind","index","bound","create_component","claim_component","parent_nodes","mount_component","customElement","new_on_destroy","map","filter","destroy_component","filtered","targets","indexOf","flush_render_callbacks","make_dirty","then","fill","init","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","Map","skip_bound","root","ready","ret","rest","hydrate","intro","SvelteComponent","$destroy","$on","type","$set","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","invalidate","size","derived","stores","initial_value","single","isArray","stores_array","auto","started","values","pending","cleanup","sync","unsubscribers","LOCATION","ROUTER","getLocation","source","location","state","history","globalHistory","listeners","listener","popstateListener","action","navigate","to","replace","Date","now","replaceState","pushState","createHistory","Boolean","window","initialPathname","stack","pathname","search","states","entries","_","uri","split","createMemorySource","paramRe","SEGMENT_POINTS","STATIC_POINTS","DYNAMIC_POINTS","SPLAT_PENALTY","ROOT_POINTS","isSplat","segment","segmentize","stripSlashes","str","rankRoute","route","score","default","path","reduce","isRootSegment","test","isDynamic","pick","routes","match","default_","uriPathname","uriSegments","isRootUri","ranked","rankRoutes","missed","params","routeSegments","routeSegment","uriSegment","decodeURIComponent","join","dynamicMatch","exec","combinePaths","basepath","locationContext","routerContext","activeRoute","hasActiveRoute","base","routerBase","registerRoute","$base","_path","matchingRoute","$location","rs","unregisterRoute","bestMatch","$routes","levels","updates","to_null_out","accounted_for","if_block","create_if_block","routeParams","routeProps","$activeRoute","$$invalidate","translation","animate","getElementById","transform","setTimeout","div6","div5","div3","h1","h2","div2","a0","div0","span","a1","div1","div4","img0","img1","img2","img1_src_value","title","description","img","frameworkExamples","Django","install","codeFile","example","Flask","FastAPI","Tornado","Express","Fastify","Koa","Gin","Echo","Fiber","Chi","Actix","Axum","Rocket","Rails","Sinatra","Laravel","framework","button","code","t10_value","t14_value","nodeId","head","comment","start_index","end_index","html_tag_nodes","link","script","div13","div12","div11","div10","div7","div8","div9","t10","t14","setFramework","currentFramework","frameworks","language","serverURL","columns","ColumnIndex","graphColors","button0","button1","button2","button3","button4","generatedKey","apiKey","submit","setState","response","fetch","status","json","console","log","keyCode","navigator","clipboard","writeText","create_if_block_1","userID","page","replaceAll","periodToDays","period","periodToMarkers","dateInPeriod","date","days","periodAgo","setDate","getDate","toLocaleString","create_if_block_2","t3","t3_value","div","t1_value","abs","toFixed","create_if_block_3","create_if_block_4","t1","t_value","lines","x","y","CreatedAt","getTime","range","diff","floor","marker","color","showlegend","line","shape","smoothing","fillcolor","genPlot","plotData","layout","autosize","margin","pad","hovermode","plot_bgcolor","paper_bgcolor","height","yaxis","gridcolor","showgrid","fixedrange","dragmode","xaxis","visible","config","responsive","showSendToCloud","displayModeBar","requestsPlotData","Plotly","newPlot","plotDiv","build","percentageChange","prevData","getPercentageChange","requestsPerHour","getRequestsPerHour","perHour","$$value","loading","t0","t0_value","t2","t2_value","t4","t4_value","quantile","arr","q","pos","defaultLayout","responseTimes","ResponseTime","LQ","median","UQ","responseTimesFreq","responseTime","round","counts","times","Number","minResponseTime","min","maxResponseTime","hovertemplate","bars","buildPlotData","getUserIdentifier","request","_a","_b","IPAddress","UserID","toString","uniqueUsers","usersPlotData","getUsers","users","numUsers","prevNumUsers","prev","usersPerHour","count","div2_title_value","methodMap","setTargetEndpoint","endpoint","targetPath","targetStatus","endpoints","getEndpoints","freq","endpointID","Path","Status","Method","endpointFreq","freqArr","maxCount","activeBtn","setBtn","endpointsRendered","successRatePlotData","successRate","requests","total","successful","initFreqMap","genValue","setSeconds","setMinutes","getMinutes","setHours","barmode","requestFreq","userFreq","ipAddress","time","requestFreqArr","requestsCount","userCount","requestCount","dates","requestsText","usersText","totalResponseTime","responseTimeArr","point","avgResponseTime","minAvgResponseTime","POSITIVE_INFINITY","div_class_value","div_title_value","daysAgoTime","hoursAgoTime","getSuccessRate","success","successArr","minDate","hours","differenceInMilliseconds","daysAgo","versions","getVersions","pieChart","getPlotData","versionCount","version","labels","colors","getHours","hour","concat","theta","font","polar","bargap","bgcolor","angularaxis","direction","radialaxis","each_value","getFlagEmoji","countryCodeToName","frequency","countryCode","codePoints","toUpperCase","char","charCodeAt","String","fromCodePoint","Intl","DisplayNames","of","locations","locationsFreq","Location","getLocationBars","targetLocation","cachedFunction","func","cache","maintainCandidates","indexUpdated","candidates","matches","clientPlotLayout","monthAgo","tomorrow","width","clientCandidates","regex","getClient","userAgent","candidate","clientCount","clientGetter","client","getUserAgent","UserAgent","dataPoints","clients","osPlotLayout","osCandidates","getOS","osCount","osGetter","os","oss","deviceCandidates","getDevice","deviceCount","deviceGetter","device","devices","browser","dispatchEvent","Event","randomChoice","rnd","random","findIndex","userAgents","userAgentDist","getUserAgents","userAgentsMapping","hoursDist","getDemoHour","ipAddresses","ipAddressesDist","userIDs","getUserID","randInt","locationsDist","hostnames","hostnamesDist","getHostname","daysToSeconds","distribution","outages","secondsAgo","Distribution","Uniform","Poisson","lambda","T","sampleNextEventTime","nEvents","samplePoisson","Normal","randn_bm","outage","addDemoSamples","demoData","method","skew","u","num","sqrt","cos","PI","pow","scaleRange","scale","genDemoData","demoRequests","maxDaysAgo","maxRange","v1ResponseTime","v2ResponseTime","v3ResponseTime","notFoundResponseTime","user","createUniformBaselineSamples","createVariableBaselineSamples","createVariableUsageSamples","createErrorSamples","user_agents","formatUUID","hideOptions","input_1","removeItem","item","newItems","items","placeholder","charAt","addItem","hostname","targetEndpoint","t17_value","hiddenEndpoints","list_props","span0","span1","span4","span2","span3","apply","arguments","t8","t8_value","t11","t11_value","t17","t20","t20_value","list_changes","container","stopImmediatePropagation","show","settings","exportCSV","disable404","$$self","svg","selectOption","option","selected","defaultOption","message","convertLineToCSV","csv","convertToCSV","exportedFilename","toJSON","blob","Blob","download","URL","createObjectURL","visibility","body","click","reason","table","thead","tr","th0","th1","th2","tbody","th","td","t5_value","td0","td1","td2","t5","customUserID","createdAt","totalUsers","topUserRequestsCount","getTopUserRequestsCount","topUsers","customUserIDActive","userIDActive","previous","endpoints_props","version_props","location_props","successrate_changes","requests_changes","users_changes","responsetimes_changes","endpoints_changes","version_changes","activity_changes","location_changes","device_changes","usagetime_changes","topusers_changes","dropdown_props","dropdown_changes","pageSize","allTimePeriod","getPeriodData","inRange","getInRange","inPrevRange","startPeriodAgo","endPeriodAgo","dateInPrevPeriod","getInPrevRange","Hostname","isHiddenEndpoint","setPeriodData","periodData","firstChar","lastChar","wildCardMatch","setPeriod","getHostnames","hostnameFreq","setHostnames","parseDates","showSettings","fetchFailed","async","fetchAdditionalPage","signal","AbortSignal","timeout","demo","ok","fetchData","getDashboardData","sortByTime","id","markers","setup","label","prefix","t6_value","if_block1","a_href_value","t6","triggerNotificationMessage","notification","setSamples","samples","sampledData","sample","periodSample","separatedURL","latest","currentStatus","anyError","setCurrentStatus","uptime","per","setUptime","removeMonitor","headers","JSON","stringify","user_id","b0","b1","getFullURL","secure","urlPrefix","showTrackNew","monitorCount","addEmptyMonitor","fullURL","ping","each_blocks","tracknew_changes","error","periods","_period","p0","p1","h20","p2","ul0","li0","li1","li2","li3","li4","li5","li6","li7","li8","h3","p3","p4","p5","p6","h21","p7","p8","h22","p9","h23","p10","p11","ul1","li9","li10","h24","p12","h25","p13","Home","Generate","SignIn","Dashboard","Monitoring","Delete","PrivacyPolicy"],"mappings":"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"}